# Copyright:    Public domain.
# Filename:     YUL_SYSTEM_ASSEMBLER_--_PASS_1.mitigus
# Purpose:      Part of the source code for YUL (revision 9).
# Assembler:    TBD
# Contact:      Jim Lawton <jim.lawton@gmail.com>
# Website:      https://www.ibiblio.org/apollo/index.html
# Page scans:   https://archive.org/details/yulsystemsourcec00hugh
# Pages:        153-210
# Mod history:  2016-10-06 JL   Created.
#               2016-11-15 JL   Transcribed pages 153-162.
#               2016-11-16 JL   Transcribed pages 163-169.
#               2016-11-19 JL   Transcribed pages 170-180.
#               2016-11-20 JL   Transcribed pages 181-183.
#               2016-11-22 JL   Transcribed pages 184-187.
#               2016-11-23 JL   Transcribed pages 188-195.
#               2016-11-25 JL   Transcribed pages 196-210.

# Annotations:
#
#   B L A I R - S M I T H
#    Y U L   S Y S T E M
#
#       Listings in
#    MITIGUS  Format
#

# Note: Page numbers are scan page numbers rather than listing.

L      @YUL SYSTEM ASSEMBLER -- PASS 1

# Page 153
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   1        PAGE   1

R000001 WE ARE DEEPLY INDEBTED TO THE ONE, THE ONLY, THE GREAT JOHN SHAW FOR THE FOLLOWING STRONG MAGIC.....
R0002   JSOCTL



 0003              SETLOC,1C    0             B1



 0004              MASKGRP,1    S,0           F,0



R0005              YUL SYSTEM PASS 1 READS CARDS ONLY (NEW ASSEMBLY), OR MERGES CARDS WITH SYPT OR SYLT RECORDS (REVI-
R0007   SION OR VERSION ASSEMBLY).  ONE-SHOT MODIFICATION OF SUBPROGRAMS WILL BE ALLOWED SOME DAY, CARDS BEING MERGED
R0009   WITH SYLT RECORDS BUT NO PERMANENT CHANGES BEING MADE IN THE SYLT.  CORRECT ORDERING OF CARD NUMBERS IS REQUIRED
R0011   (ON PAIN OF CUSSING IN NEW ASSEMBLY, OR REJECTION OF ALL INPUT IN REVISION OR VERSION ASSEMBLY).

R0015              PASS 1 COPIES SYPTSAVES AND SYLTSAVES FROM TAPE 1 TO TAPE 3, AND BYPTSAVES FROM TAPE 1 TO TAPE 4.
R0017   IT ALSO WRITES POPO (PASS ONE PROGRAM OUTPUT) RECORDS ON TAPE 2.  ITS CHIEF OPERATIONS ON SOME IMPORTANT TYPES
R0019   OF CARDS ARE LISTED BELOW:

R0020           1) INSTRUCTIONS AND CONSTANTS.   PROCESSING OF LOCATION FIELD (GENERALLY AFFECTING THE LOCATION COUNTER)
R0022              AND DEFINITION OF LOCATION SYMBOL ARE DONE.  FIXED MEMORY IS RESERVED AS NEEDED.  LEFTOVERS ARE
R0024              MARKED AS SUCH.  15 BITS OF CODED INFORMATION (MOSTLY OP CODE) ARE ATTACHED TO INSTRUCTION CARDS.

R0026           2) IS,=,EQUALS.   AN ATTEMPT IS MADE TO DEFINE THE LOCATION SYMBOL BY EVALUATING THE ADDRESS FIELD.
R0028              FAILURE OF THIS OPERATION BY REASON OF AN UNDEFINED ADDRESS SYMBOL "NEARLY DEFINES" THE SYMBOL.

R0030           3) ERASE.   ERASABLE MEMORY IS RESERVED AS REQUESTED. EXCEPT FOR LEFTOVER ERASE CARDS.

R0032           4) OTHER CLERICAL CODES.   THESE GENERALLY HAVE THEIR EFFECT IN PASS 1 (E.G. MANIPULATING THE LOCATION
R0034              COUNTER).

# Page 154
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   2        PAGE   2

P0035   INTERPASS STORAGE.  63 WORDS.



 0036   PROG NAME  RESERVE      1
 0037   NEXT NAME  RESERVE      1
 0038   SWITCH     RESERVE      1
 0039   L OLD LINE RESERVE      1

 0040   OLD LINE   RESERVE      16
 0041   PAGE HEAD  RESERVE      16

 0042   PAGE NO    RESERVE      1
 0044   SYM PLACE  RESERVE      1
 0045   SYM TAB XS RESERVE      1
 0046   L COP BUFS RESERVE      1

 0048   MID POINT  RESERVE      1
 0049   LIN COUNT  RESERVE      1
 0050   N WD RECS  RESERVE      1
 0051   E SYLT BAN RESERVE      1

 0052   L PROG FIL RESERVE      1
 0053   N LINES    RESERVE      1
 0054   L COMP NAM RESERVE      1
 0055   N COPIES   RESERVE      1

 0056   PAPER PLY  RESERVE      1
 00561  ERR PAGES  RESERVE      1
 00562  N ERR LINS RESERVE      1
 00563  L AUTH NAM RESERVE      1

 00564  SORS NAME  RESERVE      1
 00565  COMPUTER   RESERVE      1
 00568  SEG OWNER  RESERVE      1

 00569  SUBSTRAB   RESERVE      8



R0057              THE FOLLOWING INSTRUCTION IS PLACED AT THE BASE ADDRESS (10077) OF PASS 1 FOR CONVENIENCE.

 0059   YUL PASS 1 TS           P1 MASKS      Z.MXR         INISH P1            INITIALIZATION CONTINUED ON PAGE 66.

R006004 SIMULATED EXTENDED TS ROUTINE, PLACED HERE TO TAKE ADVANTAGE OF THE 7.

 00601  ETS        EQUALS       YUL PASS 1
 00602             SWS, C7T8    ETS           12            C,+2           C    ADDRESS OF REGISTER TO BE LOADED.
 00604             EX           N,AU1         CAC 3         ETS            C    INPUT IS 16 BITS.
 00606             EBA          ETS           BIT 25        Z,0            C    OUTPUT IS 24 BITS.
 00608             NA           Z,CSH         Z,SC          N,AU2          C
 00609             TX           Z,AU2         -             Z,SC           S    EXIT IN SAME MODE AS ENTRY.

# Page 155
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   3        PAGE   3

P0061   TRANSFER VECTOR ENTRIES 69 ONWARD.  (TRANSFER VECTOR BEGINS WITH PROGNAME.)

 006104 BIT 32     DEC          -1 0000
 006108 BIT 45 NOT OCT          -177767
 006112 TWO        OCT          -2
 006116 NINE       DEC          -9

 00612  FREE NTRY  OCT          -133760
 006124 FREE EXIT  OCT          -133760
 006128 SAPO NTRY  OCT          - 33777

 006132 P1 MASKS   MASKBASE     S,0           F,0                               CAC2 HOLDS L NEXT SUB.
 006134 END PARAS  DEC          +GGGG
 006136 END YUL    ALF,3        END YUL PASS 1  PASS 1 ≠


R00614  ROUTINE FOR ALL UNMANAGEABLE TROUBLES.

 006144 DISASTER   MPC,H        Z,1           301           MON PCR             IMITATE THE ACTION OF A BACKGROUND.
 006148            ALF          DISASTER


R006152 SUBROUTINE TO DELIVER THE NAME OF A FREE BUFFER IN AU1.  SLEEPS WHILE WAITING IF NEED BE. COSEQUENCE IN AND OUT.

 006156 GRAB FREE  TS           Z,CSH         Z,AU2         C,+3           C    SAVE RETURN ADDRESS.
 00616             TS           N,R7          Z,AU1         C,+4           C    FETCH NAME OF BUFFER.
 006164            TS           Z,SC          Z,AU1         CSC SLEEP      S    SLEEP IF THERE ARE NO FREE BUFFERS.
 006168            TS           FREE EXIT     Z,R7          -              C
 006172            SSL,ONE      N,R7          16            C,-3           C    TEST WHETHER THERE IS A FREE BUFFER.
 006176            TS           BIT 32        N,R7,1        -              C    PLANT BUSY FLAG IN FREE LIST.
 00618             EX           Z,R7          BIT 45 NOT    FREE EXIT      C    MODULATE FREE LIST EXIT POINTER.
 006184            TX           Z,AU2         -             Z,CSC          C


R006188 CLOSED SUBROUTINE TO DEMOTE A BUFFER IN JOINT STATUS TO INPUT OR SAVE STATUS, OR FREE A BUFFER WITHOUT JOINT
R006192 STATUS.  IF BUFFER IS KNOWN NOT TO BE IN JOINT STATUS, ENTER AT SET FREE.  PROVIDE BUFFER NAME IN Z,SH.

 006196 FREE IN SV TS           JOINT XIT     Z,R7          -              C
 0062              LA           Z,SH          N,R7          C,+2           C    BRANCH IF BUFFER MIGHT BE IN JOINT STAT.
 006204            TS           FREE NTRY     Z,R7          SET FREE +1    C    OTHERWISE PUT NAME INTO FREE LIST.
 006208            LA           N,R7          Z,SH          DISJOINT       C    BRANCH IF BUFFER IS IN JOINT STATUS.

 006212 SET FREE   TS           FREE NTRY     Z,R7          -              C    OTHERWISE PUT NAME INTO FREE LIST.
 006216            TS           Z,SH          N,R7,1        -              C
 00622             EX           Z,R7          BIT 45 NOT    FREE NTRY      C    MODULATE FREE LIST ENTRY POINTER.
 006224            TS           Z,SC          Z,CSC         MON WAKE       C

 006228 DISJOINT   TS           ZERO          N,R7,1        -              C    REPLACE IN JOINT LIST WITH VOID FLAG.
 006232            SM           Z,R7          BIT 46 R      JOINT XIT      S    MODULATE JOINT LIST EXIT POINTER, EXIT.


R006236 MINOR SUBROUTINE TO SLEEP IN COSEQUENCE MODE.

 00624  CSC SLEEP  TS           -             -             MON SLEEP      C
 006244            TS           Z,AU1         Z,SC          N,SH           C

# Page 156
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   4        PAGE   4

P006248*           MASKS FOR MAIN PART OF PASS 1.



 006249*        DELETE
 0063   B,BIT2     OCT          2
 0064   MERJ MODE  EQUALS       BIT 2
 0065   B,BIT3     OCT          1
 0066   TAPE KEPT  EQUALS       BIT 3
 0067   B,BIT5     OCT          02
 0068   KNOW SUBS  EQUALS       BIT 5
 0069   B,BIT6     OCT          01
 0070   CORRECT    EQUALS       BIT 6                                           FIELD AND SHIFT MASKS 1-4.

 0072   B,BIT8     OCT          002
 0074   B,BIT9     OCT          001
 0075   B,BIT10    OCT          0004
 0076   B,BIT11    OCT          0002                                            FIELD AND SHIFT MASKS 5-8.

 0078   B,BIT12    OCT          0001
 0079   B,BIT13    OCT          0000 4
 0080   B,BIT14    OCT          0000 2
 0081   B,BIT16    OCT          0000 04                                         FIELD AND SHIFT MASKS 9-12.

 0083   B,BIT37    OCT          -4000
 0084   B,BIT43    OCT          -40
 0085   B,B2B6     OCT          21
 0086   B,B3T6     OCT          17                                              FIELD AND SHIFT MASKS 13-16.

 0088   B,B8B17    OCT          0020 02
 0089   B,B12B14   OCT          0001 2
 0090   B,B25T27   OCT          -7000 0000
 0091   L STYPE    EQUALS       B25T27
 0092   B,CHAR7    OCT          -7700                                           FIELD AND SHIFT MASKS 17-20.

 0094   B,D8       DEC          -G 0000
 0095   B,D12      DEC          -G
 0096   B,CHAR1    OCT          77
 0097   CD TYPE    EQUALS       CHAR1
 0098   B,CHAR2    OCT          0077                                            FIELD AND SHIFT MASKS 21-24.

 0100   B,CHAR8    OCT          -77
 0101   B,C1T6     OCT          7777 7777 7777
 0102   B,C2T7     OCT          0077 7777 7777 77
 0103   B,C2T8     OCT          0077 7777 7777 7777
 0104   FIX MAG    EQUALS       C2T8                                            FIELD AND SHIFT MASKS 25-28.

 0106   B,CAC3     DEC          -GGGG
 0107   B,CACN     OCT          0
 0108   ALF MASK   EQUALS       CACN
 0109   B,SPECMAG  OCT          -7 7777
 0110   B,DATEMASK OCT          -77 7700 7777                                   FIELD AND SHIFT MASKS 29-32.

# Page 157
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   5        PAGE   5

P0112   SHIFT MASKS, PASS 1.

 0113   S,BIT1     OCT          4
 0114   S,BIT46R   OCT          -4
 0115   S,B5T6     OCT          03
 0116   S,B19T25   OCT          0000 0077 4                                     SHIFT MASKS 33-36.

 0118   S,B22T25   OCT          0000 0007 4
 0119   S,B22T32   OCT          0000 0007 7760
 0120   S,B25T30   OCT          -7700 0000
 0121   S,B26T30   OCT          -3700 0000                                      SHIFT MASKS 37-40.

 0123   S,C7T8     OCT          -7777
 0124   S,D7       DEC          -G0 0000
 0125   S,CAC23    DEC          -GGGG GGGG
 0126   S,CAC2     DEC          0000 GGGG                                       SHIFT MASKS 41-44.

 0128   S,CAC12    DEC          GGGG GGGG
 0129   S,ONE      OCT          -1
 0130   S,ONES     DEC          GGGG GGGG GGGG
 0131   S,OCTMASK  OCT          -7777 7770                                      SHIFT MASKS 45-48.

 0133   S,YYNNYYYY OCT          7777 0000 7777 7777
 0134   S,THREAD10 OCT          -3776
 0135   S,D4       DEC          000G
 0136   S,PROGSUB  OCT          001                                             SOME PARAPROGRAM FIELD MASKS.

 0138   S,B7T13    OCT          00774
 0139   S,KNEWSUBS OCT          02
 0140   S,CAC3R    OCT          -177777
 0141   S,BIT 36R  OCT          -1 0000

 0142   S,C1T4     OCT          7777 7777
 0143   S,BIT44    OCT          -20
 0144   S,BIT4     OCT          04
 0145   S,B38T48   OCT          -3777

 0147   S, LOW5    OCT          -37
 0148   S,BIT12R   OCT          0001
 0149   S,C5T8     DEC          -GGG GGG
 0150   S,ACO2     OCT          0007

# Page 158
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   6        PAGE   6

P0151              DEFINITIONS OF SYMBOLS, CONSTANTS, VARIABLE AND TEMPORARY STORAGES, ETC. FOR THE MAIN (GROUP A) PART
R0153   OF PASS 1.  THIS PAGE: ASSIGNMENTS AND VARIABLE STORAGE RESERVATIONS.

 0155   HEALTH     ASSIGN       0,0
 0156   CARDNO WD  ASSIGN       0,1
 0157   LOC FIELD  ASSIGN       0,2
 0158   OP FIELD   ASSIGN       0,3
 0159   ADDRESS 1  ASSIGN       0,4
 0160   ADDRESS 2  ASSIGN       0,5
 0161   DATE WORD  ASSIGN       0,9

 016105 PHI TAPE   ASSIGN       7,1
 01611  MON SNACH  ASSIGN       7,2
 0162   MON PEEK   ASSIGN       7,3
 0163   EOR        ASSIGN       7,4
 0164   PHI LOAD   ASSIGN       7,7
 0166   MON READ   ASSIGN       7,15
 0168   MON SENTR  ASSIGN       7,40
 016802 MON A2D    ASSIGN       7,41
 0169   BASE ADDR  ASSIGN       7,47
 016904 MON WAKE   ASSIGN       7,99
 016905 DISCAP     ASSIGN       7,114
 016906 MON SLEEP  ASSIGN       7,166
 016909 DISC STAT  ASSIGN       7,210
 01691  MON TYPER  ASSIGN       7,215
 016915 MON PCR    ASSIGN       7,220
 016916 DISC CHEK  ASSIGN       7,221
 01692  MON TADDR  ASSIGN       7,223
 01695  DISC READ  ASSIGN       7,239

 0171   RL CD HLTH RESERVE      1
 0172   REAL CARD  RESERVE      10
 0173   PROC RTRN  RESERVE      1
 0174   CARD NO    RESERVE      1

 0175   CN LIMIT   RESERVE      1
 0176   COMMON     RESERVE      10
 0177   TP CD HLTH RESERVE      1
 0178   TAPE CARD  RESERVE      10

 0179   FIELD COD  RESERVE      2
 0180   ADR WD     RESERVE      2
 0181   SAVE LOC   RESERVE      1
 0182   LOC VALUE  RESERVE      1

 0184   LOC CTR    RESERVE      1
 0185   POB PLACE  RESERVE      1
 0186   INB PLACE  RESERVE      1

 0187   POPO SUFF  RESERVE      1
 0188   END POBUF  RESERVE      1
 0190   END TYP TA RESERVE      1
 0191   MERJ RTRN  RESERVE      1
 0192   AVAIL MSK  RESERVE      1
 0193   DIG FILE   RESERVE      8

# Page 159
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   7        PAGE   7

P0194   NUMERIC CONSTANTS -- FIRST OF TWO PAGES.



 0195   BIT 20     DEC          00001
 0196   (REMARK)   OCT          06
 0197   BIT 45     DEC          -8
 0199   B43T44     OCT          -60

 01999  BIT 23     OCT          0000 0002
 0200   BIT 24     OCT          0000 0001
 0203   SIX        OCT          -6
 0204   REAL CDNO  OCT          0
 0205   BIT 7      OCT          004

 0207   TAPE CDNO  OCT          0
 0208   (DELETE)   OCT          05

 0209   (RIGHT P)  OCT          07
 0211   (MEMORY)   OCT          11
 0212   SPEC SIGN  OCT          -10 0000

 0213   STARMSKS   OCT          77, 0077, 0000 77, 0000 0077
 0214              OCT          -7700 0000, -77 0000

 0215   (INSTR)    OCT          12
 0216   (ILLOP)    OCT          13
 0217   (DECML)    OCT          14
 0218   (OCTAL)    OCT          15

 0219   XFORMS     DEC          468 9B5 318 G
 02195             DEC          47C DEG 42F 2
 0220              DEC          47C DEG 42F 2
 02205             DEC          C7C DE6 42C 4
 0221              DEC          C7C DE7 42C 4
 02215             DEC          07C DEG 62G G
 0222              DEC          37C DEG 42C 7
 02225             DEC          37C DEG 42C 7
 0223              DEC          1CC FFG C2C C
 02235             DEC          3DF DFG D2F D
 0224              DEC          3EF FEG E2F E
 02245             DEC          1CC FFG C2C C
 0225              DEC          3DF DFG D2F D
 02255             DEC          3EF FEG E2F E
 0226              DEC          1FF FFG F2F F
 02265             DEC          1GG GGG G2G G

# Page 160
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   8        PAGE   8

P0227   NUMERIC CONSTANTS -- SECOND OF TWO PAGES.

 022799 LAST CDNO  ALF          00000000
 0228   TYPE E     OCT          -4000 0000                                      TYPE E TERMINATES A2D CONV OF LAST CDNO.
 0229   TYPE F     OCT          -2000 0000
 0230   TYPE N     OCT          -1000 0000

 0231   (EQUALS)   OCT          16
 0232   B5 B8 B10  OCT          0224
 0233   BIT 15     OCT          0000 1
 02335  BIT 31     OCT          -40 0000
 0238   THREE      OCT          -3

 0239   (2DECML)   OCT          22
 0240   (HEAD)     OCT          24
 0241   (2LATE)    OCT          25
 0242   (BLOCK)    OCT          23
 0243   (SUBRO)    OCT          26
 02431  (NW INST)  OCT          27
 02432  (EVEN)     OCT          30
 02433  (COUNT)    OCT          31
 02434  (INCINS)   OCT          042                                             LIKE AN ACCEPTOR WITH A DEFECT: NO @.
 02435  (SEGNUM)   OCT          32
 0244   MAX CARDN  DEC          0999898
 0245   DEC ALF M1 DEC          -GG0 000 GG0
 0246   DEC ALF M2 DEC          03D 03D 03D 03D
 0247   B24 B32    OCT          -1 0020 0000
 0248   B8T48      DEC          -1GG GGGG GGGG
 0250   C253       FXBIN        -253
 0251   BIT 17     DEC          0000 8
 02511  BIT 18     OCT          0000 01
 02512  BIT 19     OCT          0000 004
 0252   3 D8       DEC          -30000
 0253   5D8        DEC          -5 0000
 0254   DD8        DEC          -D 0000
 0255   B25T26     OCT          -6000 0000
 02561  BAD1 BITS  DEC          00277

# Page 161
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.   9        PAGE   9

P0257   ALPHABETIC CONSTANTS -- FIRST OF TWO PAGES.

 02571  PARP NAME  ALF          ????PAS1
 02572  PASS 2     ALF          YULPASS2
 02573  P1 EPILOG  ALF          YULENDP1

 0258   (END OF)   ALF          00000000
 0259   END OF 1   OCT          7611 1111 1111 1150
 0260              ALF,4
 0261              ALF,4
 0262   BLANKS     ALF
# The following line makes a string of "blots", non-ASCII characters.
# I have chosen to represent them as the ASCII "block" character, Unicode 9608.
 0263   BLOTS      ALF          ████████
 0264   W INSERT   ALF           INSERT
 0265   AMPRSANS   ALF          &&&&&&&&
 0266   A999999    ALF          09999990
 0267   W MODIFY   ALF           MODIFY
 0268   ASTRISKS   ALF          ********
 0269   W SQBRMIN  ALF          0SEQBRK-
 0270   W CARDNO   ALF           CARDNO
 02701  W CARDNS   ALF           CARDNS
 0271   W CORRECT  ALF          CORRECT
 0272   W CHANGE   ALF          CHANGE
 0273   END ERR M  ALF,5        20000000<██████MTHE FOLLOWING CARDS ARE
 0274              ALF,5        REJECTED BECAUSE THEY COULDN'T BE MERGED
 0275              ALF          :
 0276   INC INSRT  ALF,4        E██████AINCOMPLETE INSERTION

# Page 162
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  10        PAGE  10

P0277   ALPHABETIC CONSTANTS -- SECOND OF TWO PAGES.

 0278   DOLLARS    ALF          $$$$$$$$
 0279   W DELETE   ALF           DELETE
 0280   W PRESERV  ALF          PRESERVE
 0281   DASHES     ALF          --------
 0282   WH PLY MSG ALF,2        WHAT PLY PAPER½½
 02821  WAA 10060  ALF,3        W   A   A10060  0000000P
 0283   OP SLP MSG ALF,2        OPERATOR ASLEEP
 0284   W THROUGH  ALF          THROUGH
 0285   W TO       ALF          TO
 0286   W SEQBRAK  ALF          SEQBREAK
 02862  W SEQBRK   ALF          SEQBRK
 0287   W MEMORY   ALF           MEMORY
 02875  W SEGNUM   ALF           SEGNUM
 0288   W THRU     ALF          THRU
 0289   W BEGIN    ALF          BEGIN
 02891  W END      ALF          END
 0290   W ST TYPES ALF,3        ERASABLEFIXED   SPEC/NON
 0291   HEAD       ALF
 0292   W ANYWHAR  ALF          ANYWHERE
 0293   W LOG      ALF          LOG
 0294   W OUTOSEQ  ALF          OUTOFSEQ
 0295   TASK REJ   ALF,5        E██████ATHIS TASK IS REJECTED. RESUBMIT
 0296              ALF,5        CORRECTED DECK WITH SAME DIRECTOR CARD.
 0297   W WITH     ALF          WITH
 0298   POINT C1   ALF          .
 0299   W OWNER EQ ALF,2        OWNER = ????????

# Page 163
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  11        PAGE  11

P0300   ADDRESS CONSTANTS.



 0301   L END OF   CAC          9216                        (END OF)            ALSO R COLUMN 1.
 0303   L END P1   CAC          8192                        END PASS 1          ALSO Q COLUMN 1.
 0305   L GET REAL CAC          7168                        GET REAL            ALSO P COLUMN 1.
 0307   L END ERRM CAC          3072                        END ERR M           ALSO L COLUMN 1.
 0309   L COMP CNS CAC          1024                        COMP CDNS           ALSO J COLUMN 1.

 03101  L SEND DEL SPEC                                     SEND DELF
 0311   L CARD W9  SPEC                                     REAL CARD +9
 0312   L SUB RJUS SPEC                                     SUB RJUST
 0313   ST TAB MAX SPEC,B5                                  927

 0314   SOURCE     CAC          15043         TAPE CARD -1  REAL CARD -1
 0315   N L CHAR 6 SPEC                                     STARMSKS +6    -
 0316   L NEXT SUB RESERVE      1
 0317   L XFORMS   SPEC                                     XFORM

 0318   L DIG FILE SPEC                                     DIG FILE
 0319   L SYM THR  SPEC, B5                                 836
 03191  LL SUB TAB SPEC, B5                                 849
 0320   L TYP TAB  SPEC, B5                                 900
 0321   L AV TABLE SPEC,B4                                  DAMN ZERO

 0322   L PRSV CNS CAC          INSRT LUP                   PRESERVE
 032201 L INSRT LP EQUALS       L PRSV CNS
# Annotation: Handwritten insert.
#0322.9 L DIRECTY  SPEC, B7                                 DAMN ZERO
 0323   L END THR  SPEC, B7                                 6
 0324   MON WAA    SPEC, B7                                 600
 0326   L LAST CNO SPEC                                     LAST CDNO
 0327   L DISASTR  SPEC                                     DISASTER

 0333   JOINT XIT  OCT          -33757
 0334   RL TYP TAB SPEC, B2                                 2000
 0335   L FIND CDN SPEC                                     FIND CDNO
 0336   L BOTH CDS CAC          24576         TAPE CARD +1  REAL CARD +1        ALSO Y COLUMN 1.

# Page 164
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  12        PAGE  12

P0338   EQUIVALENCES.

 0339   ZERO       EQUALS       (END OF)
 0340   CHAR 6     EQUALS       STAR MSKS +5
 0341   (MODIFY)   EQUALS       BIT 6
 0342   (CARD NO)  EQUALS       B5T6

 0343   P COLUMN 1 EQUALS       L GET REAL
 0344   L COLUMN 1 EQUALS       L END ERR M
 03441  T COLUMN 1 EQUALS       W THRU
 0345   R COLUMN 1 EQUALS       L END OF

 0346   LOW LIM    EQUALS       ADR WD
 0347   HI LIM     EQUALS       ADR WD +1
 0348   (ALIREM)   EQUALS       BIT 3
 0349   TN MASK    EQUALS       COMMON +8

 0350   COUNT FLD  EQUALS       B25T30
 0351   J COLUMN 1 EQUALS       L COMP CNS
 0352   LOC STATE  EQUALS       COMMON +9
 0353   (SETLOC)   EQUALS       B3T6

 0354   INRECNT    EQUALS       SUBSTRAB +5
 0355   LOC LOC    EQUALS       COMMON +7
 0356   (ERASE)    EQUALS       BIT 2
 0358   (2CTAL)    EQUALS       B2B6
 0359   TEN C1     EQUALS       (INSTR)
 0360   DAMN ZERO  EQUALS       0
 0361   INPUT NAM  EQUALS       SUBSTRAB +6

 0362   AFIELD     EQUALS       COMMON +4
 0363   EIGHT      EQUALS       BIT 45
 0364   UNSIG NUM  EQUALS       (BLOCK)
 0365   DC1        EQUALS       (HEAD)
 0366   ALF 9 C1   EQUALS       (MEMORY)

 0367   CHAR5      EQUALS       B25T30
 0368   ALF9C2     EQUALS       END OF 1
 0369   BIT 25     EQUALS       TYPE E
 0370   DEC ALF M3 EQUALS       AMPRSANS
 0373   B5 Z8 B10  EQUALS       W LOG

 0374   A COLUMN 1 EQUALS       B2B6
 0375   END SY TAB EQUALS       L AV TABLE
 0376   Y COLUMN 1 EQUALS       L BOTH CDS
 0377   EQUALS C1  EQUALS       (ILLOP)
 03771  (ACCEPT)   EQUALS       BIT 4

 03772  THREAD 11  EQUALS       B38T48
 0378   ZX         EQUALS       8
 03781  SPRA       EQUALS       128
 03782  SPRAMR     EQUALS       384

 0380   OCT 4000   EQUALS       BIT 37
 0381   2 D8       EQUALS       BIT 31

# Page 165
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  13        PAGE  13

P0440              GET REAL IS NORMALLY THE CHIEF NODE OF PASS 1.  OCCASIONALLY MERGE CONTROL PROCEDURES TAKE OVER,
R0442   ACCEPTING OR REJECTING TAPE CARDS.

 0443   GET REAL   TS           -             -             GET CARD            GET A CARD AND BRANCH ON NO END OF FILE.
 0445              TS           L END OF      Z,X0          TP RUNOUT           RUN OUT TAPE CARDS AT END OF FILE.
 0447   MODE Q1    NA, MERJMODE SWITCH        ONES          MODIF CHK           BRANCH IF IN MAIN PART OF NEW PROGRAM.
 0449              NA, TAPEKEPT SWITCH        ZERO          MODIF CHK           BRANCH IF A TAPE CARD IS WAITING.
 0451              TS           Z,SC,19       Z,S3          GET TAPE       C    GET TAPE CARD.

R0453   FALL THROUGH ON END OF FILE.  TAB TO MODIF CHK NORMALLY.

 04532             NA, BIT8     SWITCH        ONES          C,+2                BRANCH IF NOT FREEZING SUBROUTINES.
 04534             TS           L END OF      Z,X0          SEND POPO      C
 0454              TS           L END ERRM    Z,X0          SEND POPO      C    TAPE CARDS RAN OUT BEFORE REAL CARDS.
 0456              SWE, CAC3    SOURCE        16            Z,X0                PREPARE TO CUSS REMAINING REAL CARDS.

 0458   HEAVE HO   TN           RL CD HLTH    11            TP CD HLTH          MOVE CARD OUT OF HARM'S WAY.
 0460              TS, CD TYPE  (MODIFY)      TP CP HLTH    GET CARD
 0461              TS, D12      EIGHT         TAPE CARD     LAST BARF           SET UP PAGE SKIP ON END OF FILE.
 04622             TS, D12      TWO           TAPE CARD     SEND POPO      C    ALL REJECTS BUT LAST ARE SPACED 2.
 04624             NA, CHAR1    REAL CARD     BLANKS        LAST BARF -1
 04626             LA, D12      NINE          REAL CARD     LAST BARF -1
 04628             NA, C2T7     REAL CARD +2  W DELETE      C,+2                BAR FALSE DISORDER CUSS WHEN REJECTING
 0463              TS           LAST CDNO     REAL CDNO     HEAVE HO            DELETE CARDS.
 04632             NA, C2T7     REAL CARD +2  W CARDNO      LAST BARF -1
 04634             TS           MON WAA       Z,X6          MCCD ADRF +1
 04636             NA           FIELD COD     BIT 2         LAST BARF -1
 04638             TX           CN LIMIT      -             REAL CDNO           DITTO FOR CARDNO CARDS.
 0464              TS           REAL CDNO     LAST CDNO     HEAVE HO

 0465   LAST BARF  TS           END YUL +2    END YUL +1    SEND POPO      C    SET UP TYPED CUSS AND SEND LAST REJECT.
 0467              TX           L END P1      -             Z,SC

R0468   AS WE ARRIVE AT MODIF CHK WE ALWAYS HAVE ONE REAL CARD AND ONE TAPE CARD READY TO BE SERVICED.

 0470   MODIF CHK  NA, C2T7     REAL CARD +2  W MODIFY      NO MODIFY           SEE IF OPERATION CODE OF REAL CARD IS
 0472              NA, CHAR1    REAL CARD     BLANKS        NO MODIFY           "MODIFY".
 0474              LA, D12      NINE          REAL CARD     NO MODIFY           BUT DON'T BE FOOLED BY A REMARKS CARD.

 0478              TX           (MODIFY)      -             RL CD HLTH          INDICATE CARD TYPE.
 0480   MODE Q2    NA, MERJMODE SWITCH        ZERO          TP MODIFY           WHEN MERGING, RUN TO NEXT SUBROUTINE.

R0482                                                                           WHEN IN MAIN PART OF NEW PROGRAM SEND
 0484              TS           Z,SC          PROC RTRN     PROC REAL           THE "MODIFY" CARD, CREATE AND SEND THE
 0486              TN           (END OF)      11            RL CD HLTH          "END OF" CARD MADE UP BY PASS 0, AND
 0488   REGLR NEW  TS           L GET REAL    PROC RTRN     PROC REAL           PROCESS THE LATTER.

 0490   TP MODIFY  TX           Z,SC,1        -             PROC RTRN           SET UP SEARCH FOR "END OF" CARD.
 0492              TS           L DISASTR     Z,S3          GET TAPE       C    GET ANOTHER TAPE CARD IF NOT FOUND YET.
 0494              NA           TAPE CARD     END OF 1      PROC TAPE

 0495              TS           Z,SC          PROC RTRN     PROC REAL           PROCES "MODIFY" JUST BEFORE "END OF".
 0497              TS           L GET REAL    PROC RTRN     PROC TAPE

 0498   NO MODIFY  NA, MERJMODE SWITCH        ONES          REGLR NEW           PROCESS REAL CARD WITH NO FURTHER ADO.

# Page 166
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  14        PAGE  14

P0500   COMP CDNS IS THE HEART OF THE MERGING PROCESS.  IF THE TAPE CARD IS CHOSEN, IT CANNOT BE AN "END OF" CARD.

 0502   COMP CDNS  LA           REAL CDNO     TAPE CDNO     KEEP TAPE           BRANCH IF REAL CARD COMES FIRST.
 0504              TS           Z,SC          PROC RTRN     PROC TAPE           SINCE THE LAST CARD OF A TAPE FILE IS
 0506              TS           L COMP CNS    Z,SC          GET TAPE       C    NUMBERED 999999, WE GUARANTEE NO EOF.

R0508   AT THIS POINT, THE REAL CARD IS OF PRIMARY INTEREST.  EITHER IT IS A MERGE CONTROL CARD (OTHER THAN "MODIFY") OR
R0510   IT PRECEDES THE TAPE CARD, OR REPLACES IT.  THE MERGE CONTROL CODES ARE CARDNO (CHANGE OR CORRECT A CARD NUMBER)
R0512   AND DELETE.  A CARD WITH "=" IN COLUMN 1 ACCEPTS A LIKE-NUMBERED CARD WITH THE SAME CONTENTS OF COLUMNS 9-80.



 0514   KEEP TAPE  SM           SWITCH        TAPE KEPT     SWITCH              INDICATE THAT A TAPE CARD IS WAITING.
 05152             LA, D12      NINE          REAL CARD     NOT MCCD            RIGHT PRINT CAN'T BE MERGE CONTROL CARD.
 0516              NA, CHAR1    REAL CARD     EQUALS C1     NOT ACEPT           BRANCH IF NOT AN ACCEPTOR CARD.

 0518              TS, CD TYPE  (ACCEPT)      RL CD HLTH    TEST MCCD      C    REJECT IF DISORDERED CARD NUMBER.
 0520              TS           BLANKS        COMMON        PROC REAL      C    MAKE X0 POINT TO THE REAL CARD.
 0521              TS, C2T7     REAL CARD     COMMON        ANAL SUBF      C    ANALYZE CARD NUMBER FIELD.
 05222             SS           ZERO          BIT 9         HEALTH              DISABLE COMPLAINT ABOUT "D" ERROR.
 0523              NA           COMMON        W LOG         NOT EQ LOG          BRANCH IF NOT ACCEPTING A LOG CARD.
 05241             NA, DATEMASK REAL CARD +8  BLANKS        C,+2                BRANCH IF DASHES SHOULD BE PUT IN DATE.
 0525              TS           CHAR1         MERJ RTRN     ACCEPT              PREPARE TO LOOK AT COLUMN 1.
 05261             SS           DASHES        CHAR 6        REAL CARD +8
 05262             TS, CHAR1    DASHES        REAL CARD +9  C,-2
 0527   NOT EQ LOG TS           ZERO          MERJ RTRN     ACCEPT

 0528   ACC NEXT   TS           Z,SC          PROC RTRN     PROC TAPE
 0529              TS           L DISASTR     Z,S3          GET TAPE       C    ACCEPT A CARD AND GET ANOTHER.

 0531   ACCEPT     NA           TAPE CARD     END OF 1      C,+2
 0532              TS, BIT 10   ONES          RL CD HLTH    BAD MERGE           ILLEGAL TO ACCEPT AN "END OF" CARD THUS.

 0534              NA           TAPE CDNO     REAL CDNO     ACC NEXT            DEMAND EQUALITY OF FORMAL CARD NUMBER.
 05351             TX           MERJ RTRN     -             ALF MASK
 0536              NA, ALFMASK  TAPE CARD     W LOG         ACC NEXT            BRANCH IF TAPE CARD SHOULD BE LOG.
 0538              SWE, CAC3    L BOTH CDS    16            Z,AU1
 0539              TX           L BOTH CDS    -             Z,AU2
 0540              NA           N,AU1,1       N,AU2         ACC NEXT            BRANCH IF DIFFERENCE IN COLS. 9-80.
 0542              NA           Z,AU2,1       L CARD W9     C,-1

 0543              NA, CHAR1    TAPE CARD     W LOG         C,+2
 0544              LA           ALF MASK      ZERO          ACC NEXT            BR IF IS LOG BUT SHOULD NOT BE.

 0546   MARK CARD  SM           TAPE CARD     BIT 44        TAPE CARD           MARK CARD AS ACCEPTED.
 0548              TS           SOURCE        Z,X0          SEND POPO      C    SEND ACCEPTOR CARD.
 0550              TS           L GET REAL    PROC RTRN     PROC TAPE           PROCESS ACCEPTED CARD, GET ANOTHER REAL.

# Page 167
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  15        PAGE  15

P05511  PROCEDURE TO DETECT AND PROCESS REQUESTS FOR CHANGING OR CORRECTING CARD NUMBERS, USING THE "CARDNO" CODE.  THE
R05513  "CARDNS" CODE IS SIMILAR, BUT STARTS RENUMBERING FROM THAT VALUE UNTIL THE NEXT LOG CARD.  "PRESERVE CARDNS"
R05515  TURNS OFF RENUMBERING.  IF "RENUMBER" SUBDIRECTOR WAS USED, IT RESUMES AFTER THE REIGN OF ANY "CARDNS" CODE.

 0552   NOT ACEPT  NA, CHAR1    REAL CARD     BLANKS        NOT MCCD            BRANCH IF CANNOT BE MERGE CONTROL CARD.
 05542             NA, C2T7     REAL CARD +2  W CARDNS      CARDNO CQ           BRANCH IF NOT A "CARDNS" CODE.
 05544             NA           REAL CARD +1  W PRESERV     CARDNO CQ +1
 055444            TX, CD TYPE  (CARDNO)      -             RL CD HLTH
 05545             NA           REAL CARD +3  BLANKS        TEST MCCD -2
 05546             NA           REAL CARD +4  BLANKS        TEST MCCD -2
 05547             NA, CHAR2    RL CD HLTH    ZERO          BAD MERGE           REJECT "PRESERVE CARDNS" FOR ANY DEFECT.
 05548             TS           L PRSV CNS    MERJ RTRN     FIND CDNO           CONTINUED ON FOLLOWING PAGE.

 0555   CARDNO CQ  NA, C2T7     REAL CARD +2  W CARDNO      DELETE CQ           BRANCH IF NOT A "CARDNO" CODE.
 0557              TS           REAL CARD +1  COMMON        ANAL SUBF      C    ANALYZE LOCATION FIELD.
 0559              NA           COMMON        W CORRECT     C,+3
 0560              SM           SWITCH        CORRECT       SWITCH              SET UP SEARCH FOR BAD CARD NUMBER IF
 0562              TS           ZERO          RL CD HLTH    C,+4                "CORRECT" BUT NEVER CUSS THIS CARD NO.
 0564              NA           COMMON        W CHANGE      C,+2
 0565              TS, CORRECT  ZERO          SWITCH        C,+2                SEEK OK CARD NUMBER IF "CHANGE".
 0567              SM           RL CD HLTH    BIT 8         RL CD HLTH          CUSS BAD LOCATION FIELD.
 0569              TS, CD TYPE  (CARDNO)      RL CD HLTH    MCCD ADRF           NOTE TYPE, ANALYZE ADDRESS FIELD.
 0571              LA           FIELD COD     BIT 2         C,+2
 0572              TS, BIT 9    ONES          RL CD HLTH    BAD MERGE           CUSS BAD ADDRESS FIELD.
 0574              LA           FIELD COD     BIT 3         C,-1
 0576   TEST MCCD  NA, CHAR2    RL CD HLTH    ZERO          BAD MERGE           REJECT "CARDNO" FOR ANY SIN.

 0579              TS           Z,SC          MERJ RTRN     FIND CDNO           SET UP CARD WHOSE NUMBER IS TO BE CHGD.
 0581   CHANGE     TS, C2T7     CN LIMIT      TAPE CARD     MARK CARD      C    CHANGE EXTERNAL CARD NUMBER.
 0582              NA, CHAR1    TAPE CARD     L COLUMN 1    C,+3                ON LOG CARD, CHANGE IS SUPERFICIAL ONLY.
 0583              NA, C2T7     TAPE CARD     ZERO          SEND CCNO
 0584              TS, C2T7     BLANKS        TAPE CARD     SEND CCNO           ..THOUGH SQB SETTING IS BLANKED.
 0585              SS           ZERO          BIT 43        TAPE CARD           CLEAR POSSIBLE SEQUENCE BREAK BIT.
 0586              TX           CN LIMIT      -             TAPE CARD           CHANGE INTERNAL CARD NUMBER.
 0587              NA           TAPE CDNO     BIT 6         SEND CCNO           IF SEQ. BR., SET EXTERNAL CARD NUMBER TO
 0588              SM           TAPE CARD     W SQBRMIN     TAPE CARD           SEQBRK AND SET BIT 43.

 0589   SEND CCNO  TS           SOURCE        Z,X0          SEND POPO      C    SEND "CARDNO", "CARDNS", OR "DELETE".
 0590              NA, C2T7     REAL CARD +2  W CARDNO      C,+2                BRANCH IF A SECTION WAS RENUMBERED.
 05901             TS, C2T7     TAPE CDNO     REAL CDNO     MARK CARD +2        NEW NUMBER IS CRITERION FOR NEXT REAL.
 059014            LA           SWITCH        BIT 1         C,+2                IF RENUMBERING IS NOW UNDER WAY, COMPARE
 059016            EX           FIELD COD +1  C2T7          LAST CDNO           NEW NUMBER WITH LAST CARD'S RENUMBER.
 05902             TS           N,SC,2        RNUM TEST     ACC NEXT       C    PROCESS CARD WITH RENUMBERING DISABLED.
 0591              TX           C,+1          -             RNUM TEST      C    RESTORE RENUMBERING TEST TO NORMAL.
 05912             LA           BIT 1         SWITCH        REM CHECK      C
 0592              TS           L LAST CNO    Z,X4          MON A2D             SET UP FOR PARTIAL RENUMBERING.
 0593   RENUMBER   RESERVE      1
 0594              EX           REAL CDNO     C2T7          LAST CDNO           FOR CARDNS, KEEP OLD SEQUENCE CRITERION.
 0595              LA           BIT 1         SWITCH        GET REAL            EXIT IF RENUMBERING IS NOW UNDER WAY.
 0596              SM           SWITCH        BIT 1         SWITCH              CALL FOR PARTIAL RENUMBERING.
 0597              TS           C,+1          RESTART N +1  GET REAL            MAKE IT STOP AFTER FIRST LOG CARD.
 0598              TS           ZERO          RENUMBER      NON RNUM +1    C

# Page 168
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  16        PAGE  16

P06031  PROCEDURE TO DETECT AND PROCESS "DELETE" CARDS.

 0604   DELETE CQ  NA, C2T7     REAL CARD +2  W DELETE      INSERT CQ           BRANCH IF NOT A "DELETE" CODE.
 0606              NA           REAL CARD +1  W OUTOSEQ     C,+4                BRANCH IF LOCATION FIELD NOT "OUTOFSEQ".
 0608              SM           SWITCH        CORRECT       SWITCH              SET UP SEARCH FOR BAD CARD NUMBER.
 0610              TS           ZERO          RL CD HLTH    C,+4                NEVER CUSS THIS CARD NUMBER.

 0612              TS, BIT 8    ONES          RL CD HLTH    C,+2                CUSS BAD LOCATION FIELD.
 0614              NA           REAL CARD +1  BLANKS        C,-1
 0615              SS           ZERO          CORRECT       SWITCH              SET UP SEARCH FOR OK CARD NUMBER.

 0617              TS, CD TYPE  (DELETE)      RL CD HLTH    MCCD ADRF           ANALYZE ADDRESS FIELD.
 0619              NA           FIELD COD     ZERO          DEL SEVRL           BRANCH IF ADDRESS NOT BLANK.
 0621              NA, CHAR2    RL CD HLTH    ZERO          DELE FAIL +1        REJECT SINGLETON DELETE FOR BAD CARD NO.
 0622              TS           L SEND DEL    MERJ RTRN     FIND CDNO           GO FIND SINGLE CARD TO BE DELETED.

 0623   DEL SEVRL  LA           ONES          FIELD COD     C,+2                BRANCH IF MEANINGLESS ADDRESS FIELD.
 0625              LA           BIT 1         FIELD COD     C,+2                BRANCH IF ADR FIELD FORMAT OK.
 0627              TS, BIT 9    ONES          RL CD HLTH    DELE FAIL +1        CUSS BAD ADDRESS FIELD.

 0629              NA           REAL CDNO     BIT 6         OK DELE Q -1        BRANCH IF FIRST CARDNO IS NOT SEQ BREAK.
 0631              NA           CN LIMIT      BIT 6         OK DELE Q           BRANCH IF 2ND CARDNO IS NOT SEQ BREAK.
 0633              TS, BIT 12   ONES          RL CD HLTH    DELE FAIL +1        CUSS IF 1ST CARDN NOT LESS THAN 2ND.

 0634              LA           CN LIMIT      REAL CDNO     C,-1
 0635   OK DELE Q  NA, CHAR2    RL CD HLTH    ZERO          DELE FAIL +1        REJECT "DELETE" CARD FOR ANY SIN.

 0637              TS           Z,SC          MERJ RTRN     FIND CDNO           SET UP CARD TO BE DELETED.
 06382             TS           Z,SC          MERJ RTRN     GET TAPE       C    FETCH NEXT CARD TO LOOK AT NUMBER.
 0639              LA           CN LIMIT      TAPE CDNO     C,+2
 0640              TS           MERJ RTRN     Z,SC          GET TAPE       C    DELETE TAPE CARD AND GET ANOTHER.

 0642              NA           CN LIMIT      TAPE CDNO     DELE FAIL           SECOND NUMBER MUST MATCH EXISTING ONE.

 0644   SEND DELE  TS           LAST CDNO     REAL CDNO     SEND CCNO      C    SEND "DELETE" CARD.
 06452             NA           TAPE CARD     END OF 1      C,+2                ALLOW DELETION OF ANY BUT "END OF" CARD.
 06454             TS, TAPEKEPT ONES          SWITCH        GET REAL            KEEP IT AND MAYBE INSERT BEFORE IT.
 0646              TS, TAPEKEPT ZERO          SWITCH        GET REAL            END OF DELETION PROCESS.

 06471  DELE FAIL  SM           RL CD HLTH    BIT 11        RL CD HLTH
 06472             TS           LAST CDNO     REAL CDNO     BAD MERGE


R06473  END OF "PRESERVE CARDNS" ROUTINE, CARRIED OVER FROM PRECEDING PAGE.

 06474  PRESERVE   LA           SWITCH        BIT 1         MARK CARD +1        EXIT QUIETLY IF RENUMBERING ALREADY OFF.
 064745            LA           REAL CDNO     FIELD COD +1  BAD PRESV           BRANCH IF PRESERVATION CAUSES DISORDER.
 06475             SS           ZERO          BIT 1         SWITCH
 06476             NA           RESTART N +1  REST REST     MARK CARD +1        EXIT IF RENUMBERING WAS IN LOG SEC ONLY.
 06477             TS           C,+1          RENJMALL      MARK CARD +1        MODIFY LOG CARD ROUTINE TO START RENUM.
 06478             TS           ZERO          RENJMALL      RENUMBER +3    C

 06479  BAD PRESV  TS, CHAR2    BIT 7         RL CD HLTH    BAD MERGE

# Page 169
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  17        PAGE  17

P0648   PROCEDURE TO DETECT AND PROCESS "INSERT" CARDS.

 064803 INSERT CQ  NA, C2T7     REAL CARD +2  W INSERT      NOT MCCD
 064806            TS           REAL CARD +1  COMMON        ANAL SUBF      C    LOCATION FIELD MUST BE "BEGIN" OR "END".
 064812            NA           COMMON        W BEGIN       BAD INSTL           REQUIRED OUTSIDE OF INSERTION MODE.
 064818 INS ADDRF  TS, CD TYPE  (CARDNO)      RL CD HLTH    MCCD ADRF           PASS 2 PROCESSING IS SAME AS FOR CARDNO.
 064824            NA           FIELD COD     ZERO          BAD INSTL +1        BRANCH IF THERE IS A CARD NUMBER CHANGE.
 06483             SSL, ONE     SWITCH        47            C,+1                "BRANCH" IF RENUMBERING IS NOW ON.
 064836            TS           REAL CDNO     CN LIMIT      BAD INSTL +2        NO RENUM, NO CHANGE: USE INSERT CARD NO.
 064842            TS           ONES          CN LIMIT      BAD INSTL +2        RENUM, NO CHANGE: USE CURRENT RENUMBER.

 064848 BAD INSTL  TS, BIT 8    ONES          RL CD HLTH    INS ADDRF
 064851            NA           FIELD COD     BIT 3         TEST MCCD -2        REJECT IF MEANINGLESS ADDRESS FIELD.
 064857            NA, CHAR2    RL CD HLTH    ZERO          BAD MERGE           REJECT INSERT CARD FOR ANY DEFECT.

 064863            NA           REAL CDNO     TAPE CDNO     C,+3
 064866            LA           END OF 1      TAPE CARD     C,+2                INSERTED CARDS CANNOT REPLACE "END OF".
 064872            SS           ZERO          TAPE KEPT     SWITCH              REPLACE OLD CARD BY INSERTED CARDS.
 064878            TS           SOURCE        Z,X0          SEND POPO      C    SEND "BEGIN INSERT" CARD.
 064884            NA           RESTART N +1  REST REST     C,+2
 064887            SWS, BIT46R  SWITCH        45            SWITCH              SHOW THAT RENUMBERING, IF ON, IS TOTAL.
 064893            TS           REST REST     RESTART N +1  RENUMBER +3    C    TURN ON RENUMBERING IN "TOTAL" MODE.
 064899            LA           ONES          CN LIMIT      INSRT LUP           BRANCH IF CURRENT RENUMBER WILL DO.

 064905            TS           -             -             GET CARD
 064908            TS           (INCINS)      RL CD HLTH    BAD MERGE -2        REJECT IF GOT END OF CARD INPUT FILE.
 064914            SS           CN LIMIT      C2T7          REAL CARD           APPLY SPECIFIED OR IMPLIED NUMBER.
 06492             NA, CHAR1    REAL CARD     L COLUMN 1    C,+2
 064923            TS, C2T7     BLANKS        REAL CARD     SEND INS1           INSERTED LOG CARDS GET BLANKS IN CC 2-7.

 064929            SS           ZERO          BIT 43        REAL CARD           CLEAR SEQUENCE BREAK BIT FROM NON-LOGS.
 064935            TS           CN LIMIT      REAL CDNO     BAD INSA 2 +1  C    CLEAR OUT-OF-SEQUENCE BIT.
 064938            NA           REAL CDNO     BIT 6         SEND INS1
 064941            SM           REAL CARD     W SQBRMIN     REAL CARD           SPECIFIED SEQ. BRK. GETS "SEQBRK".

 064947 SEND INS1  TS           RENUMBER -3   RNUM TEST     TP RUNOUT +1   C    PROCESS 1ST INSERTED CARD W/ RENUM OFF.
 064953            EX           CN LIMIT      C2T7          LAST CDNO
 064956            TS           L LAST CNO    Z,X4          MON A2D
 064959            RESERVE      1
 064962            TS           C,-1          RENUMBER      RENUMBER +1    C    SET RENUMBERING GOING WITH NEW NUMBER.

# Page 170
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  18        PAGE  18

P064968 PROCEDURE DURING INSERTION MODE: IGNORE CARD NUMBER ERRORS, SEARCH FOR "END INSERT" CARD, AND PROCESS REAL CRDS.

 064974 INSRT LUP  TS           -             -             GET CARD
 064977            TS           (INCINS)      RL CD HLTH    BAD MERGE -2        REJECT IF "END INSERT" CARD IS MISSING.
 064983            NA, CHAR1    REAL CARD     BLANKS        PROC INS
 064986            LA, D12      NINE          REAL CARD     PROC INS
 064989            NA, C2T7     REAL CARD +2  W INSERT      PROC INS            BRANCH IF INSERTED CARD IS NOT "INSERT".

 064995            TS           REAL CARD +1  COMMON        ANAL SUBF      C
 064998            NA           COMMON        W END         BAD INSL 2          REQUIRED WHILE IN INSERTION MODE.
 065004            NA           REAL CARD +3  BLANKS        BAD INSA 2
 065007            NA           REAL CARD +4  BLANKS        BAD INSA 2          ADDR FLD OF "END INSERT" MUST BE BLANK.
 065013            TS, CD TYPE  (CARDNO)      RL CD HLTH    C,+3
 065016 BAD INSL 2 TS, BIT8     ONES          RL CD HLTH    C,-3
 065019 BAD INSA 2 TS, BIT9     ONES          RL CD HLTH    C,-2
 065022            SS           ZERO          BIT 7         RL CD HLTH          CLEAR OUT-OF-SEQUENCE BIT.
 065028            NA, CHAR2    RL CD HLTH    ZERO          BAD MERGE           REJECT "END INSERT" FOR ANY DEFECT.

 065034            SSL, ONE     SWITCH        2             C,+1                "BRANCH" IF TOTAL RENUMBERING WAS ON.
 06504             TS           DELETE CQ -1  RESTART N +1  C,+2                ENTER PARTIAL RENUMBERING MODE.
 065046            SS           ZERO          BIT 46R       SWITCH
 065049            TS           L GET REAL    Z,SC          SEND POPO      C    SEND "END INSERT", LEAVE INSERTION MODE.

 065055 PROC INS   TX           ZERO          -             LAST CDNO
 065058            SWE, CAC3    L INSRT LP    32            PROC RTRN
 065061            TS           ZERO          RL CD HLTH    PROC REAL           NORMAL PROCESSING FOR INSERTED CARDS.

 065067 REST REST  TS           ZERO          RENUMBER      MOVE POPO      C    OCCUPIES RESTART N +1 IN TOTAL RENUM.

 06509             TN           INC INSRT     4             REAL CARD           AT BAD MERGE -2, SET BAD-INSERT CUSS.
 065093            MT           BLANKS        6             N,AU2,1



R0651   COMMON PROCEDURE WHEN MERGING IS GIVEN UP FOR LOST FOR ANY REASON.

 0652   BAD MERGE  TS           SOURCE        Z,X0          SEND POPO      C    SEND BAD MERGE CONTROL CARD.
 06531             SS           BLANKS        CHAR 8        REAL CARD
 06532             S, MON TYPER REAL CARD     SPRA +56      -                   TYPE MOST GUILTY CARD.
 0654              TN           TASK REJ      10            REAL CARD
 0655              TS           END ERR M     RL CD HLTH    SEND POPO      C    ANNOUNCE REJECTION OF TASK.
 0664              TS           Z,SC          PROC RTRN     PROC TAPE           LOOP TO ACCEPT REMAINING TAPE CARDS.
 0667              TS           Z,SC,3        Z,S3          GET TAPE       C    ACCEPT ALL TAPE CARDS.
 0669              TS           -             -             GET CARD            SEE WHETHER TO THROW OUT REMAINING REAL
 0671              TS           END YUL +2    END YUL +1    END PASS 1          CARDS, BEING CAREFUL NOT TO ANNOUNCE
 0673              TS           REAL CDNO     LAST CDNO     HEAVE HO -2         SAME IF THERE ARE NONE.
 0675              TS           -             -             PROC TAPE

# Page 171
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  19        PAGE  19

P0676              SUBROUTINE IN PASS 1 TO FIND THE TAPE CARD TO WHICH A MERGE CONTROL CARD REFERS.  ENTER WITH RETURN
P0678   PRESET IN MERJ RTRN.  EXITS TO BAD MERGE IF NO EXACT CARD NUMBER MATCH IS FOUND BEFORE A SEQUENCE BREAK.

 0680   FIND CDNO  NA           TAPE CDNO     BIT 6         TC NOT SQB          BRANCH IF TAPE CARD NOT SEQUENCE BREAK.
 0682              LA           END OF 1      TAPE CARD     TC NOT SQB -1       ALWAYS ILLEGAL TO FIND AN "END OF" CARD.

 0684              NA           TAPE CDNO     REAL CDNO     C,+3                BRANCH IF REAL CARD NOT SEQUENCE BREAK.
 0686              NA, CORRECT  SWITCH        ONES          CDN FOUND           BRANCH IF NOT SEEKING BAD CARD NUMBER.
 0688              TS, BIT 8    ONES          RL CD HLTH    BAD MERGE           CUSS ILLEGAL LOCATION FIELD.

 0690              TS, BIT 10   ONES          RL CD HLTH    BAD MERGE           CUSS FAILURE TO FIND MATCH.

 0692   TC NOT SQB NA           TAPE CDNO     REAL CDNO     POASS TAPE          BRANCH IF NO MATCH YET.
 0694              NA, CORRECT  SWITCH        ZERO          CDN FOUND +1        BRANCH IF LOOKING FOR BAD CARD NUMBER.
 0696              NA           TP CD HLTH    ZERO          PASS TAPE           BAD CARD NUMBER IMPLIES NO MATCH.

 0698   CDN FOUND  TX           MERJ RTRN     -             Z,SC                SUCCESSFUL RETURN.

 0700              NA           TP CD HLTH    ZERO          C,-1                BRANCH IF DESIRED BAD CARD NO. FOUND.

 0702   PASS TAPE  TS           Z,SC          PROC RTRN     PROC TAPE
 0703              TS           L FIND CDN    Z,SC          GET TAPE       C    PROCESS A TAPE CARD AND LOOK AGAIN.

R0704   TP TUNOUT IS A (HAPPY) PROCEDURE WHEN REAL CARDS RUN OUT FIRST.

 07041  TP RUNOUT  NA, MERJMODE SWITCH        ZERO          C,+2                BRANCH IF MERGING.
 07042             TS           Z,SC          PROC RTRN     PROC REAL +1        PROCESS NEWLY CREATED "END OF" CARD.
 07043             WA           Z,SC          ONE           PROC RTRN
 07044             NA, TAPEKEPT SWITCH        ZERO          PROC TAPE           PROCESS TAPE CARD IF AVAILABLE.
 07045             TS           L END P1      Z,S3          GET TAPE       C    FETCH FINAL TAPE CARDS.
 07046             TS           -             -             PROC TAPE

R07047  FINAL SEQUENCE CHECKING BEFORE PROCESSING.  SEE NEXT PAGE.

 070475 VS LAST CN LA, C2T7     CARD NO       LAST CDNO     C,+2           C    BRANCH IF POSSIBLE SEQUENCE ERROR.
 07048             SS           Z,CSC,2       BIT 7         HEALTH         C    CLEAR POSSIBLE ERROR BIT, TAB TO EXIT.
 070485            LA           BIT 6         CARD NO       C,-1           C    ALL IS WELL IF THIS CARD IS A SEQ. BRK.
 07049             SM           HEALTH        BIT 7         HEALTH         C    INDICATE CARD NUMBER OUT OF SEQUENCE.
 070495            EX           CARD NO       C2T7          LAST CDNO      C    SET UP NEXT CRITERION AND RETURN.

R0705   WE GET TO NOT MCCD FOR EVERY REAL CARD THAT IS NOT A MERGE CONTROL CARD.

 0706   NOT MCCD   LA           RL CD HLTH    ZERO          C,+2
 0707              TS, CD TYPE  END ERR M     RL CD HLTH    BAD MERGE           CARD NO. ERROR IN REVISION CARDS IS BAD.
 0709              NA           REAL CDNO     TAPE CDNO     REGLR NEW           BRANCH IF REAL CARD PRECEDES TAPE CARD.
 07101             NA, CHAR1    REAL CARD     T COLUMN 1    C,+2
 07102             TS, CHAR1    L COLUMN 1    REAL CARD     REGLR NEW           FORCE SAME IF REAL CARD IS "TUCK-IN".
 0711              LA           END OF 1      TAPE CARD     REGLR NEW           FORCE SAME IF TAPE CARD IS "END OF".
 0713              TS, TAPEKEPT ZERO          SWITCH        REGLR NEW           OTHERWISE REPLACE TAPE CARD WITH REAL.

# Page 172
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  20        PAGE  20

P0715   INTRODUCTION TO THE PROCESSING OF A TAPE CARD.  RETURN HAS BEEN SET UP BEFOREHAND.

 0717   PROC TAPE  SWE, CAC3    SOURCE        16            Z,X0                SET UP ADDRESS OF TAPE CARD.
 0719              TS           TAPE CDNO     CARD NO       VS LAST CN     C    FINAL CHECK ON TAPE CARD NO. SEQUENCE.
 0721              TS, TAPEKEPT ZERO          SWITCH        PROCESS             UNKEEP AND PROCESS TAPE CARD.

R0723   INTRODUCTION TO THE PROCESSING OF A REAL CARD.  RETURN HAS BEEN SET UP BEFOREHAND.

 0725   PROC REAL  TX           SOURCE        -             Z,X0                SET UP ADDRESS OF REAL CARD.
 0727              TS           REAL CDNO     CARD NO       VS LAST CN     C    FINAL CHECK ON REAL CARD NO. SEQUENCE.

R0729   PROCESSING OF ALL BUT MERGE CONTROL CARDS BEGINS HERE.

 0730   PROCESS    NA, D12      CARDNO WD     NINE          NOT RIGHT           BRANCH IF NOT A RIGHT PRINT CARD.
 0732              TS, CD TYPE  (RIGHTP)      HEALTH        XMIT RTRN           XMIT RTRN SENDS POPO AND RETURNS.

 0734   NOT RIGHT  NA, CHAR1    CARDNO WD     R COLUMN 1    C,+2
 0735              TS, CD TYPE  (REMARK)      HEALTH        XMIT RTRN           REMARKS CARD WITH R IN COLUMN 1.

 0737              NA, CHAR1    CARDNO WD     A COLUMN 1    C,+2
 0738              TS, CD TYPE  (ALIREM)      HEALTH        XMIT RTRN           ALIGNED REMARKS CARD WITH "A" IN COL. 1.

 0740              NA, CHAR1    CARDNO WD     P COLUMN 1    C,+2
 0741              TS, CD TYPE  (REMARK)      HEALTH        XMIT RTRN           REMARKS CARD WITH P IN COLUMN 1.

 0743              NA, CHAR1    CARDNO WD     L COLUMN 1    NOT 9RAPL
 07435  RENUMALL   PR                                                           SEE PRESERVE CARDNS.
 0744              NA, DATEMASK DATE WORD     BLANKS        C,+2                BRANCH IF DASHES SHOULD BE PUT IN DATE.
 0746              SSL, ONE     CARDNO WD     4             UNMKD LOG           REMARKS CARD (LOG CARD).
 0748              SS           DASHES        CHAR6         DATE WORD
 0749              TS, CHAR1    DASHES        DATE WORD +1  C,-2

 07492             TS           (ACCEPT)      HEALTH        SEND POPO      C    SEND A DUMMY ACCEPTOR AHEAD OF A MARKED
 07494  UNMKD LOG  TS           (REMARK)      HEALTH        XMIT RTRN           LOG CARD ENTERING AS A MEMBER OF A
 07496             NA, KNOWSUBS SWITCH        ZERO          C,-2                CALLED SUBRO; PASS 2 MARK WILL BE "@".
 07498             TS           (REMARK)      HEALTH        XMIT RTRN

 0750   NOT 9RAPL  NA           CARDNO WD     END OF 1      C,+2                CHECK FOR "END OF" INFORMATION FROM TAPE
 0752              TS, CD TYPE  (END OF)      HEALTH        END OF              OR (NEW PROGRAM OR SUBRO) FROM PASS 0.

 07538             NA, CD TYPE  HEALTH        (MODIFY)      NON REM             CHECK FOR MODIFY CARD.
 0754   XMIT RTRN  TS           PROC RTRN     Z,SC          SEND POPO      C

R0755   NON REM CONSTITUTES AN EARLY PERIOD PROCEDURE, SINCE MEMORY CARDS ARE ALLOWED ONLY UNTIL THE
R0757   FIRST CARD WHICH IS NOT A REMARKS OR RIGHT PRINT CARD OR A MEMORY CARD.  IN SEGMENT ASSEMBLIES, ONE SEGNUM CARD
R0759   IS REQUIRED IN THE EARLY PERIOD.  THESE EARLY PERIOD OP CODES MUST BE DISCOVERED AT NON REM OR SEGNUM Q.

 0760   NON REM    NA,C2T7      OP FIELD      W MEMORY      SEGNUM Q            BRANCH IF ERLY PERIOD IS OVER.

# Page 173
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  21        PAGE  21

P0762   TWO PAGES OF PROCESSING FOR FIXED MEMORY, ERASABLE MEMORY, OR SPEC/NON MEMORY CODE CARDS.

 0764              TS           Z,SC          Z,X4          ADR FIELD           DECODE ADDRESS FIELD.
 0766              LA           ONES          FIELD COD     BAD MEM AD          ABORT IF MEANINGLESS ADDRESS FIELD.
 0768              NA, B2B6     FIELD COD     ONES          BAD MEM AD          REJECT IF 1ST SUBFIELD NOT UNSIGNED NUM.
 0773              SWS, CAC2    ADR WD        16,L          HEALTH              STORE LOWER LIMIT.
 0775              NA           FIELD COD +1  ZERO          C,+2                BRANCH IF THERES A SIGNED NUMERIC PART.
 0777              TS           ADR WD        ADR WD +1     WHICH MEM           UPPER AND LOWER LIMITS ARE EQUAL.
 0782              NA, BIT 5    FIELD COD +1  ZERO          WHICH MEM -1        MINUS MEANS THRU IN THIS CASE.

 0784              LA, FIX MAG  LOW LIM       HI LIM        WHICH MEM           NEW NAMES FOR ADR WD AND ADR WD +1.
 0786   BAD MEM AD TS, BIT 11   ONES          HEALTH        MEM EXIT            PROCEDURE WHEN ADDRESS IS MEANINGLESS.
 0788              TS, BIT 12   ONES          HEALTH        MEM EXIT            PROCEDURE WHEN ADDRESS IS TOO BIG.

 0790              BA           ADR WD        ADR WD +1     ADR WD +1           FORM UPPER LIMIT WHEN MODIFIER IS PLUS.
 0792   WHICH MEM  LA, FIX MAG  ADR LIMIT     HI LIM        BAD MEM AD +1       BRANCH IF UPPER TOO BIG FOR MACHINE.
 0794              SS           HI LIM        CAC3          HEALTH              STORE UPPER LIMIT.
 0796              TS           LOC FIELD     COMMON        ANAL SUBF      C

 0797              NA           FIELD COD     BIT 1         NO MEM TYP          REJECT IF NOT SYMBOLIC.
 0799              TS           L TYP TAB     Z,X4          SET M TYPE     C
 0800              NN           LOW LIM       ZERO          LL NZ
 0801              TS           Z,X4          Z,X6          LL ZERO

 0802   SET M TYPE NA           COMMON        W ST TYPES    C,+2           C
 0803              SWS, LSTYPE  ONE           25            ADR WD +1           ATTACH ERASABLE CODE TO UPPER LIMIT.

 0805              NA           COMMON        W ST TYPES +1 C,+2           C
 0806              SWS, LSTYPE  ONE           26            ADR WD +1           ATTACH FIXED CODE TO UPPER LIMIT.

 0808              NA           COMMON        W ST TYPES +2 C,+2           C
 0809              SWS, LSTYPE  ONE           27            ADR WD +1           ATTACH SPEC/NON CODE TO UPPER LIMIT.

 0811   NO MEM TYP TS, BIT 8    ONES          HEALTH        MEM EXIT            REJECT ILL-FORMED MEMORY CARD.

 0813   LL ZERO    LA, CAC3     4,0           HI LIM        C,+2                DOES REQ COVER ALL 1ST PRESENT CATEGORY.
 0815              TS           ZERO          COMMON        CHECK TM1           NO, IT COVERS LESS.
 0817              TS, LSTYPE   HI LIM        4,0           FIND TM +1          PUT REQ TYPE IN 1ST CATEGORY.

 0819   LL NZ      WD           LOW LIM       ONE           LOW LIM             USE REDUCED LOWER LIMIT.
 0821              LA, CAC3     LOW LIM       4,0           C,+2                FIND FIRST CATEGORY AFFECTED BY REQUEST.
 0823              TS           Z,X4,1        -             C,-1

 0824   FIND TM    TS           Z,X4          Z,X6          CHK HI LIM          BEGIN SEARCH FOR LAST AFFECTED CATEGORY.

 0826              NA           Z,X6,1        END TYP TA    CHK HI LIM          BRANCH IF UPPER LIMIT ISNT MAX ADDRESS.

 0828              NA           Z,X4          END TYP TA    CHK HI LIM -2       BR IF REQ COVERS MORE THAN FINAL CATEG.
 0830              NA, LSTYPE   HI LIM        4,0           C,+2                BRANCH IF REQUEST IS NON-TRIVIAL.

# Page 174
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  22        PAGE  22

P0832   EXIT FOR MEMORY CARDS WITH ANY FAULT.

 0833   MEM EXIT   TS, CD TYPE  (MEMORY)      HEALTH        XMIT RTRN

 0834              BS           ZERO          ONE           COMMON              PREPARE TO LENGTHEN TABLE BY 1 PLACE.
 0836              TS           CAC3          TN MASK       COMPUTE N -1        PREPARE TO USE LOWER LIMIT.

 0838              TX           END TYP TA    -             Z,X6                UNDO INCREMENT.
 0840              TS, LSTYPE   HI LIM        6,0           C,+2                ATTACH REQ TYPE TO FINAL CATEGORY.

 0842   CHK HI LIM LA, CAC3     6,0           HI LIM        FIND TM +1          SEARCH FOR LAST AFFECTED CATEGORY.

 0844              BS           Z,X6          Z,X4          COMMON              COMPUTE DIRECTION AND EXTENT OF SHIFT.
 0846              NA, LSTYPE   HI LIM        4,0           CHECK TM2           BRANCH IF NO TYPE MATCH ON LOWER SIDE.

 0848   CHECK TM1  NA, LSTYPE   HI LIM        6,0           C,+2                BR IF TYPE MATCH ON LOWER, NOT UPPER.

 0850              TS           ZERO          TN MASK       CHECK TM2 +3        USE NEITHER LIMIT IF BOTH TYPE MATCHES.

 0852              TX           HI LIM        -             LOW LIM             USE UPPER LIMIT ONLY.
 0854              TS           ONES          TN MASK       C,+3

 0855   CHECK TM2  TX           CAC3          -             TN MASK             USE LOWER LIMIT NORMALLY.
 0857              NA, LSTYPE   HI LIM        6,0           C,+3                BR IF NO TYPE MATCH EITHER SIDE.

 0859              BS           COMMON        ONE           COMMON              INCREMENT EXTENT OF SHIFT.
 0861              TS           ZERO          TN MASK +1    COMPUTE N           USE LOWER LIMIT ONLY.

 0863              BS           COMMON        TWO           COMMON              INCREASE EXTENT OF SHIFT BY 2.
 0865              TX           ONES          -             TN MASK +1          USE UPPER LIMIT NORMALLY.

 0867   COMPUTE N  LA, CAC3     COMMON        ZERO          MOV TABLE +1        BRANCH IF EXTENT OF SHIFT IS ZERO.

 0869              BS           Z,X6          END TYP TA    COMMON +1           THE NUMBER OF WORDS SHIFTED IS THE
 0871              BS           COMMON +1     ONE           COMMON +1           NUMBER OF CATEGORIES FROM THE LAST
 0873              SWS,COUNTFLD COMMON +1     18,L          MOV TABLE           AFFECTED CATEGORY ONWARD.
 0875              LN           COMMON        ZERO          SHORTEN             BRANCH TO COMPRESS TABLE.

 0877   LENGTHEN   WD           END TYP TA    SPEC SIGN     Z,X6                FORM NEGATIVE ADDRESSES TO SHIFT FWD.
 0879              WA           Z,X6          COMMON        Z,CSC
 0880              LA           Z,CSC         ST TAB MAX    MOV TABLE
 0881              TS, BIT 13   ONES          HEALTH        MEM EXIT            BAD EXIT IF LENGTHENING GOES TOO FAR.

 0883   SHORTEN    WD           Z,X6          COMMON        Z,CSC               FORM POSITIVE ADDRESSES TO SHIFT BWD.

 0885   MOV TABLE  TN           N,X6          0             N,CSC               SHIFT PART OF TABLE AS DESCRIBED.
 0887              SS           LOW LIM       TN MASK       N,X4,1              FILL IN LOWER LIMIT OF REQ.
 0889              SS           HI LIM        TN MASK +1    N,X4                FILL IN UPPER LIMIT OF REQ.
 0891              BS           END TYP TA    COMMON        END TYP TA          COMPUTE NEW END OF TABLE.
 0893              TS, CD TYPE  (MEMORY)      HEALTH        XMIT RTRN

# Page 175
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  23        PAGE  23

P089301            PROCEDURE TO RESPOND TO THE OP CODE "SEGNUM", WHICH MUST OCCUR ONCE IN THE EARLY PERIOD OF A SEGMENT
R089303 ASSEMBLY.  ITS FUNCTION IS TO NAME THE PROGRAM THAT THE SEGMENT IS TO RUN WITH, THAT IS, THE PROGRAM THAT "OWNS"
R089305 THE SEGMENT.  THE RESULT OF THIS PROCESSING IS TO GARNISH THE ASSEMBLY LISTING WITH THE NAME OF THE OWNER, AND
R089307 PLACE THE NAME OF THE OWNER INTO SEG OWNER, WHERE THE TAPE-READING GROUP WILL FIND IT AND ENTER THAT PROGRAM'S
R089309 ENTIRE SYMBOL TABLE INTO THE SEGMENT ASSEMBLY.



 08931  SEGNUM Q   NA, C2T7     OP FIELD      W SEGNUM      END EARLY           IF NOT MEMORY OR SEGNUM, END EARLY PER.
 089314            EX           SWITCH        BIT 7         COMMON
 089316            LA           COMMON        ZERO          END EARLY           BAD NEWS IF NOT SEGMENT ASSEMBLY.
 08932             TS           LOC FIELD     COMMON        ANAL SUBF      C    LOC FIELD SHOULD NAME OWNING PROGRAM.
 089324            TX, CD TYPE  (SEGNUM)      -             HEALTH
 089326            NA           FIELD COD     BIT 1         BAD SEGNO           NAME OF OWNER MUST LOOK LIKE A SYMBOL.

 08933             TX           L COMP NAM    -             Z,X4
 089332            SWS,THREAD10 N,X4          12            Z,X4                POINT TO NAME OF THIS SEGMENT.
# Annotation on listing.
# Add 2 lines:
#                 TX           Z,SC,1        -             -
#                 SS           4,1           THREAD10      Z,X4
 089336            NA           Z,X4          L END THR     C,+3                BRANCH TO CONTINUE SEARCH FOR OWNER.

 08934  BAD SEGNO  SS           ZERO          BIT 7         SWITCH              ABANDON ATTEMPT AT SEGMENT ASSEMBLY.
 089344            TS, BIT 8    ONES          HEALTH        END SEGNO           CUSS AND DO IT AS PROGRAM ASSEMBLY.

# Annotation on listing.
# Card 089348 (following line) crossed out, and arrow pointing up to annotation before card 089336.
 089348            SS           4,1           THREAD10      Z,X4                FOLLOW THREAD TO NEXT PROG OR SEG.
 089352            NA           N,X4          COMMON        BAD SEGNO -1        BRANCH IF DIDNT FIND NAME OF OWNER.

 089356            SWS, C7T8    4,1           24            HEALTH              FIRST ASSUME THAT OWNER HAS NO SUBROS.
 08936             SSL, ONE     4,1           23            C,+1           C    BRANCH TO GET REV NUMBER IF IT DOES.
 089364            SSL, ONE     4,1           12            C,+3
# Annotation on listing.
# Following line replaced with:
#                 SM           L DIRECTY     HEALTH        Z,AU1
 089366            SS           HEALTH        THREAD 10     Z,X4           C
# Annotation on listing.
# Following line replaced with:
#                 SWS. C7T8    N,AU1         36            HEALTH
 089368            SWS, C7T8    N,X4          36            HEALTH         S    FETCH REV NO FROM 1ST SUB THREAD WORD.
 089372            TS           COMMON        SEG OWNER     C,+2                IF PROGRAM, IT'S A PROPER OWNER.
 089376            TS           -             -             BAD SEGNO           IF SUBROUTINE, IT AIN'T.
 08938 *           TX           W OWNER EQ    -             OLD LINE +14
 089382            TX           SEG OWNER     -             OLD LINE +15        ANNOUNCE OWNER ON COVER SHEET.
 089386            SWS, CHAR8   SEG OWNER     A,1,L         PAGE HEAD +13
 089388*           SWS, CHAR1   SEG OWNER     A,1,L         PAGE HEAD +14
 08939             SWS, C2T7    SEG OWNER     A,1,L         PAGE HEAD +14       DECORATE PAGE HEAD SIMILARLY.
 089394 END SEGNO  TS           LATE MEM      SEGNUM Q +3   XMIT RTRN           ALLOW JUST ONE SEGNUM CARD PER SEGMENT.

# Page 176
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  24        PAGE  24

P0894   END EARLY IS EXECUTED AS SOON AS A CARD IS FOUND WHICH DOES NOT BELONG TO THE EARLY PERIOD.

 0896   END EARLY  TX           CHECK OP      -             NON REM             INHIBIT SPECIAL CHECK FOR "MEMORY" CODE.

R0898   GENERAL OPERATION CODE CHECKING BEGINS HERE.

 0899   CHECK OP   TS           BLANKS        COMMON        C,+1
 0900              TS, C2T7     OP FIELD      COMMON        ANAL SUBF      C    ANALYZE OPERATION CODE FIELD.
 0902              LA           FIELD COD     ZERO          OP SEARCH

 0903              NA           FIELD COD     BIT 1         NON SYM OP          BRANCH IF OP FIELD NOT SYMBOLIC.
 0905              TS           N L CHAR 6    Z,S3          SYMBOL OP           INITIALIZE ASTERISK SEARCH.

 0907   NON SYM OP NA, BIT6     FIELD COD     ONES          ILLEGOP             SIGNED NUMERIC OP IS ILLEGAL.
 0909   SHIFT NOP  SPS, B22T32  COMMON +1     0             HEALTH              SHIFT COUNT IS FILLED IN WHEN LOADING.
 0911              LN           COMMON +1     MAX NUM OP    INSTRUCT            BRANCH IF NUM OP HAS OK SIZE.

 09122  ILLEGOP    SS           TYPE F        L STYPE       SWITCH
 0913              TS           ZERO          LOC STATE     BLNK LOCN      C
 0917              TS, CD TYPE  (ILLOP)       HEALTH        REG INCON +1        ADVANCE LOC CTR FOR ILLEGAL OP CODE.

 0919              NA, ALFMASK  COMMON        BLANKS        C,+2                BRANCH WHEN RIGHTMOST NBC FOUND.
 0921   SYMBOL OP  TS           N,S3,1        ALF MASK      C,-1                FIND RIGHTMOST NBC BY SHIFTING MASK.
 0923              NA, ALFMASK  COMMON        ASTRISKS      C,+3                BRANCH IF THERE IS NO RIGHT ASTERISK.
 0925              SM           HEALTH        BIT 11        HEALTH              SIGNAL ASTERISK FOUND.
 0927              SS           BLANKS        ALF MASK      COMMON              BLANK OUT SAME.
 0929   OP SEARCH  TX           M OP THRS     -             Z,X4
 0930              SWS, B22T25  COMMON        17            C,+1                USE BITS 5-8 OF OPERATION SYMBOL TO
 0932              SWE, ONES    4,0           0             Z,X4                INDEX INTO NON-THREADED LIST.
 0934              TX           Z,SC,1        -             -
 0935   SPECL OP   LA           N,X4,1        ZERO          ILLEGOP             ZERO WORD SIGNIFIES END OF SUBLIST.
 0937              NA,C1T6      COMMON        4,0           C,-1                OP CODE TABLE SEARCH.
 0939              NA, BIT 37   4,0           ZERO          C,+2                BRANCH ON MACHINE CODE FOUND.

 0941              SS           N,X4          B38T48        Z,SC                GO TO APPROPRIATE CLERICAL CODE ROUTINE.

 0943   OP FOUND   SWS, B22T32  N,X4          16,L          HEALTH              STORE OP CODE XLATION AND CONTROL INFO.

R0945   PASS 1 PROCESSING FOR INSTRUCTIONS AND SINGLE-PRECISION CONSTANTS.

 0946   INSTRUCT   TS, CD TYPE  (INSTR)       HEALTH        C,+3

 0947   DECIMAL    TS, CD TYPE  (DECML)       HEALTH        C,+2

 0948   OCTAL      TX, CD TYPE  (OCTAL)       -             HEALTH

 0949              SS           TYPE F        L STYPE       SWITCH              ALL INSTRS AND CONSTS GO INTO FIXED MEM.
 0951              NA, CHAR1    CARDNO WD     J COLUMN 1    REG INCON           BRANCH IF NOT LEFTOVER.
 0953              TS           Z,SC,1        -             LFTVR LOC      C    TRANSLATE LOCATION FIELD.

 0955   REG INCON  TS           ZERO          LOC STATE     LOCATION       C    TRANSLATE REGULAR LOCATION FIELD.
 0957              SM           HEALTH        LOC STATE     HEALTH              STORE RESULTS OF TRANSLATION.
 0959              TS           -             -             XMIT RTRN

# Page 177
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  25        PAGE  25

P0960              PROCEDURES FOR THE CLERICAL FUNCTIONS REPRESENTED BY "IS", "=", OR "EQUALS" (AND ITS VARIANTS "=PLUS"
R0062   AND "=MINUS"), AND BY "LOC" OR "SETLOC".  THESE CODES MAY HAVE ANY ADDRESS FORMAT ACCEPTABLE FOR INSTRUCTIONS,
R0964   EXCEPT THAT ANY ADDRESS SYMBOL IN A SETLOC CARD MUST BE PREDEFINED.  THE "=PLUS" AND "=MINUS" CODES DIFFER FROM
R0966   "EQUALS" ONLY IN ADDING OR SUBTRACTING THE LOCATION COUNTER TO (FROM) THE ADDRESS FIELD VALUE.  IF EQUALS FAILS
R0968   TO DEFINE ITS LOCATION SYMBOL BY REASON OF AN UNDEFINED (NOT ILL-DEFINED) ADDRESS SYMBOL, IT KEEPS THE MODIFIER,
R0970   AND PASS 1.5 TRIES TO MAKE THE DEFINITION, UNTIL WHICH TIME THE SYMBOL IS SAID TO BE NEARLY-DEFINED.  THE
R0972   ADDRESS GENERATED FOR SETLOC MUST BE IN FIXED OR GENERAL ERASABLE MEMORY.  SETLOC FAILURE LEAVES LOC CTR ALONE.

 0974   IS EQUALS  TS           ZERO          LOC LOC       C,+3                ENTRY FOR IS, =, EQUALS.
 09742  EQU MINUS  TS           LOC CTR       LOC LOC       C,+2                ENTRY FOR =MINUS.
 09744  EQU PLUS   BS           ZERO          LOC CTR       LOC LOC             ENTRY FOR =PLUS.
 0975              TS, CD TYPE  (EQUALS)      HEALTH        C,+3
 0976   SETLOC     TX, CD TYPE  (SETLOC)      -             HEALTH              ENTRY FOR LOC, SETLOC.
 09772             TX           ZERO          -             LOC LOC

 0978              NA, BIT 11   HEALTH        ZERO          ILLEGOP             ASTERISK MAKES ILLEGAL OP.
 0982   DECOD ADR  TS           Z,SC          Z,X4          ADR FIELD           DECODE ADDRESS FIELD.
 0984              NA           FIELD COD     ONES          C,+2
 0985              TS, BIT 13   ONES          HEALTH        NO ADRESS           ABORT IF MEANINGLESS ADDRESS FIELD.

 09862             LA, FIX MAG  ONES          LOC LOC       CH IL SIZE +1       BAD LOC CTR KILLS =PLUS AND =MINUS NOW.
 098622            NA           FIELD COD     ZERO          COMBIN LC -1
 098624            TS           B2 B6         FIELD COD     BAD LOC Q      C    IF BLANK ADR FIELD, FAKE UP ABSOLUTE.
 098626            BS           ZERO          LOC CTR       ADR WD
 09864             TX           BIT 2         -             FIELD COD +1
 09865             TS           LOC LOC       ADR WD +1     COMBIN LC +1        FAKE UP A MODIFIER IF IT LACKS ONE.
 098655            LA           FIELD COD +1  ZERO          C,-2

 09866  COMBIN LC  BA           ADR WD +1     LOC LOC       ADR WD +1           COMBINE LOC CTR WITH EXISTING MODIFIER.
 09867             SWS, BIT5    ADR WD +1     1             FIELD COD +1        SET UP SIGN OF NET MODIFIER.
 0987              LA, B2B6     ONES          FIELD COD     IL MODIF Q          BRANCH IF MAIN PART IS UNSIGNED NUMERIC.
 0999              LA           BIT 1         FIELD COD     SYM IS LOC          BRANCH IF ADDRESS FIELD CONTAINS A SYM.
 1001   BAD LOC Q  LA           ONES          LOC CTR       CH IL SIZE +1       BRANCH IF LOCATION COUNTER IS BAD.
 1002              BS           ADR WD        LOC CTR       ADR WD              FORM ADDRESS RELATIVE TO L.C. SETTING.

 1004   IL MODIF Q BA           ADR WD        ADR WD +1     ADR WD              ADD MODIFIER PART TO UNSIGNED NUMERIC.
 1006              TS           ADR WD        LOC LOC       CH IL SIZE          GO TO TEST SIZE OF NUM + MODIFIER.

# Page 178
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  26        PAGE  26

P10079  EXAMINE CONDITION OF ADDRESS SYMBOL IN EQUALS OR SETLOC.

 1008   SYM IS LOC TS           ADR WD        COMMON        ANAL SYMB      C    ANALYZE ADDRESS SYMBOL HISTORY.
 1010              NA           COMMON +2     ONES          C,+2
 1011              TS, BIT16    ONES          HEALTH        NO ADRESS           EXIT IF SYMBOL TABLE IS FULL.

 10128             EBS          Z,X2          BIT 25        ETS
 1013              SWS, CAC2    ETS           16,L          HEALTH              STORE ADDRESS OF ADDRESS SYMBOL.
 1015              LA           3 D8          COMMON +2     C,+3
 10151             LA           COMMON +2     ZERO          C,+2
 1016              TS, BIT 12   ONES          HEALTH        NO ADRESS           SIGNAL ADDRESS NEARLY DEFINED.

 1018              SWE, D12     COMMON +2     16            Z,S0                USE HEALTH OF SYMBOL...
 1020   FIND XFRM  WA           Z,S0          L XFORMS      Z,S0                ...TO FIND TRANSFORM.
 1022              SSL, ONE     N,S0          44            C,+1                TEST PREDEFINITION BIT.
 1024              TS, BIT 11   ONES          HEALTH        NO ADRESS           SIGNAL ADDRESS UNDEFINED AS YET.

 1026              SSL, ONE     N,S0          45            C,+1                TEST DEF/NO-DEF BIT.
 1028              TS, BIT 14   ONES          HEALTH        NO ADRESS           SHOW OVERSIZE/ILL-DEFINED ADDR SYMBOL.

 1032              EX           COMMON +2     CAC3          LOC LOC
 1038              BS           LOC LOC       ADR WD +1     LOC LOC             ADD MODIFIER TO SYMBOL DEFINITION.

R10391  CHECK ON SIZE OF ADDRESS FIELD VALUE, AND, IF SETLOC, ON MEMORY TYPE AND CONFLICT AS WELL.

 1040   CH IL SIZE LA, FIX MAG  LOC LOC       MAX ISEQL     C,+2
 1041              TS, BIT 14   ONES          HEALTH        NO ADRESS           OVERSIZE FROM ALL PATHS BUT UNDEF.

 1045              SS           LOC LOC       CAC3          HEALTH
 1046              LA, CD TYPE  HEALTH        (EQUALS)      ISEQ LSYM           BRANCH FOR NORMAL IS,= PATH.

 1048              TX           L TYP TAB     -             Z,X5
 1049              LA, CAC3     HEALTH        5,0           C,+2                LOOK UP MEMORY TYPE FOR SETLOC.
 1051              TS           Z,X5,1        -             C,-1

 1052              NA, L STYPE  5,0           TYPE N        C,+2
 1053              TS, BIT 10   ONES          HEALTH        ND SETLOC           SIGNAL SETLOC TO SPEC/NON MEMORY.
 1055              EX           HEALTH        CAC3          LOC CTR             CHIEF NORMAL ACTION OF SETLOC.
 1057   ND SETLOC  NA           LOC FIELD     BLANKS        C,+2
 1058              TS           PROC RTRN     Z,SC          SEND POPO      C    AS PER XMIT RTRN.
 1060              TS, BIT 8    ONES          HEALTH        XMIT RTRN           CUSS ABOUT NON-BLANK LOC FIELD IN LOC.

 1071   NO ADRESS  NA, CD TYPE  HEALTH        (EQUALS)      ND SETLOC           MAKE FAULTY SETLOC VOID.
 1073              TS           ONES          LOC LOC       ISEQ LSYM           SIGNAL NO DEFINITION FOR LOCSYM OF IS,=.

R10751  CONFLICT-CHECKING LOOP FOR POSTDEFINITION OF LEFTOVERS BY IS OR = (CALLED FROM LEFTYPER-1).

 10753  ISL CONFQ  TS           COMMON +2     Z,AU1         C,+3
 10754             LA           HI LIM        Z,AU1         IT IS               EXIT (S0 IS CHANGED IF ANY CONFLICT).
 107542            WA           Z,AU1         ONE           Z,AU1
 10755             TS           Z,AU1         COMMON        AVAIL 2        C    SCAN FORWARD THROUGH LEFTOVER BLOCK.
 10756             LA           BIT 32        COMMON        ISL CONFQ +1        BRANCH IF NO CONFLICT THIS TIME.
 10757             TS           Z,SC          Z,S0          ISL CONFQ +1        FORCE SPECIAL TRANSFORM IF CONFLICT.
 10758             DEC          -B00 000

# Page 179
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  27        PAGE  27

P1076   THE FOLLOWING SECTION DEALS WITH THE LOCATION SYMBOL OF AN IS, =, OR EQUALS CARD ACCORDING TO THE DISPOSITION OF
R1078   THE ADDRESS FIELD.

 1079   ISEQ LSYM  TS           LOC FIELD     COMMON        ANAL SUBF      C    ANALYZE LOCATION FIELD OF IS,=,EQUALS.
 1081              NA           FIELD COD     BIT 1         XMIT RTRN           SIGNAL ERROR IF NOT SYMBOLIC, AND EXIT.

 1083              TS, BIT8     ONES          HEALTH        ANAL SYMB      C    SIGNAL SYMB LOCN, GET SYMBOL HISTORY.
 10842             NA           COMMON +2     ONES          C,+3
 1085              SM           HEALTH        BIT 15        HEALTH
 1086              TS           PROC RTRN     Z,SC          SEND POPO      C    ABORT IF SYMBOL TABLE IS FULL.

 1088              TS           COMMON        COMMON +1     FIND XFRM -1   C
 1089              TX           2,1           -             COMMON +3      C    SAVE SYMBOL, GET ADDRESS OF TRANSFORM.
 10901             LA           COMMON +2     2 D8          IT IS -1
 10932             NA, D8       COMMON +2     5D8           IT IS -1            BRANCH IF LOC SYM WAS NOT LEFTOVER.
 10934             NA           LOC LOC       ONES          C,+3                BRANCH IF AN OK DEFINITION WAS MADE.
 10936             SM           N,X2          D4            N,X2                THROW UP HANDS IF EQUALS FAILED TO DEF.
 1094              TS           -             -             NOT OK DEF

 1098              SSL, ONE     COMMON +2     15            C,+1
 1099              TS           TYPE F        COMMON        C,+2                WHEN SYMBOL GOES WITH LEFTO CON OR INST.
 1101              TX           TYPE E        -             COMMON              WHEN SYMBOL GOES WITH LEFTOVER ERASE.
 1103              TX           L TYP TAB     -             Z,X5
 1104              LA, CAC3     LOC LOC       5,0           C,+2                BRANCH WHEN MEMORY TYPE IS KNOWN.
 1106              TS           Z,X5,1        -             C,-1

 1107              NA, LSTYPE   5,0           COMMON        LEFTYPER            BR IF LEFTOVER EQUATED TO WRONG TYPE.
 1109              EX           COMMON +2     SPEC MAG      COMMON
 1110              WA, FIX MAG  COMMON        LOC LOC       HI LIM              FORM END OF LEFTOVER BLOCK.
 1112              LA, CAC3     HI LIM        5,0           ISL CONFQ           BR IF MEM TYPE OK FOR WHOLE BLOCK.
 1114   LEFTYPER   TS, D8       DD8           COMMON +2     IT IS +1            INDICATE TYPE ERROR IN SYMBOL TABLE.

 1116   NOT OK DEF NA, BIT 13   HEALTH        ONES          C,+2
 1117              TS, D8       ONES          COMMON +2     END IS              MEANINGLESS ADDRESS MAKES HEALTH = G.

 1119              NA, BIT 14   HEALTH        ONES          C,+3
 1120   EQ OVSIZE  SWS, D8      N,S0          D,1,L         COMMON +2           USE TRANSFORMS FOR OVERSIZE DEFINITION.
 1122              TS           -             -             END IS

# Page 180
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  28        PAGE  28

P1123   IF THE ONLY TROUBLE WITH AN EQUALS CARD IS AN UNDEFINED ADDRESS SYMBOL, MAKE PASS 1.5 TRY TO FIX IT UP.

 11235             LA, FIX MAG  ADR WD +1     SPEC MAG      C,+2
 11236             TS, BIT 14   ONES          HEALTH        EQ OVSIZE           BEING SIGNED, MODIFIER IS 15 BITS.
 11238             SWE, CAC3    ADR WD +1     1,L           COMMON +2           STORE MODIFIER WITH SIGN AT RIGHT END.

 1124   DEFINER Q  SWE, CAC3    HEALTH        16            ETS                 POINT TO DEFINER.
 11242             SWS, CAC12   ETS           32,L          COMMON +3
 11243             LA           ETS           ZERO          NEARLY              BRANCH IF DEFINER DIDN'T FIT IN TABLE.
 112445            EBA          ETS           BIT 25        Z,X5
 11245             SWS, CAC2    5,1           16,L          COMMON +3           DEFINER'S 1ST DEFINEE IS OUR CO-DEFINEE.
 112465            EBS          Z,X2          BIT 25        ETS
 11247             SS           ETS           CAC3          5,1                 THIS SYM IS NOW DEFINER'S 1ST DEFINEE.

 11251             LA           N,X2          CAC3          NEARLY              BRANCH IF THIS IS THE FIRST DEFINTION.
 11252             LA           END SY TAB    SYM PLACE     NEARLY
 112522            NA           SYM PLACE     SPEC MAG      C,+2
 112524            WA           SYM PLACE     THREE         SYM PLACE           SKIP OVER 32K STOPPER.
 11253             WA, CAC3     SYM PLACE     ONE           5,1                 THIS MULT. DEF. WILL GET A NEW HOME.
 11254             S, ETS       3,0           ZX +4         C,+1                POINT TO MULT. DEF. INTRODUCTUON.
 11255             LA           CAC12         4,2           NEARLY              BRANCH IF IT REALLY IS ONE.
 11256             WA           SYM PLACE     BIT 46R       ETS                 THIS IS THE SECOND DEFINTIION, SO MAKE
 112564            NA           ETS           SPEC SIGN     C,+2                ROOM FOR THE MULT. DEF. INTRODUCTION.
 112566            WA           ETS           THREE         ETS                 SKIP OVER 32 STOPPER.
 11257             LA           END SY TAB    ETS           NEARLY
 11258             SS           ETS           CAC3          5,1                 INTRO. POINTS TO THIS DEF (NOW CURRENT).
 1126   NEARLY     SS           N,S0          D8            COMMON +2           USE UNDEFINITION TRANSFORMS.
 1128              TS           -             -             END IS

 11282             LA           ONES          LOC LOC       NOT OK DEF          BRANCH IF NO OK DEFINITION.
 1129   IT IS      SWS, D8      N,S0          D,1           COMMON +2           USE NORMAL IS,=,EQUALS TRANSFORM.
 1131              SS           LOC LOC       CAC3          COMMON +2

 11318  END IS     TX           BIT 8         -             LOC STATE
 1132              TS           Z,SC          Z,X6          SY DEF XIT          STORE ENTRY IN SYMBOL TABLE.
 11332             NA, B8B17    LOC STATE     ONES          XMIT RTRN           EXIT UNLESS LOC SYMBOL FAILED TO FIT.
 11334             NA, CD TYPE  HEALTH        (ERASE)       C,+2                BRANCH IF OP CODE IS EQUALS.
 11336             TS, BIT16    ONES          HEALTH        XMIT RTRN           SHOW UNFITTING OF ERASE LOC SYM.
 11338             SM           HEALTH        BIT 15        HEALTH              SHOW UNFITTING OF EQUALS LOC SYM.
 1134              TS           -             -             XMIT RTRN

# Page 181
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  29        PAGE  29

P1135              PROCEDURE TO HANDLE THE CLERICAL CODE ..ERASE..  IF THE ADDRESS FIELD IS BLANK OR SIGNED NUMERIC, THE
R1137   LOCATION COUNTER GIVES THE LOWER LIMIT AND IS ADVANCED TO HIGH LIMIT +1.



 1138   ERASE      TX, CD TYPE  (ERASE)       -             HEALTH
 1139              NA, BIT 11   HEALTH        ZERO          ILLEGOP             ASTERISK MAKES ILLEGAL OP.
 1141              TS           Z,SC          Z,X4          ADR FIELD           DECODE ADDRESS FIELD.

 1143              NA           FIELD COD     ONES          C,+2
 1144   ERAS WHAT  TS, BIT11    ONES          HEALTH        ER LOC SYM          WHEN ADDRESS IS MEANINGLESS.

 1146              NA, B2B6     FIELD COD     ONES          NOT ERANU           BRANCH IF NO U/S NUMERIC PART.
 1148              NA           FIELD COD +1  ZERO          C,+2
 1149              TS           ADR WD        ADR WD +1     CH ER SIZE          LONE NUMERIC IS BOTH LIMITS.

 1151              LA           ADR WD +1     BIT 7         ERAS THRU           MINUS SIGN ON MODIFIER MEANS THRU.
 1153              BA           ADR WD +1     ADR WD        ADR WD +1           FOR PLUS MODIFIER, UPPER LIMIT IS SUM.
 1155              TS           -             -             CH ER SIZE

 1156   ERAS  THRU BS           ZERO          ADR WD +1     ADR WD +1           UPPER LIMIT IS NEGATIVE OF MODIFIER.
 1158              LA           ADR WD        ADR WD +1     CH ER SIZE          BRANCH IF LIMITS ARE IN OK ORDER.
 1160              TS, BIT 12   ONES          HEALTH        ER LOC SYM          BAD NEWS WHEN LOWER LIMIT IS GREATER.

 1162   NOT ERA NU NA           FIELD COD     BIT 1         NOT ERSYM
 1163              NA           ADR WD        W ANYWHAR     ERAS WHAT           ERROR IF SYMBOL IS NOT ..ANYWHERE..
 1165              SM           HEALTH        BIT 15        HEALTH              MARK CARD AS LEFTOVER.
 1167              NA           FIELD COD +1  ZERO          C,+2
 1168              TS           ZERO          HI LIM        ERA LEFTO           WHEN SYMBOL IS ALONE.

 1170              LA           ADR WD +1     BIT 7         ERAS WHAT           BAD NEWS WHEN MODIFIER IS MINUS.
 1174              LA, FIX MAG  ADR WD +1     SPEC MAG      ERA LEFTO           BRANCH IF MODIFIER HAS OK SIZE.
 1176              TS, BIT 12   ONES          HEALTH        ER LOC SYM          WHEN LEFTOVER BLOCK LENGTH TOO BIG.

 1178   NOT ERSYM  LA           ONES          LOC CTR       C,-1                CHECK FOR ILLEGAL LOC CNTR VALUE.
 1181              NA           FIELD COD     ZERO          C,+2                BRANCH IF ADDRESS FIELD IS NOT BLANK.
 1183              TS           BIT 1         HI LIM        LC LOW LIM          ERASE CURRENT LOCATION ONLY.

 1185              NA           FIELD COD +1  ZERO          C,+2                BRANCH IF THERES 2 SIGNED NUMERIC PARTS.
 1187              TS           ADR WD        HI LIM        C,+2
 1188              BA           ADR WD        ADR WD +1     HI LIM
 1189   LC LOW LIM SM           LOC CTR       BIT 1         LOW LIM             AREA BEGINS WITH LOC CNTR VALUE ANYHOW.
 1191              LN           HI LIM        ONE           C,+2                NEGATIVE UPPER LIMIT MEANS THROUGH HERE.
 1193              BA           HI LIM        LOW LIM       HI LIM              OTHERWISE HI LIM GAVE REL ADRES OF END.
 1195              SS           LOW LIM       CHAR 1        HI LIM              ENSURE POSITIVE UPPER LIMIT.
 1197              LA           LOW LIM       HI LIM        C,+2                BRANCH IF LIMITS ARE IN OK ORDER.
 1199              TS, BIT 12   ONES          HEALTH        ER LOC SYM

 1201              LA, FIX MAG  ADR LIMIT     HI LIM        C,-1                ERROR IF UPPER LIM TOO BIG FOR MACHINE.
 1203              WA, FIX MAG  HI LIM        ONE           LOC CTR             FOR BLANK OR SIGNED NUM ADDRESSES ONLY.

# Page 182
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  30        PAGE  30

P1207   CHECK ADDRESS VALUES FOR SIZE, MEMORY TYPE, AND CONFLICT WITH OTHER ERASE CARDS.

 1209   CH ER SIZE LA, FIX MAG  HI LIM        MAX ISEQL     C,+2
 1210              TS, BIT12    ONES          HEALTH        ER LOC SYM          WHEN ADDRESS SIZE(S) ARE WRONG.
 1212              LA           ONES          LOW LIM       C,-1

 1213              SS           HI LIM        CAC3          HEALTH
 1214              SWS, CAC2    LOW LIM       16,L          HEALTH              PUT LIMITS INTO CARD.

 1216              TX           L TYP TAB     -             Z,X5
 1217              LA, CAC3     LOW LIM       5,0           C,+2                LOOK UP MEMORY TYPE OF LOWER LIMIT.
 1219              TS           Z,X5,1        -             C,-1

 1220              NA, LSTYPE   5,0           TYPE E        ERA TYPO            ERROR IF LOWER NOT ERASABLE.
 1222              LA, CAC3     HI LIM        5,0           C,+2                OK IF HIGH LIMIT IN SAME CATEGORY.
 1224   ERA TYPO   TS, BIT13    ONES          HEALTH        ER LOC SYM

 1225              EX           LOW LIM       FIX MAG       LOC LOC
 1226   ERA CONFQ  TS           LOC LOC       COMMON        AVAIL2         C    CHECK AVAILABILITY OF BLOCK.
 12272             WA           LOC LOC       ONE           LOC LOC
 1228              LA           BIT 32        COMMON        C,+2
 1229              SM           HEALTH        BIT 14        HEALTH              SIGNAL CONFLICT.
 1231              LA, FIX MAG  LOC LOC       HI LIM        ERA CONFQ

 1232   ER LOC SYM TS           LOC FIELD     COMMON        ANAL SUBF      C    ANALYZE LOCATION FIELD OF NON-LEFTOVER.
 1234              LA           FIELD COD     ZERO          XMIT RTRN           OK EXIT IF BLANK.

 1236              LA           FIELD COD     BIT 1         C,+3                BRANCH IF SYMBOLIC.
 1238              NA, B2B6     FIELD COD     ONES          XMIT RTRN           OK EXIT IF SIGNED NUMERIC.

 1240   B16(H)     TS, BIT 16   ONES          HEALTH        XMIT RTRN           ERROR EXIT IF UNSIGNED NUMERIC.

 1242              TS, BIT8     ONES          HEALTH        ANAL SYMB      C    ANALYZE LOCATION SYMBOL.
 1245              LA           ONES          COMMON +2     B16(H)              ERROR EXIT IF SYMBOL TABLE IS FULL.

 1252              TS           COMMON        COMMON +1     FIND XFRM -1   C    SAVE SYMBOL, ISOLATE OLD HEALTH.
 1253              WA           Z,S0          L XFORMS      Z,S0                GET ADDRESS OF LOCATION TRANSFORMS.
 1255              NA, BIT11    HEALTH        ONES          C,+2
 1256              TS, D8       ONES          COMMON +2     END IS              SYMBOL HEALTH BECOMES G IF ILLEG. ADR.

# Page 183
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  31        PAGE  31

P12575  SELECT AND APPLY TRANSFORM FOR ERASE LOCATION SYMBOL.

 1258              NA, BIT 12   HEALTH        ONES          C,+3
 1259              SWS, D8      N,S0          D,5           COMMON +2           USE TRANSFORM FOR OVERSIZE ASSIGNMENT.
 1261              TS           -             -             END IS

 1262              NA, BIT13    HEALTH        ONES          C,+3
 1263              SWS, D8      N,S0          D,4           COMMON +2           USE TRANSFORM FOR MEMORY TYPE ERROR.
 1265              TS, CAC3     LOW LIM       COMMON +2     END IS

 1266              NA, BIT14    HEALTH        ONES          C,+3
 1267              SWS, D8      N,S0          D,3           COMMON +2           USE TRANSFORM FOR CONFLICT.
 1269              TS, CAC3     LOW LIM       COMMON +2     END IS

 1270              SWS, D8      N,S0          D,6           COMMON +2           USE NORMAL ERASE TRANSFORM.
 1272              TS, CAC3     LOW LIM       COMMON +2     END IS

R1273   PROCEDURE TO HANDLE THE LOCATION FIELD OF A LEFTOVER ERASE CARD.

 1274   ERA LEFTO  SS           HI LIM        SPEC MAG      HEALTH
 1275              TS           LOC FIELD     COMMON        ANAL SUBF      C
 1276              NA           FIELD COD     BIT 1         XMIT RTRN           ERROR EXIT IF NOT SYMBOLIC.
 1278              TS, BIT8     ONES          HEALTH        ANAL SYMB      C
 1280              LA           ONES          COMMON +2     B16(H)              ERROR EXIT IF SYMBOL TABLE FULL.

 12812             TX           COMMON        -             COMMON +1           SAVE SYMBOL FOR SY DEF XIT.
 1282              LA           3 D8          COMMON +2     PRED ELEF           BRANCH IF SYMBOL IS PREDEFINED.
 12822             LA           COMMON +2     ZERO          GOT ELEFP -2
 1283              SM           HEALTH        BIT 10        HEALTH              SIGNAL PREDEFINITION FAILURE.
 12842  ERA LEF MD SS           ZERO          CAC3          HEALTH              IF ERASABLE LEFTO IS MULTIPLY DEFINED.
 1285              TS           D8            COMMON +2     END IS              MAKE HEALTH G AND EXIT.

 12885             SWE, CAC23   M ELEFTOP     16            COMMON +2           GET MACHINE'S ERAS LEFTO PARAMETERS.
 1289              TX           M ELEFTOP     -             Z,SC                VISIT MACHINE'S OWN ROUTINE.
 12895  GOT ELEFP  SWS, B26T30  COMMON +2     8             C,+1                USE (16 - MODULARITY) AS SHIFT COUNT.
 1290              SWE, CAC3    CAC3                        CACN                FORM LEFTOVER BLOCK SIZE LIMIT.
 12905             LA, SPECMAG  HI LIM        CACN          ANYWHA OK           BRANCH IF GOOD ERASABLE LEFTOVER.

 1291              SWE, ONES    EIGHT         16,L          COMMON +2           BLOCK SIZE TOO BIG CAUSES ILL-DEF SYM.
 12915             SS           ZERO          CAC23         HEALTH
 1292              TS, BIT12    ONES          HEALTH        END IS

 12925  ANYWHA OK  SM           COMMON +2     HI LIM        COMMON +2           PUT BLOCK SIZE INTO SYM TAB AND HEALTH.
 1293              TS, SPECMAG  HI LIM        HEALTH        END IS

 12935  PRED ELEF  HA           HEALTH        BIT 15        HEALTH              REMOVE LEFTOVER STATUS.
 1294              LA           5 D8          COMMON +2     ERA LEF MD          BRANCH IF BAD MULTIPLE DEFINITION.
 12945             EX           COMMON +2     CAC3          LOW LIM
 1295              WA, CAC3     LOW LIM       HEALTH        HI LIM
 12955             WD           COMMON +2     3 D8          COMMON +2           SET UP QUANTITIES AS FOR NON-LEFTOVER.
 12965             TS, CAC3     ZERO          HEALTH        CH ER SIZE          ERASE AND REJOIN MAIN SEQUENCE.

# Page 184
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  32        PAGE  32

P1297              PASS 1 PROCESSING FOR DOUBLE PRECISION CONSTANTS.  RESERVES AND TESTS ONE LOCATION IN ADDITION TO
R1299   THAT REFERENCED BY THE REGULAR LOCATION TRANSLATION PROCEDURE.

 1300   2OCTAL     TS, CD TYPE  (2OCTAL)      HEALTH        C,+2
 1301   2DECIMAL   TX, CD TYPE  (2DECML)      -             HEALTH
 1302              TX           ONES          -             SAVE LOC            SET UP LATER TEST.
 1304              SS           TYPE F        L STYPE       SWITCH
 1305              NA, CHAR1    CARDNO WD     J COLUMN 1    REG DPCON           BRANCH IF NOT LEFTOVER.
 1307              SM           HEALTH        ONE           HEALTH              BLOCK LENGTH -1.
 1309              TS           Z,SC,1        -             LFTVR LOC      C    TRANSLATE LEFTOVER LOCATION FIELD.

 1311   REG DPCON  TS           ZERO          LOC STATE     LOCATION       C    TRANSLATE REGULAR LOCATION FIELD.
 1313              SM           HEALTH        LOC STATE     HEALTH
 1314              NA, B12B14   HEALTH        ZERO          XMIT RTRN           EXIT IF LEFTOVER OR OVERSIZE LOCATION.
 1316              LA           ONES          SAVE LOC      C,+2                BRANCH IF LOC CTR  WAS NOT SAVED.
 1318              WA, CAC3     HEALTH        ONE           LOC CTR
 1319              TS           LOC CTR       LOC VALUE     INCR LCTR      C
 1321              LA           LOC VALUE     MAX LOC       C,+3                BRANCH IF SIZE OF 2ND LOC IS OK.
 1323              SM           HEALTH        BIT 14        HEALTH
 1324              TS           ONES          LOC CTR       DP LOC END          WHEN 2ND LOC VALUE IS TOO BIG.

 13252             SSL, ONE     HEALTH        33            C,+1                BRANCH IF 1ST LOC IN BAD MEMORY TYPE.
 1326              NA, CAC3     HEALTH        5,0           CONFQ 2             BRANCH IF 1ST LOC NOT END OF CATEGORY.
 1328              SM           HEALTH        BIT 15        HEALTH              WHICH WOULD MEAN TYPE ERROR ON AT LEAST
 1330              NA, B8B17    HEALTH        BIT 8         DP LOC END          ONE OF THE LOCATIONS.
 1332              SWS, D7      N,X2          D,3           C,+1                IF LOC IS SYMBOLIC AND IN TABLE, USE THE
 1334              SWS, D4      N,SC,8        0             N,X2                DP TYPE ERROR TRANSFORMATION.
 1336              DEC          GFFD FF9F D900

 1337   CONFQ 2    TS           LOC VALUE     COMMON        AVAIL2         C    TEST AND RESERVE 2ND LOCATION.
 1339              LA           BIT 32        COMMON        DP LOC END          BRANCH IF IT WAS AVAILABLE.
 1341              SM           HEALTH        BIT 16        HEALTH
 1342              NA, B8B17    HEALTH        BIT 8         DP LOC END
 1343              SWS, D7      N,X2          D,3           C,+1                WITH SAME CONDITIONS AS FOR TYPE ERROR,
 1345              SWS, D4      N,SC,1        0             N,X2                USE DP CONFLICT TRANSFORM.
 1347              DEC          GFEF FBFF EB00

 1348   DP LOC END LA           ONES          SAVE LOC      XMIT RTRN           EXIT IF LOC CTR  WAS NOT SAVED.
 1350              TS           SAVE LOC      LOC CTR       XMIT RTRN           RESTORE LOC CTR  AND EXIT.


R135105            PASS 1 PROCEDURE FOR AN EVEN CARD.  INCREMENTS LOCTION COUNTER IF IT IS ODD.

 13511  EVEN       NA, BIT 11   HEALTH        ZERO          ILLEGOP             ASTERISK MAKES ILLEGAL OP.
 13512             NA           ADDRESS 1     BLANKS        NB EVELOC
 13513             NA           ADDRESS 2     BLANKS        NB EVELOC
 13514             LA           MAX LOC       LOC CTR       C,+2                BRANCH IF LOC CTR ALREADY AT MAXIMUM.
 13515             SSL, ONE     LOC CTR       0             C,+2           C
 13516             SWS, BIT 14  LOC CTR       34,L          HEALTH              MAYBE CUSS ATTEMPT TO FLY OFF THE END.
 13517             TS, CD TYPE  (EVEN)        HEALTH        C,+2
 13518             WA           LOC CTR       ONE           LOC CTR        S    LOCATION IS ODD, SO ADD ONE.

 135185            TS           LOC CTR       LOC LOC       CH IL SIZE
 13519  NB EVELOC  TS, BIT 13   ONES          HEALTH        EVEN +3             CUSS MILDLY AT NON-BLANK ADDRESS FIELDS.

# Page 185
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  33        PAGE  33

P1352              PASS 1 PROCESSING FOR A BLOCK CARD.  NO SYMBOLIC SUBFIELD IS ALLOWED IN THE ADDRESS FIELD, AND THE
R1354   MODIFIER, IF THERE IS ONE, MUST BE POSITIVE AND LESS THAN THE BLOCK SIZE FOR THE COMPUTER.  THE ABSOLUTE PART,
R1356   IF THERE IS ONE, MUST BE A VALID BLOCK NUMBER IN FIXED OR ERASABLE.

 1357   BLOCK      NA, BIT 11   HEALTH        ZERO          ILLEGOP             ASTERISK MAKES ILLEGAL OP.
 1359              TS           Z,SC          Z,X4          ADR FIELD           DECODE ADDRESS FIELD.
 1361              LA           ONES          FIELD COD     ILFO BLOK           WHEN ADDRESS FIELD IS MEANINGLESS.
 1362              LA           FIELD COD     ZERO          BLANK BLK           BRANCH IF ADDRESS FIELD IS BLANK.
 13621             NA, B2B6     FIELD COD     BIT 2         BLOK SHIF -1        BRANCH UNLESS MAIN PART IS SIGNED NUM.
 13622             NA           FIELD COD +1  ZERO          C,+2                BRANCH IF THERE ARE 2 SIGNED NUM PARTS.
 13623             TS           ADR WD        ADR WD +1     C,+2
 13624             BA           ADR WD        ADR WD +1     ADR WD +1           COLLECT MODIFIER AS MINOR PART OF ADDR.

 13625  BLANK BLK  NA           LOC CTR       ONES          C,+2
 13626             TS, BIT14    ONES          HEALTH        BLOCK LOC           CANNOT EVALUATE REL TO BAD LOCATION.
 13627             TX           LOC CTR       -             LOC VALUE
 13628             SS           ZERO          BLOK ONES     LOC VALUE           SET LOC VALUE TO BEGINNING OF BANK.
 13629             TS           FIELD COD     FIELD COD +1  BLOK SHIF +1        SHOW WHETHER MODIFIER IS PRESENT.
 1363              NA, B2B6     FIELD COD     ONES          ILFO BLOK           WHEN THERE IS NO NUMERIC PART.

 1365   BLOK SHIF  SPE, FIX MAG ADR WD        0             LOC VALUE           SHIFT AMOUNT SUPPLIED BY INITIALIZATION.
 1367              LA           FIELD COD +1  ZERO          CH BL SIZE          BRANCH IF THERE IS NO MODIFIER.

 1369              LA           ADR WD +1     BIT 7         ILFO BLOK           ERROR IF MODIFIER IS MINUS.
 1371              LA, FIXMAG   ADR WD +1     BLOK ONES     C,+2                BRANCH IF MODIFIER LESS THAN BLOCK SIZE.
 1373   ILFO BLOK  TS, BIT 12   ONES          HEALTH        BLOCK LOC           ILLEGAL ADDRESS FIELD FORMAT EXIT.

 1375              BS           LOC VALUE     ADR WD +1     LOC VALUE           ADD MODIFIER TO SHIFTED NUMERIC.
 1379   CH BL SIZE LA           LOC VALUE     MAX LOC       C,+2
 1380              TS, BIT 11   ONES          HEALTH        BLOCK LOC           EXIT FOR NO SUCH BLOCK.

 1382              TX           L TYP TAB     -             Z,X5
 1383              LA, CAC3     LOC VALUE     5,0           C,+2                LOOK UP MEMORY TYPE.
 1385              TS           Z,X5,1        -             C,-1
 1386              NA, LSTYPE   5,0           TYPE N        C,+2                BRANCH IF IN FIXED OR ERASABLE.
 1388              TS, BIT 13   ONES          HEALTH        BLOCK LOC           MEMORY TYPE ERROR EXIT.

 1390              TX           LOC VALUE     -             Z,X4
 1391              SM           LOC VALUE     BLOK ONES     LOC VALUE           FORM END OF MAJOR BLOCK.
 1393              LA, CAC3     LOC VALUE     5,0           C,+2                BRANCH IF MAJOR BLOCK END COMES FIRST.
 1395              EX           N,X5          CAC3          LOC VALUE           WHEN MINOR BLOCK END COMES FIRST.

 1397              TS           Z,X4          COMMON        AVAIL1         C    NON-DESTRUCTIVE AVAILABILITY TEST.
 1399              LA           BIT 32        COMMON        GOOD BLOK           BRANCH IF AVAILABLE.
 14001             WA           Z,X4          ONE           Z,X4
 1401              LA           Z,X4          LOC VALUE     C,-3
 1402              TS, BIT 10   ONES          HEALTH        BLOCK LOC           WHEN BLOCK IS FULL.

 1404   GOOD BLOK  SM           HEALTH        Z,X4          HEALTH              STORE FOUND ADDRESS.
 1406              TX           Z,X4          -             LOC CTR             SET LOC CTR  ACCORDINGLY.

 1408   BLOCK LOC  NA           LOC FIELD     BLANKS        C,+2
 1409              TS, CD TYPE  (BLOCK)       HEALTH        XMIT RTRN
 1410              TS, BIT 8    ONES          HEALTH        C,-1                SIGNAL NON-BLANK LOCATION FIELD.

# Page 186
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  34        PAGE  34

P1412              PASS 1 PROCESSING OF A HEAD OR TAIL CARD.  RIGHT-JUSTIFIED LOCATION FIELD AND USES RIGHTMOST CHARAC-
R1414   TER, EVEN IF BLANK.



 1415   HEAD TAIL  NA, BIT 11   HEALTH        ZERO          ILLEGOP             ASTERISK MAKES ILLEGAL OP.
 1417              TX           LOC FIELD     -             HEAD
 1418              TX           BIT 45        -             Z,S0                LOOP LIMIT IS 8.

 1420              NA, CHAR8    HEAD          BLANKS        C,+3
 1421              SWS, ONES    HEAD          A,1           HEAD                RIGHT-JUSTIFY.
 1423              NA           Z,S0,1        ONE           C,-2

 1424              SS           HEAD          CHAR 8        HEALTH              STORE HEAD IN POPO.
 1431              TS, CD TYPE  (HEAD)        HEALTH        XMIT RTRN



R1432              PROCEDURE FOR MEMORY OR SEGNUM CARDS THAT ARRIVE TOO LATE.

 1433   LATE MEM   TS, CD TYPE  (2LATE)       HEALTH        XMIT RTRN



R1434              PROCEDURES FOR FIRST "END OF" CARD AND SUBSEQUENT "END OF" CARDS.

 1436   END OF     TS           SEND ENDO     END OF        END EARLY      C    AT FIRST SUCH CARD, WAKE RD1 AND TELL
 1438              TS, KNOWSUBS ONES          SWITCH        MON WAKE       C    IT THE SUBROUTINES ARE KNOWN.
 1440              SS           ZERO          BIT 1         SWITCH              PROHIBIT RENUMBERING IN SUBROUTINES.
 14402             TX           BIT 24        -             B24 B32             TURN OFF DIRECT BIT FOR SUBRO DIRECTORY.
 14404             TS           LL SUB TAB    Z,X4          ST SUB THR     C    INITIALIZE THREAD TO CURRENT SUBROUTINE.
 1441              TX           ZERO          -             REAL CDNO           PREVENT FALSE ALARMS IN REJECTION.
 14412             NA, BIT11    SWITCH        ZERO          SEND ENDO           USE EXISTING "END OF" CARD FOR REPRINT.
 1442              NA, MERJMODE SWITCH        ONES          SEND ENDO           WHEN REVISING, FIRST "END OF" CARD MUST
 1444              TN           (END OF)      11            HEALTH              BE REPLACED BY THE ONE MADE BY PASS 0.

 1446   SEND ENDO  TS           LL SUB TAB    Z,X5          SEND ENDO +1        THIS ALONE FOR 2ND "END OF" ET SEQ.
 144612            EBA          N,X5          BIT 25        Z,X5
 144614            LA           ONES          N,X5          ST SUB THR +1

 14462             SS           ZERO          BIT 24        N,X5,1              WIPE OUT CURRENT-PROG/SUB CALL BIT
 14464             S, ETS       5,0           ZX +5         C,+1                IN SUBROUTINE DIRECTORY ENTRIES.
 14466             NA           N,X5          ONES          C,-2                BRANCH IF MORE SUBS IN THIS ASSEMBLY.
 146672            S, ETS       L NEXT SUB    ZX +4         C,+1                POINT TO NEXT SUBROUTINE TO ENTER ASSY.
 144674            SWE, CHAR8   N,X4          A,3           HEAD                ESTABLISH HEAD SPECIFIED IN CALL.
 144676            SSL, ONE     N,X4,1        25            C,+1                "BRANCH" IF THERE IS A GOOD BASE ADDR.
 144678            TS           ONES          LOC CTR       C,+2
 14468             SWE, CAC3    N,X4          16            LOC CTR
 144682 ST SUB THR TX           N,X4          -             L NEXT SUB          LEAVE POINTER TO FOLLOWING SUBROUTINE.
 144684            NA, BIT8     SWITCH        ONES          XMIT RTRN           EXIT VIA SEND POPO UNLESS FREEZING SUBS.
 144686            TX           PROC RTRN     -             Z,SC                OTHERWISE KILL INTERMEDIATE "END OF"S.

# Page 187
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  35        PAGE  35

P1447              PASS 1 PROCESSING OF A SUBROUTINE CALL CARD.  EXTRACTS A SUBROUTINE NAME AND AN OPTIONAL HEAD DESIG-
R144705 NATION FROM THE ADDRESS FIELD, ENTERS THE SUBROUTINE NAME AND BASE ADDRESS IN THE AD HOC SUBROUTINE DIRECTORY,
R14471  AND MARKS THE SUBROUTINE ACTIVE OR INACTIVE.  ALSO USES THE BASE ADDRESS TO DEFINE THE SYMBOL, IF ANY, IN THE
R144715 LOCATION FIELD.



 14472  SUBRO      TX, CD TYPE  (SUBRO)       -             HEALTH
 14473             TX, BIT11    ZERO          -             HEALTH              ASTERISK BIT HAS A DIFFERENT USE HERE.
 144732            LA           END OF        SEND ENDO     ILLEGOP             SNUB SUBRO CARDS AFTER 1ST "END OF".
 14474             NA, BIT 9    SWITCH        ZERO          ILLEGOP             FOR NOW, FORBID SUBROS TO CALL SUBROS.
 14476             NA           ADDRESS 2     BLANKS        SUB RJUST -1
 14477             NA           ADDRESS 1     BLANKS        C,+2                ADDRESS FIELD ALL BLANK IS BAD.
 14479  SUB AD ILF TS, BIT12    ONES          HEALTH        BAD SBCAL

 1448              TX           BLANKS        -             AFIELD
 14481             TS           ADDRESS 1     AFIELD +1     SUB RJUST
 14482             TN           ADDRESS 1     2             AFIELD

 14483  SUB RJUST  NA, CHAR8    AFIELD +1     BLANKS        C,+2                RIGHT-JUSTIFY ADDRESS IN AFIELD.
 14485             TS           L SUB RJUS    Z,SC          2SRT 1C        C
 14486  CUR HED SB SWE, CHAR5   HEAD          A,3,L         COMMON +3           ASSIGN PREVAILING HEAD TO SUBROUTINE.
 14488             NA, CHAR7    AFIELD +1     BLANKS        SNAM SIZ Q          BRANCH IF NO HEAD WAS GIVEN IN ADDRESS.
 1449              SWE, CHAR5   AFIELD +1     A,3,L         COMMON +3           USE LONELY CHAR AT RIGHT AS HEAD FOR SB.
 14492             SS           BLANKS        CHAR 8        AFIELD +1
 14493             NA           AFIELD        BLANKS        SUB LJUST
 14494             NA           AFIELD +1     BLANKS        SNAM SIZ Q +1       BRANCH UNLESS 1-CHAR UNHEADED SUB NAME.
 14496             SWS, CHAR1   COMMON +3     A,4,L         AFIELD              PUT SUBROUTINE NAME BACK.
 14498             TS           Z,SC,8        -             CUR HED SB     C    RESTORE PREV. HEAD, TAB TO ST SUBNAM.

 1450   S NAM SIZQ NA           AFIELD        BLANKS        SUB AD ILF          BRANCH IF SUBRO NAME OVER 8 CHARACTERS.
 14502             TX           AFIELD +1     -             AFIELD
 14503             TX           BLANKS        -             AFIELD +1

 14504  SUB LJUST  NA, CHAR1    AFIELD        BLANKS        ST SUBNAM           LEFT-JUSTIFY SUBROUTINE NAME.
 14506             SWS, ONES    AFIELD        A,1,L         AFIELD
 14507             SWS, ONES    AFIELD +1     A,1,L         AFIELD +1
 14508             SS           AFIELD +1     CHAR 8        AFIELD
 14509             TS, CHAR8    BLANKS        AFIELD +1     SUB LJUST

 1451   ST SUBNAM  NA           AFIELD +1     BLANKS        SUD AD ILF          BRANCH IF SUBROUTINE NAME OVER 8 CHARS.
 14512             TX           L COMP NAM    -             Z,X4
 14513             SWS,THREAD10 N,X4          12            Z,X4                POINT TO 1ST PROG/SUBRO OF MACHINE.
 14515             TX           LL SUB TAB    -             Z,X6                POINT TO ORIGIN OF SUBRO DIRECTORY.
 14517             S, ETS       6,0           ZX +5         MOR SUBS Q +3       POINT TO FIRST CALLED SUBROUTINE.

# Page 188
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  36        PAGE  36

P145185 LOOK UP THE SUBROUTINE NAME IN THE TAPE DIRECTORY AND THE AD HOC DIRECTORY SIMULTANEOUSLY.

 14519  SUB LUKUP  NA           Z,AU1         Z,X4          NOT IN DIR          COMPARE AD HOC DIRECTORY WITH TAPE DIR.
 14521             NA           N,AU1         AFIELD        NEXT DSUB           COMPARE WITH SUBROUTINE BEING CALLED.
 14523             SM           HEALTH        BIT 13        HEALTH              CUSS MULTIPLE CALLS FROM ONE PROGRAM.
 14525             TX           CHAR 5        -             ALF MASK
 14526             NA, ALF MASK COMMON +3     5,1           C,+2                BRANCH IF HEAD DESIGNATIONS CONFLICT.
 14528  BAD SBCAL  TS           ZERO          Z,X2          SUBRO LOC           SHOW THAT THERE IS NO BASE ADDRESS.
 1453              SM           HEALTH        BIT 19        HEALTH
 14531             TS           ZERO          Z,X2          SUBRO LOC

 14532  NEXT DSUB  EBA          Z,X5          ONE           Z,X6
 14533             S, ETS       6,0           ZX +5         C,+1                ADVANCE ONE PLACE IN AD HOC DIRECTORY.

 14535  MOR SUBS Q SWS,THREAD10 4,1           0             Z,X4                ADVANCE ONE PLACE IN TAPE DIRECTORY.
 14537             NA           Z,X4          L END THR     C,+2                BRANCH IF THERE ARE MORE SUBS OR PROGS.
 14539             TS, BIT11    ONES          HEALTH        BAD SB CAL          CUSS UNRECOGNIZED SUBROUTINE NAME.

 14541             SSL, BIT46R  4,1           10            MOR SUBS Q          "BRANCH" IF PROGRAM, NOT SUBROUTINE.
 14543             TS           N,X5          Z,AU1         SUB LUKUP           FETCH THREAD FROM AD HOC DIRECTORY.

 14545  NOT IN DIR NA           N,X4          AFIELD        MOR SUBS Q          COMPARE TAPE DIRECTORY SUBRO WITH CALL.
 14547             SWS, B22T32  Z,X4          16,L          HEALTH              THREAD HEALTH TO TAPE FILE DIRECTORY.
 14549             SWS, BIT13   4,1           35,L          HEALTH              MAYBE CUSS MULTIPLE CALLS FROM 1 PROG.
 14551             SM           4,1           ONE           4,1                 SHOW THAT THIS SUBROUTINE IS CALLED.
 14553             NA           SYM PLACE     END SY TAB    C,+3                BRANCH IF THERE'S ROOM FOR AD HOC ENTRY.
 14555             SM           HEALTH        BIT 18        HEALTH              CUSS NO ROOM IN SYM TAB FOR AD HOC SUB.
 14557             TS           ZERO          Z,X2          SUBRO LOC

 14558             SM           COMMON +3     Z,X4          COMMON
 14559             SM           COMMON        B24 B32       COMMON              CREATE WORD 1 OF AD HOC SUBRO DIRECTORY.
 14561             TS           L PROG FIL    Z,X3          C,+2           C
 14562             SSL, ONE     3,1           23            C,+2                A PROG WHO HAD NO SUBS HAS ONLY ACTIVES.
 14564             TX           L END THR     -             Z,X2           S
 14565  ACTIV SUB  TS           BIT 31        COMMON +2     SUBRO DIR      C    PREPARE ACTIVE-SUBROUTINE BIT.
 145662            LA, CHAR7    ASTRISKS      OP FIELD      C,-1                OP CODE "SUBRO*" DEMANDS PRINTING.

# Page 189
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  37        PAGE  37

P145665 SCAN PROGRAM'S TREE OF SUBROUTINE THREADS TO FIND ACTIVE SUBROUTINES.

 14567             SWS,THREAD11 3,1           24            Z,X3                POINT TO FIRST SUBRO THREAD WORD.
 14569  THREAD 2Q  SWS,THREAD10 N,X3          24            Z,X2                FOLLOW THREAD AND POINT TO A SUBROUTINE.
 14571             SSL, ONE     N,X3          24            SUB THRD Q     C    TEST OBSOLETING-THREAD BIT.
 14573             NA, BIT13    3,0           ZERO          ACTIV SUB           TEST LAST-THREAD-IN-TREE BIT.

 14575             SWS,THREAD10 N,X3          12            Z,X2
 14576             SSL, ONE     N,X3          12            SUB THRD Q     C
 14578             SSL, ONE     N,X3          23            ACTIV SUB -1   C
 14579             NA, BIT37    3,0           ONES          THREAD 1Q           DITTO FOR THIRD THREAD IN THREAD WORD.

 14581             SS           N,X3          THREAD 10     Z,X2
 14582             SSL, ONE     N,X3          0             SUB THRD Q     C
 14583             TS           BIT 31        COMMON +2     SUBRO DIR      C    DITTO FOR FOURTH THREAD IN THREAD WORD.

 14585  THREAD 1Q  SS           N,X3          THREAD 11     Z,X3                FOLLOW THREAD TO THE NEXT THREAD WORD.
 14587             SWS,THREAD10 N,X3          36            Z,X2
 14588             SSL, ONE     N,X3          36            SUB THRD Q     C    TEST OBSOLETING BIT OF FIRST THREAD.
 1459              TS           -             -             THREAD 2Q           (THERE'S ALWAYS A 2ND THD AFTER A 1ST).

 14592  SUB THRD Q TS           ZERO          COMMON +2     C,+2           C    ENTER HERE ON INACTIVE SUBRO.
 14594             TX           BIT 31        -             COMMON +2      C    ENTER HERE ON ACTIVE SUBROUTINE.
 14596             NA           Z,X2          Z,X4          N,SC,1         C    EXIT IF NOT THE SUBRO NOW BEING CALLED.

R145975 STORE FINISHED ENTRY IN AD HOC SUBROUTINE DIRECTORY AND PROCESS LOCATION FIELD, CHECKING CONFLICT OF 1ST LOC.

 14599  SUBRO DIR  SM           COMMON        COMMON +2     COMMON         C
 145992            NA, BIT8     SWITCH        ONES          C,+2           C    BRANCH IF NOT FREEZING SUBROUTINES.
 145994            TS, CHAR1    R COLUMN 1    CARDNO WD     XMIT RTRN           OTHERWISE MAKE SUBRO CARDS INTO REMARKS.
 145998            EBA          Z,X6          ZERO          Z,X3           C
 1460              TS           Z,CSC         Z,SC          NEW UNSYM      C    STORE AD HOC SUBROUTINE ENTRY IN SYMTAB.
 14602             TS, CHAR1    END ERR M +1  SYM OR NOT    CLR COMM 2     C    RESTORE SYMBOL SUROUTINE.

 14604  SUBRO LOC  EBA          Z,X2          ZERO          LOC LOC
 14605             WD           OK L TYPE     ONE           OK L TYPE           MODIFY LOCATION SUBROUTINE SO AS NOT TO
 14607             TS, L STYPE  TYPE F        SWITCH        REG INCON      C    RESERVE ANY LOCATIONS, WHILE CHECKING.
 14609             WA           OK L TYPE     ONE           OK L TYPE
 1461              LA           LOC LOC       ZERO          SUBRO XIT
 146105            LA           ONES          LOC CTR       REG INCON +1        EXIT NOW IF NO GOOD LOCATION.
 14611             EBS          LOC LOC       ONE           Z,X2                POINT TO SUBROUTINE DIRECTORY ENTRY.
 146115            SM           N,X2          BIT 23        N,X2,1              SHOW THAT THERE IS A BASE ADDRESS.
 14613             SWS, CAC2    LOC STATE     16,L          N,X2                STORE BASE ADDRESS IN AD HOC SUBRO NTRY.
 14615  SUBRO XIT  TS           LOC VALUE     LOC CTR       REG INCON +1



R14616  TRIVIAL SUBROUTINE TO INCREMENT LOC CTR UNLESS IT IS BAD.

 14617  INCR LCTR  LA           ONES          LOC CTR       N,SC,1         C
 14618             WA           LOC CTR       ONE           LOC CTR        S

# Page 190
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  38        PAGE  38

P14619             SUBROUTINE IN PASS 1 TO BREAK DOWN THE ADDRESS FIELD OF A MERGE CONTROL CARD, THAT IS, WITH AN OP
R1463   CODE OF "CARDNO" OR "DELETE".  USES THE SENTENCE READER.  SETS UP FIELDCOD AND CNLIMIT AS FOLLOWS:

R1465   FIELD ALL BLANK         FIELDCOD=0
R1466   "THROUGH" WITH NUMBER   FIELDCOD=B1, CNLIMIT=NUMBER
R14661  "THRU"    WITH NUMBER   FIELDCOD=B1, CNLIMIT=NUMBER
R14663  "TO"      WITH NUMBER   FIELDCOD=B2, CNLIMIT=NUMBER
R1467   "WITH"    WITH NUMBER   FIELDCOD=B3, CNLIMIT=NUMBER

R1468   THE NUMBER IN THE ADDRESS FIELD MAY BE "SEQBREAK" OR "SEQBRK" CAUSING CNLIMIT TO BECOME ALF 10000000, OR UP TO 6
R1470   DECIMAL DIGITS WITH AN OPTIONAL DECIMAL POINT.  IF THE POINT IS PRESENT, THERE MAY BE UP TO FOUR DIGITS TO ITS
R1472   LEFT AND UP TO TWO DIGITS ON ITS RIGHT.  IF THE POINT IS ABSENT AND THERE ARE FOUR DIGITS OR LESS, THE POINT IS
R1474   ASSUMED TO BE AT THEIR IMMEDIATE RIGHT.  IF THE POINT IS ABSENT AND THERE ARE FIVE OR SIX DIGITS, THE POINT IS
R1476   ASSUMED TO FOLLOW THE FOURTH DIGIT.  AT LEAST ONE BLANK OR OTHER TERMINATOR MUST SEPARATE THE TWO SUBFIELDS, BUT
R1478   NO IMBEDDED BLANKS ARE ALLOWED IN EITHER SUBFIELD.  IF ANY OF THESE RULES ARE VIOLATED OR THERE IS A THIRD
R1480   SUBFIELD, FIELDCOD IS SET TO ALL ONES AND THE CARD IS IGNORED AND CUSSED AT FOR A MEANINGLESS ADDRESS FIELD.
R1482   THE NUMBER SET UP IN CNLIMIT IS STANDARDIZED TO SIX DIGITS THUS: ALF 0NNNNNN0, WITH A POINT ASSUMED AFTER CHAR5.

 1484   MCCD ADRF  TX           MON WAA       -             Z,X6
 1485              TN           REAL CARD +3  2             6,2
 1486              SM           CHAR1         Z,SH          6,4                 SLYLY HIDE RETURN ADDRESS.
 1488              TS           -             -             MON SENTR           SET UP AND CALL SENTENCE READER.
 1491              NA           6,16          BLANKS        C,+3
 1492              NA, CHAR1    6,18          ONES          BAD MCCD            CUSS IF CONTAINS TERMINATOR ONLY.
 1494              TS           ZERO          FIELD COD     MCAF DONE           EXIT IF ADDRESS FIELD ALL BLANK.

 1496              NA, CHAR1    6,18          BLANKS        BAD MCCD
 1497              NA, CHAR1    6,21          ONES          BAD MCCD            CUSS UNWANTED TERMINATORS.
 1499              NA           6,16          W THROUGH     C,+2
 1500              TS           BIT 1         FIELD COD     MCCD NUMB
 1501              NA           6,16          W THRU        C,+2
 1502              TS           BIT 1         FIELD COD     MCCD NUMB           SIGNIFY THROUGH AND GO TO FIND NUMBER.

 15032             NA           6,16          W WITH        C,+2
 15034             TS           BIT 3         FIELD COD     MCCD NUMB           SIGNIFY WITH.

 1504              NA           6,16          W TO          BAD MCCD
 1505              TX           BIT 2         -             FIELD COD           SIGNIFY TO.

 1507   MCCD NUMB  NA           6,19          W SEQBRAK     C,+2
 1508              TS           BIT 6         CN LIMIT      MCAF DONE
 15092             NA           6,19          W SEQBRK      C,+2
 15094             TS           BIT 6         CN LIMIT      MCAF DONE           EXIT WHEN NUMBER IS SEQUENCE BREAK.

 1510              TX           CHAR 6        -             ALF MASK
 1511              LA           ONES          6,19          BAD MCCD
 1512              LA, ALF MASK 6,21          ZERO          BAD MCCD            BAD EXIT WHEN NUMBER IS MISSING.
 1514              TX           BIT 46R       -             Z,S3                COUNTER OF DIGITS BEFORE POINT.
 1516              TX           ZERO          -             CN LIMIT
 1517              LA, ALF MASK 6,21          SPEC MAG      NEX CN DIG +1       LENGTH OF NUMBER MAY BE UP TO SEVEN.

 1519   BAD MCCD   TS           ONES          FIELD COD     MCAF DONE           SIGNIFY MEANINGLESS FIELD AND EXIT.

# Page 191
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  39        PAGE  39

P1521   LOOP TO ANALYZE CARD NUMBER IN ADDRESS FIELD.

 1522   NEX CN DIG SWS, ONES    6,19          A,1,L         6,19                MOVE NEXT CHARACTER INTO POSITION.
 1524              LA, CHAR1    TEN C1        6,19          PT BLANK            BRANCH IF NOT A DIGIT.
 1526              LA           Z,S3,1        ZERO          FRAC CN +2          BRANCH IF THIS THE FIFTH DIGIT.

 1528              SWS, ONES    CN LIMIT      A,1,L         CN LIMIT            MOVE UP PREVIOUS DIGITS.
 1530              SWS, CHAR5   6,19          A,4           CN LIMIT            PLANT A BEFORE-POINT DIGIT.
 1532              TS           -             -             NEX CN DIG

R1533   IF THE FIFTH OR EARLIER CARD IS NOT A DIGIT, IT MUST BE A DECIMAL POINT OR A BLANK.

 1535   PT BLANK   NA, CHAR1    6,19          POINT C1      END MCCDA

 1536   FRAC CN    SWS, ONES    6,19          A,1,L         6,19
 1537              LA, CHAR1    TEN C1        6,19          END MCCDA
 1538              SWS, ALFMASK 6,19          A,5           CN LIMIT            PLANT FIRST DIGIT AFTER POINT.

 1540              SWS, ONES    6,19          A,1,L         6,19
 1541              LA, CHAR1    TEN C1        6,19          END MCCDA
 1542              SWS, CHAR7   6,19          A,6           CN LIMIT            PLANT SECOND DIGIT AFTER POINT.
 1544              SWS, ONES    6,19          A,1,L         6,19

 1545   END MCCDA  NA, CHAR1    6,19          BLANKS        BAD MCCD            BAD EXIT IF QUEER CHARACTER.
 1547              NA           6,22          ONES          BAD MCCD            BAD EXIT IF THIRD SUBFIELD.
 1549              LA, C2T7     A999999       CN LIMIT      MCCD NUMB +1        CHECK FOR 999999 SEQUENCE BREAK.
 1551   MCAF DONE  TX           6,4           -             Z,SC

# Page 192
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  40        PAGE  40

P1567              SUBROUTINE IN PASS 1 TO GET A REAL CARD.  NORMALLY PERFORMS CARD NUMBER CHECKING.  RESPONSE TO YUL
R1569   DIRECTOR OR MONITOR CARD (END OF FILE SITUATIONS) IS TO PEEK ONLY.
R1575   RETURNS TO L+1 ON END OF FILE, OR TO L+2 OTHERWISE, WITH CARD IMAGE IN REAL CARD.



 15762  GET CARD   WA           SOURCE        ONE           Z,X4
 1577              TS           Z,SH          Z,X5          MON PEEK       C    SAVE RETURN AND PEEK AT CARD.
 1579              NA, CHAR1    4,0           Y COLUMN 1    ENDJOB Q            BRANCH IF NOT A YUL DIRECTOR CARD.

 1581              SWS, BIT4    Z,SC,1        19            SWITCH              SHOW THAT ANOTHER TASK FOLLOWS.

 1603   ENDJOB Q   NA, CHAR1    4,0           ASTRISKS      C,+2                BRANCH IF NOT ANY KIND OF END OF FILE.
 1605              TS           BIT 6         REAL CDNO     N,X5                END OF FILE EXIT AFTER PEEK AT MON CARD.

 16062             NA, BIT11    SWITCH        ZERO          5,0                 SEE NO INPUT IF REPRINTING.

 1607              S, MON READ  REAL CARD     -              -
 1608              NA, CHAR8    REAL CARD     BLANKS        C,+2
 1609              TS, CHAR8    ONE           REAL CARD     ACCEPT CD           INSERT UPSPACE 1 FOR BLANK.

 16102             NA, CHAR8    REAL CARD     BIT 43        C,+2
 16104             TS, CHAR8    TWO           REAL CARD     ACCEPT CD           ASSUME MINUS IS A FAT-FINGERING OF 2.

 1611              LA, D12      REAL CARD     NINE          C,+2
 1612              TS, CHAR8    BIT 45        REAL CARD     ACCEPT CD           INSERT FORM-SKIP FOR NON-NUMERIC.

 1614              SS           ZERO          B43T44        REAL CARD           CLEAR ZONE BITS OF VERTICAL FORMAT.
 1618   ACCEPT CD  SWS, BIT 44  SWITCH        42            REAL CARD           MARK ALL CARDS ENTERING DURING MERGING.
 1620              LA, CHAR1    REAL CARD     BLANKS        C,+4                BRANCH IF COLUMN 1 WAS 00-15.
 1622              LA, B3T6     REAL CARD     ZERO          C,+2                BLOT OUT 20, 40, OR 60.
 1624              LA, B3T6     REAL CARD     ALF 9 C1      C,+3                ALLOW ANY LETTER IN COLUMN 1.
 1626              TS, CHAR1    BLOTS         REAL CARD     C,+2                BLOT OUT UNDESIRABLE COLUMN 1 CONTENTS.
 1628              LA, CHAR1    REAL CARD     (INSTR)       C,-1                ALLOW 13, 14, AND 15.
 1630              TX           ZERO          -             RL CD HLTH

# Page 193
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  41        PAGE  41

P1639   CARD NUMBER SEQUENCE CHECKING AND SEQUENCE BREAK ANALYSIS.

 1640              SWE,YYNNYYYY REAL CARD     A,3           CARD NO             ISOLATE CARD NO. FOR SEQ. BRK. ANALYSIS.
 1642              TS           SIX           Z,X4          CDNO CHEK +1

 1643   CDNO CHEK  SWS, ONES    CARD NO       A,1           CARD NO
 1644              LA, CHAR2    CARD NO       ALF 9 C2      C,+3                BRANCH IF CHARACTER IS NUMERIC.
 1646              NA, CHAR2    CARD NO       BLANKS        SEQ BREAK -1        BRANCH IF CHARACTER IS NOT NUM OR BLANK.
 1648              SS           ZERO          CHAR2         CARD NO             SUBSTITUTE ZERO FOR BLANK.
 1650              NA           Z,X4,1        ONE           CDNO CHEK

 1651              LA           A999999       CARD NO       SEQ BREAK           CARD NUMBER 999999 IS A SEQUENCE BREAK.

 16522             LA, D12      NINE          REAL CARD     TEST ORDR           DO NOT TEST COLUMN 1 OF RIGHT PRINT.
 1653              NA, CHAR1    REAL CARD     L COLUMN 1    RC NOT LOG          A LOG CARD IS AN AUTOMATIC SEQ. BREAK.

 16542             TS, C2T7     BLANKS        REAL CARD     SEQ BREAK           REMOVE CONFUSING INFO FROM LOG CARD.

 16544             LA, CHAR1    REAL CARD     EQUALS C1     SEQ BREAK           ALLOW FOR "LOG" IN COL 2-7 OF ACCEPTOR.
 16546             TS, C2T7     ZERO          REAL CARD     CDNO CHEK -2        SHOW ILLEGAL NUMBER FIELD BY ZERO.
 16548             NA, C2T7     REAL CARD     W SQBRMIN     C,-2                "SEQBRK" IS ONLY NON-NUMERIC ALLOWED.

 1655   SEQ BREAK  SM           REAL CARD     BIT 43        REAL CARD           INSERT SEQUENCE BREAK BIT IN CARD.
 1657              TS           BIT 6         REAL CDNO     5,1                 SET UP CRITERION AFTER SEQUENCE BREAK.

 16581  RC NOT LOG NA, CHAR1    REAL CARD     T COLUMN 1    C,+2                BRANCH IF NOT TINS (TUCK IN NEW SECTION)
 16583             TS, C2T7     BLANKS        REAL CARD     SEQ BREAK           ...WHICH IS AN INCIPIENT LOG CARD.

 16585             NA, CHAR1    REAL CARD     BLANKS        TEST ORDR
 16587             NA, C2T7     REAL CARD +2  W MODIFY      TEST ORDR
 16588             WA           SOURCE        ONE           Z,X4
 16589             TS, C2T7     BLANKS        REAL CARD     SEQ BREAK           OP CODE "MODIFY" IS AUTOMATIC SEQ. BRK.

 1659   TEST ORDR  LA, C2T7     CARD NO       REAL CDNO     DISORDER

 1660              TX, C2T7     CARD NO       -             REAL CARD           KEEP NORMAL FORM OF CARD NUMBER ON TAPE.
 1662              TS           CARD NO       REAL CDNO     5,1                 SET UP NEXT CRITERION.

 1664   DISORDER   TS           BIT 7         RL CD HLTH    TEST ORDR +1

# Page 194
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  42        PAGE  42

P1665              SUBROUTINE IN PASS 1 TO GET AN INPUT CARD IMAGE FROM TAPE VIA RD1.  TO INDICATE EOF ACTION, ENTRY IS
R1667              TS           L EOF EXIT    Z,S3          GET TAPE       C    (L EOF EXIT MIGHT WELL BE Z,SC,1).
R1669   IGNORES END SYPT ENTIRELY, RETURNS EOF-WISE ON END SYLT, RETURNS EOF-WISE ON END BYPT AND ANY SUBSEQUENT CALLS.
R1671   LOOKS FOR A BUFFERFUL NO SOONER THAN IT NEEDS IT, AND FREES A BUFFER, WAKING PARAPROGRAM RD1,
R1673   AS SOON AS THE LAST CARD HAS BEEN DELIVERED.  CHECKS FOR SEQUENCE BREAK OR SEQUENCE ERROR.



 1675   GET TAPE   TX           N,CSC,2       -             GET TAPE       C    INITIAL, OR BUFFER-SEEKING, MODE.
 1677              TS           INB PLACE     Z,X4          MOVE TPIN      C

 1679              TS           Z,SC          Z,AU1         CSC SLEEP      S
 1681              LA           N,R5          ZERO          C,-1           C    GO TO SLEEP IF NO INPUT RECORD READY.
 1683              TX           N,R5          -             Z,X4           C
 1684              LA, D8       4,0           ZERO          IN CHECK       C    BRANCH IF RECORD LACKS EOF BANNER BITS.
 1685              TS           ZERO          C,+0          TPIN EXIT -2   C    DISMISS END SYLT BUFFER, SET FOR EOFRI.
 16852             TX           EOR OR EOF +3 -             GET TAPE       C    DISMISS EOFRI BUFFER, SET TRIVIAL EXIT.

 1686   EOR OR EOF TS           N,R5          Z,CSC         C,+1           S
 1687              TS           ZERO          N,R5,1        FREE IN SV     C    DEMOTE OR FREE BUFFER.
 1688              SS           ZERO          BIT 46 R      Z,R5           S
 1689              TS           Z,S3          Z,SC          MON WAKE       C    REMOVE BUFFER FROM INPUT LIST, WAKE RD1.

 1690   IN CHECK   LA           N,X4,1        CHAR 5        MOVE TPIN +1   C    BR IF NO COMP NAME: MUST BE XFER INPUT.
 1691              TX           C1T4          -             CAC N          C    SYNTHETIC MASK FOR INPUT RECD COUNTER.
 1692              NA           N,X4          INPUT NAM     C,+2           C    BRANCH IF STARTING PROGRAM OR NEW SUBRO.
 1693              TS           N,X4,1        INPUT NAM     C,+3           C
 1694              NA           HEALTH        ZERO          DISASTER       C    LAST CARD SHOULD HAVE BEEN "END OF".
 1695              TS, CACN     ZERO          INRECNT       C,-2           C    RESET COUNT OF RECDS IN PROG OR SUBRO.
 1696              LA, CACN     4,0           ZERO          MOVE TPIN      C    ACCEPT UN-NUMBERED (OLD) RECORDS.
 1697              WA           INRECNT       BIT 15        INRECNT        C
 1698              NA, CACN     4,0           INRECNT       DISASTER       C    BRANCH IF INCOMING RECORD NO. IS WRONG.
 1699   MOVE TPIN  TS           Z,SC          INB PLACE     UNSQUEEZ       S    SHIFT TO SEQUENCE MODE TO RESTORE BLANK.

 16994             WA           GET TAPE +1   TWO           GET TAPE       C    SET SWITCH FOR TRANSFERRED INPUT.
 16996             TN           N,X4,10       11            TAPE CARD -1   C    INPUT FROM DISC IS NOT SQUEEZED.

 16998             TS           B5 B8 B10     CACN          C,+2           C
 169985            SWS, BIT44   Z,CSC,1       16            TAPE CARD      C    CLEAR ASTERISK IF FETCHING MAIN INPUT,
 16999             NA, CACN     SWITCH        B5 Z8 B10     C,-1           C    FREEZING SUBROUTINES, OR NOT REVISING.
 1700              TX           ZERO          -             TP CD HLTH     C
 1701              NA, BIT 43   TAPE CARD     ONES          C,+2           C    BRANCH IF NO SEQUENCE BREAK.
 1703              TS           BIT 6         TAPE CDNO     TEST EOR       C    SET UP POST-BREAK CRITERION.

 1705              LA, C2T7     TAPE CARD     TAPE CDNO     C,+3           C    BRANCH IF SEQUENCE ERROR.
 1707              TX           ZERO          -             TAPE CDNO      C
 1708              TS,C2T7      TAPE CARD     TAPE CDNO     TEST EOR       C    SET UP NEW CRITERION.
 1710              TS           BIT 7         TP CD HLTH    C,-2           C    PUT SEQUENCE ERROR BIT IN HEALTH.
 1712   TEST EOR   NA           4,2           EOR           TPIN EXIT      C    BRANCH IF NOT END OF RECORD.

 1714              TX           Z,SC          -             Z,S3           C    SET UP END-OF-RECORD EXIT.
 1715              TS           C,+1          GET TAPE      EOR OR EOF     C    SET UP BUFFER-SEEKING MODE.
 1717              TX           N,CSC,2       -             GET TAPE       C
 1719   TPIN EXIT  TX           Z,X4          -             INB PLACE           MARK PLACE IN BUFFER AND EXIT.

# Page 195
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  43        PAGE  43

P172001 PROCEDURE TO RECONSTITUTE CARD IMAGES BY RESTORING BLANK WORDS.  A CARD IMAGE IS REPRESENTED BY A CODE WORD FOL-
R172003 LOWED BY THE NON-BLANK WORDS IN THE CARD.  BITS 48-39 OF THE CODE WORD CORRESPOND TO THE 10 WORDS OF THE CARD,
R172005 1 INDICATING A BLANK WORD AND 0 INDICATING A NON-BLANK WORD TO BE OBTAINED FROM THE CONDENSED RECORD.  THE
R172007 AVERAGE RUNNING TIME OF A JUMP TABLE "SUBROUTINE" IS 9 MEMORY CYCLES.

 172008 UNSQUEEZ   TS           N,X4          Z,SH          C,+3           C
 17201             SWE, CAC3    L TAP CARD    32            Z,X5
 172011            MT           BLANKS        10            N,X6,1
 172013            TX           L TAP CARD    -             Z,X6           S
 172014            SSL, LOW5    N,X4,1        0             EXPANDER       C
 172016            SWE, CAC3    L TAP CARD    16            Z,X6
 172017            SSL, LOW5    Z,SH          5             EXPANDER       C
 172019            TS           INB PLACE     Z,SC          MOVE TPIN +3   C

 172021 L TAP CARD CAC          EXPANDER      TAPE CARD +5  TAPE CARD

 172022            SETLOC,5     1024          B7

 172023 EXPANDER   MT           N,X4,1        5             N,X6,1
 172024            TN           N,X4,4        4             6,1
 172025            TX           N,X4,1        -             N,X6           C
 172026            TN           N,X4,3        3             6,2
 172027            TX           N,X4,1        -             N,X6           C
 172028            TS           N,X4,1        6,1           C,+2           C
 172029            TX           N,X4,1        -             N,X6           C
 17203             TN           N,X4,2        2             6,3
 172031            TX           N,X4,1        -             N,X6           C
 172032            TS           N,X4,1        6,1           C,+2           C
 172033            MT           N,X4,1        3             N,X6,2
 172034            TS           N,X4,1        6,2           C,+4           C
 172035            TX           N,X4,1        -             N,X6           C
 172036            TS           N,X4,1        6,1           C,+2           C
 172037            MT           N,X4,1        2             N,X6,4
 172038            TX           N,X4,1        -             6,4

 172039            MT           N,X4,1        4             N,X6,1
 17204             TN           N,X4,3        3             6,1
 172041            TX           N,X4,1        -             N,X6           C
 172042            TN           N,X4,2        2             6,2
 172043            TX           N,X4,1        -             N,X6           C
 172044            TS           N,X4,1        6,1           C,+2           C
 172045            MT           N,X4,1        2             N,X6,3
 172046            TX           N,X4,1        -             6,3
 172047            MT           N,X4,1        3             N,X6,1
 172048            TN           N,X4,2        2             6,1
 172049            MT           N,X4,1        2             N,X6,2
 17205             TX           N,X4,1        -             6,2
 172051            MT           N,X4,1        2             N,X6,1
 172052            TX           N,X4,1        -             6,1
 172053            TX           N,X4,1        -             N,X6
 172054            TX           -             -             -

 172055            SETLOC,1
 172056 EXPANDER   ASSIGN       5,0

# Page 196
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  44        PAGE  44

P1721              SUBROUTINE IN PASS 1 TO TRANSMIT AN 11-WORD POPO (PASS ONE PROGRAM OUTPUT) TO WWT FOR WRITING ON TAPE
R1723   2.  LOOKS FOR A FREE BUFFER NO SOONER THAT IT NEEDS IT, AND PUTS A BUFFER INTO SAPO (SAVE & PASS 1 PROG OUTPUT)
R1725   STATUS AS SOON AS IT IS FULL.  EXPECTS INPUT TO START IN N,X0.  ENTER WITH COSEQUENCE CALL.  IF BIT 1 OF SWITCH
R17261  IS ON, RENUMBERS MOST CARDS, STARTING OVER AT EACH LOG CARD.

 1727   SEND POPO  TS           N,CSC,1       SEND POPO     GRAB FREE      C    INITAL, OR BUFFER-SEEKING, MODE.
 1729              TS           POB PLACE     Z,X4          RNUM TEST      C
 1731              TX           ZERO          -             N,AU1          C    PUT POPO FLAG IN FIRST WORD OF BUFFER.
 1733              TX           Z,AU1,1       -             POPO BUFF      C
 1741              WA           Z,AU1         C253          END POBUF      C    COMPUTE END OF BUFFER.
 1743              TS           Z,AU1         Z,X4          RNUM TEST      C
 17432  NON RNUM   LA           (CARD NO)     N,X0          MOVE POPO      C    BRANCH IF MERGE CONTROL CARD.
 17434             SS           Z,CSC,1       BIT 1         SWITCH         C    SHUT OFF RENUMBERING ON BAD MERGE.

 17436  RNUM TEST  LA           BIT 1         SWITCH        REM CHECK      C    BRANCH IF RENUMBERING IS ON.
 1744   MOVE POPO  TN           N,X0          11            N,X4,11        C
 1745              NA           Z,X4          END POBUF     POPO EXIT      C    BRANCH IF BUFFER IS NOT FULL.

 1747              TX           POPO BUFF     -             Z,SH           C
 1748              CC           N,SH          -             N,X4           C
 1749              TX           N,CSC,3       -             SEND POPO      C    SET UP BUFFER-SEEKING MODE.
 1750              TS           N,CSC,1       SEND POPO     GRAB FREE      C
 1751              LA           N,R7          ZERO          C,+3           C    BRANCH IF SAPO LIST IS NOT FULL.
 1752              TS           Z,SC          Z,AU1         CSC SLEEP      S    OTHERWISE SLEEP UNTIL THERE'S A VACANCY.
 1753              TS           SAPO NTRY     Z,R7          C,-2           C
 1755              TS           POPO BUFF     N,R7,1        -              C    PUT BUFFER INTO SAPO STATUS.
 1756              SM           Z,R7          BIT 46 R      SAPO NTRY      C
 1757              TS           Z,SC          Z,CSC         MON WAKE       C    MODULATE SAPO ENTRY POINTER AND EXIT.
 1761   POPO EXIT  TX           Z,X4          -             POB PLACE           MARK PLACE IN BUFFER AND EXIT.

 176203 REM CHECK  LA           (RIGHT P)     N,X0          RNUM CARD      C    GO TO RENUMBER MOST CARD TYPES.
 17621             NA, CHAR1    0,0           (REMARK)      NON RNUM       C    BR IF MERGE CONTROL OR MERGE ERROR CARD.
 176216            NA, CHAR1    0,1           L COLUMN 1    RNUM CARD      C    BRANCH TO RENUMBER NON-LOG REMARKS.
 176223 RESTART N  TX           ZERO          -             FIELD COD +1   C
 176224            TS           ZERO          RENUMBER      MOVE POPO      C    RESTART NUMBER SEQUENCE AFTER LOG ETC.

 17623  RNUM CARD  SS           ZERO          BIT 7         N,X0           C    WIPE OUT OBSOLETE SEQUENCE ERROR BIT.
 176236            LA           RENUMBER      MAX CARDN     C,+3           C
 17624             SM           0,1           BIT 43        0,1            C
 176243            TS, C2T7     W SQBR MIN    0,1           RESTART N      C    GENERATE SEQBREAK AFTER CARD 9998.98.

 17625             DA           RENUMBER      BIT 20        RENUMBER       C
 176252            SS           ZERO          BIT 43        0,1            C    ERASE OLD SEQUENCE BREAK FLAG.
 176255            TX           RENUMBER      -             POB PLACE      C
 17626             SWS, C5T8    POB PLACE     8             POB PLACE      C
 176265            TX           DEC ALF M1    -             ALF MASK       C
 17627             SWS, ALFMASK POB PLACE     4             POB PLACE      C
 176275            TX           DEC ALF M2    -             ALF MASK       C
 17628             SWS, ALFMASK POB PLACE     2             POB PLACE      C
 176285            TX           DEC ALF M3    -             ALF MASK       C
 17629             SWE, ALFMASK POB PLACE     2             POB PLACE      C    CONVERT NEW CARD NUMBER TO ALPHABETIC.
 176293            TX           POB PLACE     -             FIELD COD +1   C
 176295            TS, C2T7     POB PLACE     0,1           MOVE POPO      C    PLANT IT AND GO TO MOVE CARD.

# Page 197
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  45        PAGE  45

P1763              SUBROUTINE IN PASS 1 TO TRANSLATE A LOCATION FIELD WHOSE VALUE IS TO BE DETERMINED IN PASS 1.
R1765   WITH DESIRED MEMORY TYPE CODE IN BITS 25-27 OF  SWITCH , ENTRY IS

R1766              TS           ZERO          LOC STATE     LOCATION       C    OR TO BLNK LOCN IF THE LOCATION FIELD

R1768   IS TO BE CONSIDERED BLANK.  INCREMENTS LOC CTR AFTER USE. SETS THE LOC CTR TO ALL ONES IN CASE OF
R1770   OVERSIZE DEFINITION.  RETURNS IN LOC STATE THE FOLLOWING INFORMATION....
R1771   BIT 8  -- 1 IF LOCATION FIELD IS SYMBOLIC,
R1772   BIT 10 -- 1 IF AN ATTEMPTED PREDEFINITION OF THE LOC SYMBOL FAILED.
R1773   BIT 14 -- 1 IF AN OVERSIZE DEFINITION WAS GIVEN.
R1774   BIT 15 -- 1 IF LOCATION IS IN WRONG MEMORY TYPE.
R1775   BIT 16 -- 1 IF LOCATION CONTENTS ARE IN CONFLICT.
R1776   BIT 17 -- 1 IF THE LOCATION SYMBOL WAS LOST DUE TO A FULL SYMBOL TABLE.
R1777   BITS 33-48 -- LOCATION VALUE AS AN INTEGER, OR -0 IF OVERSIZE DEFINITION.
R1779   IF THE LOCATION IS SYMBOLIC, THE TRANSFORMED SYMBOL HEALTH IS STORED.

 1780   BLNK LOCN  TX           LXFORMS       -             Z,S0           C    INITIALIZE TRANSFORM ADDRESS.
 1782              TS           Z,SC          Z,X6          BLANK LOC           SET RETURN, CONSIDER LOCATION BLANK.

 1784   LOCATION   TS           Z,SC          Z,X6          C,+1                SET RETURN, CHANGE TO SC.
 1786              TS           LOC FIELD     COMMON        ANAL SUBF      C    ANALYZE LOCATION FIELD.
 1788              TX           L XFORMS      -             Z,S0                INITIALIZE TRANSFORM ADDRESS.
 1790              LA           FIELD COD     ZERO          BLANK LOC           BRANCH IF FIELD IS BLANK.

 1792              NA           FIELD COD     BIT 1         NUM LOC             BRANCH IF LOC FIELD IS NUMERIC.

 1794              SM           LOC STATE     BIT 8         LOC STATE           SIGNAL SYMBOLIC LOC.
 1796              TS           L SYM THR     Z,X5          ANAL SYMB +1   C    ANALYZE HISTORY OF SYMBOL.
 1798              NA           COMMON +2     ONES          C,+3
 17982             SM           LOC STATE     BIT 17        LOC STATE           COMMON+2 IS ALL ONES IF SYM TAB FULL.
 1800              TS           -             -             BLANK LOC           IN WHICH CASE TREAT LOC AS BLANK.

 1802              SWE, D12     COMMON +2     16            LOC VALUE           USING OLD SYMBOL HEALTH AS REL ADDRESS..
 1804              WA           Z,S0          LOC VALUE     Z,S0                GET ADDRESS OF TRANSFORM WORD.
 1809              SWS, D8      N,S0          D,6           COMMON +2           STORE TRANSFORMED SYMBOL HEALTH.
 1811              TS           COMMON        COMMON +1     BLANK LOC           SAVE SYMBOL FOR SY DEF XIT.

 1816   NUM LOC    NA, BIT6     FIELD COD     ONES          BLANK LOC           TREAT SIGNED NUMERIC LOC AS BLANK.
 1818              TX           LOC CTR       -             FIELD COD +1        IN CASE OF ILL-TYPE INSTANT SETLOC.
 1820              EX           COMMON +1     FIX MAG       LOC CTR             USE EXPLICIT DEFINITION TO RESET L.C.

 1823   BLANK LOC  TX           LOC CTR       LOC VALUE     INCR LCTR      C
 1825              TX           ONES          -             FIELD COD +1        SHOW NO INSTANT SETLOC.
 1827              LA           LOC VALUE     MAX LOC       OK L SIZE

 1828   BAD L SIZE TX           ONES          -             LOC CTR
 1830              SM           LOC STATE     BIT 14        LOC STATE           SIGNAL OVERSIZE.
 1832              SWS, D8      N,S0          D,5           COMMON +2           USE OVERSIZE TRANSFORM ON SYMBOL HEALTH.
 1834              TS           ZERO          LOC VALUE     LOC EXIT -2

# Page 198
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  46        PAGE  46

P18345  CHECK OTHER QUALITIES OF A LOCATION VALUE OF USABLE SIZE.

 1835   OK L SIZE  TX           L TYP TAB     -             Z,X5
 1836              LA, CAC3     LOC VALUE     5,0           C,+2                LOOK UP MEMORY TYPE.
 1838              TS           Z,X5,1        -             C,-1

 1839              NA, LSTYPE   5,0           SWITCH        BAD L TYPE          BRANCH IF TYPE DOESNT MATCH THAT SUPLYD.
 1841              NA           N,S0          XFORMS +5     OK L TYPE           BRANCH IF OLD HEALTH WAS NOT LEFTOVER.
 1843              SSL, ONE     COMMON +2     15            C,+2                SIGN BIT TELLS WHETHER FIXED OR ERASABL.

 1845              TS           Z,SH          Z,SC          BAD L TYPE     C    TYPE TROUBLE FOR SYM ONLY, THEN CHEK AV.
 1847              TS           TYPE F        COMMON        C,+2
 1848              TX           TYPE E        -             COMMON              CHOOSE CRITERION FOR LEFTOVER TYPE.
 1850              NA, LSTYPE   COMMON        SWITCH        C,-3                BRANCH IF LEFTOVER USED WRONG MEM TYPE.

 1852   OK L TYPE  TS           LOC VALUE     COMMON        AVAIL 2        C    TEST AVAILABILITY AND LEAVE RESERVED.
 1854              LA           BIT 32        COMMON        LOC EXIT            BITS 1-32 = 0 IF CONFLICT.
 1856              SWS, D8      N,S0          D,3           COMMON +2           USE CONFLICT TRANSFORM ON SYMBOL HEALTH.
 1858              TS, BIT16    ONES          LOC STATE     LOC EXIT            SIGNAL CONFLICT AND SKIP TO LOC EXIT.

 1860   BAD L TYPE SWS, D8      N,S0          D,4           COMMON +2           USE BAD TYPE TRANSFORM ON SYMBOL HEALTH.
 1862              SM           LOC STATE     BIT 15        LOC STATE           SIGNAL WRONG MEMORY TYPE.
 18632             LA           ONES          FIELD COD +1  LOC EXIT            EXIT IF THERE WAS NO INSTANT SETLOC.
 18634             TS           FIELD COD +1  LOC CTR       BLANK LOC      C    RESTORE LOC CTR AFTER ILL-TYPE NUM LOC.
 1864   LOC EXIT   SM           LOC STATE     LOC VALUE     LOC STATE
 1865              NA, BIT 8    LOC STATE     ONES          6,0                 EXIT IF LOCATION WASNT SYMBOLIC.

 1867              SS           LOC VALUE     CAC3          COMMON +2

# Page 199
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  47        PAGE  47

P18671  EVERY SYMBOL DEFINED OR NEARLY DEFINED IN PASS 1 COMES THROUGH SY DEF XIT.

 18672  SY DEF XIT TN           COMMON +1     2             COMMON
 18674             LA           N,X2          CAC3          ONLY DEF            BRANCH IF THIS IS THE FIRST DEFINITION.

 186752            SWE, D12     N,X2          D,8           Z,S0                GET TRANSFORMS FOR HEALTH OF 1ST DEF.
 186756            WA           Z,S0          L XFORMS      Z,S0
 18676             S, ETS       3,0           ZX +4         C,+1                POINT TO SYMBOL OR TO MULT DEF FLAG.
 18678             LA           CAC12         4,2           ALREDY MD           BRANCH IF THIS IS THE 3RD OR SUBSEQ DEF.
 186792            SWS, D4      N,S0          D,6,L         N,X2                SHOW MULTIPLE DEFINITION ON 1ST ENTRY.
 1868              LA           SYM PLACE     END SY TAB    4TH DIMEN           BRANCH IF THERE IS MORE ROOM IN SYM TAB.

 18682  MD UNFITS  SM           LOC STATE     BIT 17        LOC STATE           LOCATION-SYMBOL-DIDN'T-FIT-IN-TABLE FLG.
 18686             TS           Z,X6          Z,SC          FULLNESS       C    COUNT UNFITTING SYMBOL AND EXIT.

 186884 4TH DIMEN  NA           SYM PLACE     SPEC MAG      C,+2
 186886            WA           SYM PLACE     THREE         SYM PLACE      S    SKIP OVER 32 STOPPER.
 186888            EBA          SYM PLACE     BIT 25        Z,X2
 18689             TN           N,X4          3             N,X2,1              MOVE MULT. DEF. SYMBOL INTO THE 4TH DIM.
 1869              SM           CAC12         SYM PLACE     4,2                 CONVERT OLD ENTRY INTO MULT DEF FLAG.
 18692             TS, CAC3     SYM PLACE     2,0           4TH DIMEN +1   C    FIRST MULT DEF SYM POINTS TO SELF.

 18695  ALREDY MD  LA           END SY TAB    SYM PLACE     MD UNFITS           BRANCH IF SYMBOL TABLE IS FULL.
 186965            NA           SYM PLACE     SPEC MAG      C,+2
 18697             WA           SYM PLACE     THREE         SYM PLACE           SKIP OVER 32K STOPPER.
 186975            SM           CAC12         SYM PLACE     4,2                 MAKE MULT DEF FLAG POINT TO LATEST DEF.
 18698             TX           N,X2          -             Z,X4
 186985            SS           SYM PLACE     CAC3          N,X2                MULTIPLE DEFS ARE THREADED IN A CIRCLE.
 18699             EBA          SYM PLACE     BIT 25        Z,X2
 1870              TS           COMMON        N,X2,1        4TH DIMEN +1   C    EXTEND LIST INTO THE 4TH DIMENSION.
 18702             TX           Z,X4          -             N,X2                MULT. DEF. SYMS ARE THREADED IN A RING.
 187032            EX           COMMON +3     CAC 12        COMMON +3           NEW MULDEF CAN'T DEF EARLIER NEAR DEFS.
 18704  ONLY DEF   SWS, CAC12   COMMON +1     16,L          N,X2                NEW SYMBOL HEALTH AND VALUE TO SYM TAB.
 18706             TS           COMMON +3     2,1           N,X6                MAY STORE NEAR-DEF SYM'S CAC-WD. EXIT.

# Page 200
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  48        PAGE  48

P1871              SUBROUTINE IN PASS 1 TO TRANSLATE THE LOCATION FIELD OF A WILD CARD (LEFTOVER INSTRUCTION OR CONST-
R1873   ANT).  BIT 48 OF HEALTH SHOULD CONTAIN A 0 FOR SINGLE PRECISION OR A 1 FOR DOUBLE PRECISION.  IF THE FIELD IS
R1875   SYMBOLIC AND UNDEFINED, THE SYMBOL BECOMES LEFTOVER CONSTANT AND BIT 12 OF LOC STATE IS SET TO 1.  IF THE FIELD
R1877   IS UNSIGNED NUMERIC OR A SYMBOL PREDEFINED BY IS OR =, THE LOCATION IS ASSIGNED ACCORDINGLY WITHOUT DISTURBING
R1879   THE LOCATION COUNTER, AND BIT 12 OF LOC STATE IS SET TO 0.  IF THE FIELD IS BLANK OR SIGNED NUMERIC OR A SYMBOL
R1881   DEFINED BY OTHER THAN IS OR =, THE LEFTOVER STATUS IS REJECTED ENTIRELY, BITS 12 AND 13 OF LOC STATE ARE SET TO
R1883   01, AND THE REGULAR INSTRUCTION PROCEDURE IS USED.  THIS LAST PROCEDURE IS ALSO FOLLOWED IF THE FIELD IS A
R1885   NEW SYMBOL FOR WHICH THERE IS NO ROOM IN THE SYMBOL TABLE.  OTHER OUTPUT IS IN LOC STATE AS PER REGULAR LOCN.

 1887   LFTVR LOC  TS           Z,SC          Z,X4          C,+1                SET RETURN AND GET INTO SEQUENCE MODE.
 1889              SS           TYPE F        L STYPE       SWITCH              SPECIFY FIXED MEMORY.
 1891              TX           BIT 12        -             LOC STATE           INDICATE LEFTOVER (TENTATIVELY).
 1893              TS           LOC FIELD     COMMON        ANAL SUBF      C
 1894              TX           LXFORMS       -             Z,S0                INITIALIZE TRANSFORM ADDRESS.
 1896              NA           FIELD COD     BIT 1         NUM LEFTO           BRANCH IF FIELD IS NOT SYMBOLIC.

 1898              SM           LOC STATE     BIT 8         LOC STATE           INDICATE SYMBOLIC FIELD.
 1900              TS           COMMON        COMMON +1     ANAL SYMB      C    SAVE SYMBOL FOR SY DEF XIT, AND ANALYZE.
 1903              LA           ONES          COMMON +2     REJECT -1           REJECT LEFTOVER STATUS IF SYM TAB FULL.

 1905              SWE, D12     COMMON +2     16            LOC VALUE           USE OLD SYMBOL HEALTH...
 1907              WA           Z,S0          LOC VALUE     Z,S0                ...TO GET ADDRESS OF TRANSFORM.
 19082             LA           3 D8          COMMON +2     S LFT HLTH
 1909              LA           COMMON +2     ZERO          S LFT HLTH
 1910              TS, BIT 10   ONES          LOC STATE     REJECT +1      C    INDICATE PREDEFINITION FAILURE.
 19112             SM           LOC STATE     BIT 14        LOC STATE           INDICATE ILL-DEFINED LOCATION VALUE.
 19114             TS           D8            COMMON +2     NUM LEFTO -1        FAILED ATTEMPT TO PREDEFINE LEFTOVER.

 1912   S LFT HLTH SWS, D8      N,S0          D,2           COMMON +2           STORE TRANSFORMED SYMBOL HEALTH.
 1914              LA           N,S0          BIT 1         LEFTOVER            BRANCH IF NOT PREDEF BY IS OR =.

 1916              HA           LOC STATE     BIT 12        LOC STATE           REMOVE LEFTOVER STATUS.
 1918              EX           COMMON +2     CAC3          LOC VALUE           USE PREDEFINED VALUE (ALWAYS OK SIZE).
 1919              TS           Z,X4          Z,X6          OK L SIZE

 1923   LEFTOVER   LA           N,S0          BIT 2         REJECT              BRANCH IF DEFINED BY OTHER THAN IS OR =.

 19242             SWE, CAC23   M FLEFTO P    16            COMMON +2           FETCH MACHINE'S OWN FIXED LEFTO PARAM.
 19244             SM           SPEC SIGN     M FLEFTO P    Z,SC                VISIT MACHINE'S OWN ROUTINE FOR DITTO.
 1925   GOT FLEFP  SM, SPECMAG  COMMON +2     HEALTH        COMMON +2           INDICATE WHETHER SINGLE OR DOUBLE PREC.
 1929              TS           Z,X4          Z,X6          SY DEF XIT          STORE SYMBOL TABLE ENTRY, AND EXIT.

 1930   NUM LEFTO  NA, BIT 6    FIELD COD     ONES          REJECT              BRANCH IF NOT UNSIGNED NUMERIC.

 1932              HA           LOC STATE     BIT 12        LOC STATE           REMOVE LEFTOVER STATUS.
 1934              TX           LOC CTR       -             SAVE LOC
 1935              TS           Z,SC          Z,X6          NUM LOC +1          USE REGULAR LOC PROCEDURE.
 1937              TS           SAVE LOC      LOC CTR       N,X4                RESTORE LC SETTING AND EXIT.

 19382             SM           LOC STATE     BIT 17        LOC STATE           SHOW THAT LOC SYMBOL IS NOT IN SYM TAB.
 1939   REJECT     WD           LOC STATE     BIT 13        LOC STATE           INDICATE LEFTOVER REJECTION.
 1941              SS           ZERO          ONE           HEALTH              CLEAR POSSIBLE DOUBLE PRECISION BIT.
 1943              TS           Z,X4          Z,X6          BLANK LOC           TREAT AS REGULAR INSTRUCTION OR CONST.

# Page 201
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  49        PAGE  49

P1945              SUBROUTINE TO BREAK AN ADDRESS FIELD DOWN INTO SUBFIELDS.  PUT RETURN ADDRESS INTO X4 ON ENTERING.
R1947   RESULTS ARE DELIVERED IN FIELDCOD AND FIELDCOD+1, AND IN ADRWD AND ADRWD+1, AS FOLLOWS....

R1949   FIELDCOD ALL ZERO                     BLANK ADDRESS FIELD
R1950   FIELDCOD ALL ONES                     ILLEGAL FORMAT
R1951   FIELDCOD+1 ALL ZERO                   NO MODIFIER
R1952   FIELDCOD+1 INDICATES SIGNED NUM       MODIFIER GIVEN IN ADRWD+1
R1953   FIELDCOD INDICATES SYMBOLIC           ADDRESS SYMBOL IN ADRWD
R1954   FIELDCOD INDICATES S OR US NUM        VALUE GIVEN IN ADRWD.

R1955   USES ANALSUBF, S3, X3, AND X5.



 1956   ADR FIELD  NA           ADDRESS 1     BLANKS        TEST WD2
 1957              NA           ADDRESS 2     BLANKS        MOV ADRES
 1958              TS           ZERO          FIELD COD     N,X4                INDICATE BLANK ADDRESS FIELD AND EXIT.

 1960   TEST WD2   NA           ADDRESS 2     BLANKS        MOV ADRES           BRANCH IF BOTH WORDS NON-BLANK.
 1962              TX           ADDRESS 1     -             AFIELD +1
 1963              TS           BLANKS        AFIELD        MOV ADRES +1        SHORT CUT WHEN WORD 2 IS BLANK.

 1965   MOV ADRES  TN           ADDRESS 1     2             AFIELD

 1966              SWE, ONES    C,+3          16            Z,X3                INITIAL PROCEDURE FOR NON-NUM ADDRESS.
 1968              TX           ZERO          -             FIELD COD +1        INITIALLY ASSUME NO MODIFIER.
 1970              TS           C,+1          Z,X5          LD A2 S3

 1971              CAC                        NO MODIF      FOUND RNB           SET UP TO LOOK FOR SIGNS INITIALLY.

 1973   LD A2 S3   TX           EIGHT         -             Z,S3                MAXIMUM NUMBER OF NBCS IN A SUBFIELD.
 1975              TS           BLANKS        AFIELD +2     FIND NBCS



R1976   MINOR SUBROUTINES TO SHIFT TWO OR THREE WORDS RIGHT BY ONE CHARACTER.

 1977   3SRT 1C    SWS, ONES    AFIELD +2     A,1           AFIELD +2      C
 1978              SWS, CHAR1   AFIELD +1     A,1           AFIELD +2      C

 1979   2SRT 1C    SWS, ONES    AFIELD +1     A,1           AFIELD +1      C
 1980              SWS, ONES    AFIELD        A,1           AFIELD         C
 1981              SS           AFIELD        CHAR1         AFIELD +1      C
 1982              SS           BLANKS        CHAR1         AFIELD

# Page 202
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  50        PAGE  50

P1983

 1984   FIND NBCS  NA, CHAR8    AFIELD +1     BLANKS        5,0                 BRANCH WHEN 2 WORDS ARE RIGHT-JUSTIFIED.

 1986              TS           C,+1          Z,SC          2SRT 1C        C    SHIFT AFIELD AND AFIELD+1 RIGHT 1 CHAR.
 1988              SPEC         Z,S3,1                      FIND NBCS

 1989   FOUND RNB  TS           Z,S3,1        -             3SRT 1C        C    PROCEDURE WHEN SEEKING SIGN.
 1991              NA, B3T6     AFIELD +2     ZERO          NOT SIGN
 1992              LA, CHAR1    AFIELD +2     ZERO          NOT SIGN

 1993              NA, CHAR8    AFIELD +1     BLANKS        NO MODIF            BRANCH IF SIGN NOT PRECEDED BY A BLANK.

 1995              TS           AFIELD +2     COMMON        ANAL SUBF +2   C    ANALYZE POSSIBLE MODIFIER.
 1997              NA, B2B6     FIELD COD     BIT2          NO MODIF            BRANCH IF TWASNT A SIGNED NUMERIC SUBF.

 1999              NA           AFIELD +1     BLANKS        ALSO MAIN
 2000              NA           AFIELD        BLANKS        ALSO MAIN           BRANCH IF COMPOUND ADDRESS.

 2002              TS           COMMON +1     ADR WD        N,X4                EXIT FOR SIGNED NUMERIC FIELD.

 2004   FOUND MNB  TS           Z,S3,1        -             3SRT 1C        C    PROCEDURE WHEN NOT SEEKING SIGN.

 2006   NOT SIGN   NA           AFIELD +1     BLANKS        8 NBC Q
 2007              NA           AFIELD        BLANKS        8 NBC Q             BRANCH IF MORE NBCS TO EXAMINE.

 2009              TS           AFIELD +2     COMMON        ANAL SUBF +2   C    ANALYZE POSSIBLE MAIN ADDRESS.
 2011              NA, BIT2     FIELD COD     ONES          3,0                 BRANCH IF NOT NUMERIC.

 2013              TS           COMMON +1     ADR WD        N,X4                EXIT WHEN MAIN ADDRESS IS S OR US NUM.

 2015   NO MODIF   TN           ADDRESS 1     2             AFIELD              SET UP PUTATIVE SYMBOLIC SUBFIELD.
 2017              TS           BLANKS        AFIELD +2     SEEK HEAD +1

 2018              TN           ALSO MAIN -2  2             AFIELD              RECOVER NON-MODIFIER PART OF ADR FIELD.
 2020              TS           BLANKS        AFIELD +2     SEEK HEAD +1

 2021   SEEK HEAD  NA, CHAR1    AFIELD +2     BLANKS        C,+3                BRANCH WHEN POSSIBLE HEAD FOUND.

 2023              TS           C,+1          Z,SC          3SRT 1C        C    TRIPLE SHIFT RIGHT TO FIND HEAD.
 2025              SPEC                                     SEEK HEAD

# Page 203
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  51        PAGE  51

P2026

 2027              NA, CHAR8    AFIELD +1     BLANKS        NO HEAD             CHAR. PRECEDED BY NON-BLANK ISNT HEAD.

 2029              NA           AFIELD        BLANKS        SRT SYM             MOVE SYMBOL RIGHT TO INSERT HEAD.

 2031              NA           AFIELD +1     BLANKS        C,+2

 2032              TS           AFIELD +2     ADR WD        N,X4                EXIT WHEN MAIN ADDRESS IS 1-CHAR SYM.

 2034              NA, CHAR1    AFIELD +1     BLANKS        PLACE HED           MOVE SYMBOL LEFT TO INSERT HEAD.
 2036              SWS, ONES    AFIELD +1     A,1,L         AFIELD +1
 2037              TS           -             -             C,-2

 2038   SRT SYM    TS           -             -             2SRT 1C        C
 2039              NA, CHAR8    AFIELD +1     BLANKS        BAD ADRES           ERROR IF NO ROOM FOR HEAD.
 2041              NA           AFIELD        BLANKS        C,-2                SHIFT UNTIL NORMALIZED IN AFIELD +1.

 2043   PLACE HED  SWS, CHAR8   AFIELD +2     A,1,L         AFIELD +1           INSERT HEAD CHARACTER.

 2045              TS           AFIELD +1     ADR WD        N,X4                EXIT WHEN MAIN ADDRESS IS SYMBOLIC.

 2047   NO HEAD    SWS, ONES    AFIELD +1     A,1,L         AFIELD +1           BACKTRACK AFTER NO-HEAD FINDING.
 2049              NA, CHAR8    AFIELD +1     BLANKS        BAD ADRES           ERROR IF SYMBOL IS TOO LONG.
 2051              NA           AFIELD        BLANKS        BAD ADRES           ERROR IF SYMBOL IS TOO LONG.

 2053              SWS, CHAR8   AFIELD +2     A,1,L         AFIELD +1           FINISH BACKTRACKING.
 2055              NA, CHAR1    AFIELD +1     BLANKS        PLACE HED +1        BRANCH WHEN SYMBOL IS NORMALIZED.
 2057              SWS, ONES    AFIELD +1     A,1,L         AFIELD +1
 2058              TS           -             -             C,-2

 2059   8 NBC Q    NA           Z,S3          ZERO          FIND NBCS           SEEK ANOTHER NON-BLANK CHARACTER.

 2061   BAD ADRES  TS           ONES          FIELD COD     N,X4                ERROR EXIT.

 2063              RESERVE      2
 2064   ALSO MAIN  TX           FIELD COD     -             FIELD COD +1        INDICATE PRESENCE OF MODIFIER.
 2066              TN           AFIELD        2             ALSO MAIN -2        SAVE ORIGINAL FORM OF REST OF FIELD.
 2068              SM           Z,X3,2        Z,X5,9        -                   SET UP TO OMIT SIGN SEARCH.
 2070              TS           COMMON +1     ADR WD +1     LD A2 S3            DELIVER VALUE OF MODIFIER.

# Page 204
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  52        PAGE  52

P2072             SUBROUTINE TO ANALYZE A SUBFIELD OF EIGHT CHARACTERS.  ENTER WITH THE SUBFIELD IN COMMON.  C(COMMON)
R2074   IS NORMALIZED ON RETURN.  IF THE SUBFIELD IS NUMERIC, THE RESULTING BINARY INTEGER IS DELIVERED IN COMMON+1 WITH
R2076   THE SPECIFIED SIGN IF ANY OR A PLUS SIGN IF NO SIGN IS GIVEN.  C(FIELDCOD) GIVES THE RESULTS OF ANALYSIS....

R2078   BIT 1      ZERO -- NON-SYMBOLIC SUBFIELD            ONE -- SYMBOLIC SUBFIELD
R2080   BIT 2      ZERO -- NON-NUMERIC SUBFIELD             ONE -- NUMERIC SUBFIELD
R2082   BIT 5      ZERO -- MINUS SIGNED SUBFIELD            ONE -- UNSIGNED OR PLUS SIGNED SUBFIELD
R2084   BIT 6      ZERO -- SIGNED NUMERIC SUBFIELD          ONE -- UNSIGNED NUMERIC SUBFIELD

R2086   BIT 9 OF HEALTH IS SET TO 1 IF A DECIMAL SUBFIELD IS WRITTEN WITHOUT A D

 2087   ANAL SUBF  NA           COMMON        BLANKS        C,+2           C
 2088              TX           ZERO          -             FIELD COD           INDICATE BLANK SUBFIELD AND EXIT.

 2090              TS           UNSIG NUM     FIELD COD     NORMALED -1    C    TEMPORARILY ASSUME UNSIGNED NUMERIC.
 2092              NA, CHAR1    COMMON        BLANKS        NORMALED       C
 2093              SWS, ONES    COMMON        A,1,L         COMMON         C    NORMALIZE.
 2095              TS           COMMON        COMMON +1     C,-2           C

 2096   NORMALED   LA, CHAR1    COMMON +1     ZERO          SET DIG        C    BR IF 1ST CHAR OF SUBFIELD IS ZERO.

 2098              TX           ONES          -             DIG FILE       C    INDICATE NO DIGITS YET.
 2100              NA, B3T6     COMMON +1     ZERO          NO SIGN        C    BR IF 1ST CHAR OF SUBFIELD ISNT A SIGN.
 2102              SWS, B5T6    COMMON +1     3             FIELD COD      C    INDICATE SIGN AND WHICH SIGN.
 2104              NA, C2T8     COMMON +1     BLANKS        BLANK FIL +2   C

 2105   SYMBOLIC   TX           BIT 1         -             FIELD COD           INDICATE SYMBOLIC AND EXIT.

R2107   NO SIGN IS THE BEGINNING OF THE LOOP TO EXAMINE EACH CHARACTER.

 2108   NO SIGN    LA, CHAR1    COMMON +1     ALF 9 C1      DIGITS         C    BRANCH IF CHARACTER IS A NUMERAL.

 2110              NA, CHAR1    COMMON +1     D C1          SYMBOLIC       C    BRANCH IF NEITHER NUMERAL NOR D.

 2112              NA, C2T8     COMMON +1     BLANKS        SYMBOLIC       C    BRANCH IF D WITH MORE TO COME.

 2114              LA           ONES          DIG FILE      SYMBOLIC       C    BRANCH IF D WITH NO PRECEDING NUMERALS.

 2116   DECIMAL)   TS           C,+1          CONV LOOP     CONV LOOP -1   C    SET UP CONVERSION, DECIMAL TO BINARY.
 2118              BT           COMMON +1     10            COMMON +1      C

# Page 205
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  53        PAGE  53

P2119

 2120   DIGITS     SM, BIT3     FIELD COD     COMMON +1     FIELD COD      C    TELLTALE BIT FOR 8S AND 9S.
 2122              NA           DIG FILE      ONES          FILE DIG       C    BRANCH IF 2ND OR SUBSEQUENT DIGIT.

 2124   SET DIG    TX           L DIG FILE    -             Z,S0           C    PROCEDURE FOR FIRST DIGIT.
 2126              TX           ZERO          -             DIG FILE       C    FAKE A ZERO PRECEDING FIRST DIGIT.
 2128              TX           L DIG FILE    -             Z,S1           C

 2129   FILE DIG   NA, CHAR1    COMMON +1     ZERO          NZ DIGIT       C
 2130              LA           DIG FILE      ZERO          NZ DIGIT +1    C    SUPPRESS INSIGNIFICANT ZEROS.

 2132   NZ DIGIT   SWE, D12     COMMON +1     A,7           N,S0,1         C    FILE SIGNIFICANT DIGIT.
 2134              NA, C2T8     COMMON +1     BLANKS        BLANK FIL +2   C    CONTINUE IF MORE TO COME.

 2136              NA, BIT3     FIELD COD     ONES          OCTAL)         C    BRANCH IF NO D AND NO 8S OR 9S.

 2138              TS, BIT9     ONES          HEALTH        DECIMAL)       C    SET COMPLAINT WHEN 8S OR 9S AND NO D.

 2140   BLANK FIL  SWS, ONES    COMMON +1     A,1,L         COMMON +1      C
 2141              NA, CHAR1    COMMON +1     BLANKS        NO SIGN        C
 2142              TS, CHAR1    BLANKS        COMMON +1     BLANK FIL      C    INSERT BLANK FOR USED DIGIT, NORMALIZE.

 2144   OCTAL)     TS           C,+1          CONV LOOP     CONV LOOP -1   C    SET UP CONVERSION, OCTAL TO BINARY.
 2146              SWE, OCTMASK COMMON +1     3,L           COMMON +1      C

 2147              TS           ZERO          COMMON +1     CONV LOOP +2   C
 2148   CONV LOOP  TS           -             -             DISASTER            (SHOULD ALWAYS GET REPLACED)
 2150              WA           COMMON +1     N,S1,1        COMMON +1      C
 2151              WA           Z,S0          Z,S1          CONV LOOP      C    LOOP UNTIL ALL SIGNIFICANT DIGITS USED.

 2153              SWS, BIT1    FIELD COD     4,L           COMMON +1           INSERT CORRECT SIGN AND EXIT.

# Page 206
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  54        PAGE  54

P2155              SUBROUTINE IN PASS 1 TO ANALYZE THE HISTORY OF A SYMBOL.  ENTER WITH THE NORMALIZED SYMBOL IN COMMON.
R2156   PREVAILING HEAD IS APPENDED TO SYMBOL IN COMMON IF THERE IS ROOM.  THE PRESENT HEALTH AND DEFINITION (IF ANY)
R2157   ARE DELIVERED IN COMMON+2 IN BITS 17-48, BUT ALL ONES IS DELIVERED IN COMMON+2 IF THE SYMBOL IS NEW AND THERE
R2158   IS NO ROOM IN THE TABLE.  Z,X2 IS SET TO THE ADDRESS OF THE SECOND WORD OF THE TABLE ENTRY, OR TO COPY BUFF -1
R2159   IF THE TABLE IS FULL.  Z,X3 IS SET TO THE ADDRESS OF A WORD WHOSE RIGHT CAC FIELD POINTS TO THE SYMBOL, EXCEPT
R2160   IF THE TABLE IS FULL.  NEW SYMBOLS ARE INSERTED IN THE TABLE WITH ALPHABETICAL ORDERING BY A COMBINATION OF
R2161   ASSOCIATIVE REFERENCING ON THE FRONT 7 BITS AND THREADING FROM SYMBOL TO SYMBOL.  SEARCHING IS AIDED BY DIVIDING
R2162   THE SET OF SYMBOLS UP INTO STRINGS WHOSE MAXIMUM SIZE IS 11 SYMBOLS, THE DIVIDERS BEING UP TO 1024 PAIRS OF SPEC
R2163   FIELDS.  THE FIRST AND SECOND SPECS IN EACH PAIR POINT TO THE END AND BEGINNING OF ITS STRING.



 2164   ANAL SYMB  TX           L SYM THR     -             Z,X5           C    ADDRESS OF LIST OF 126 SPECPAIR THREADS.
 2165              TX           ZERO          -             COMMON +2      C    IN CASE SYM IS IN 1ST STRING OR IN NONE.
 2166              TX           ZERO          -             COMMON +3      C    IN CASE THIS WILL BE A NON-EQUALS DEF.
 2167              NA, CHAR8    COMMON        BLANKS        C,+2           C
 21675             TX, CHAR8    HEAD          -             COMMON         C    APPEND HEAD IF THERE IS ROOM.
 21685             SWS,B19T25   COMMON        18            SYM SHIFT      C    CHOOSE THREAD BY 7 FRONT BITS OF SYMBOL.
 21695  SYM SHIFT  SWE, CAC3    5,0           0             Z,X3           C    THREAD FOR 1 OF 126 OF 1024 SPEC PAIRS.
 21705             LA           ONES          COMMON        FULLNESS       C    "¢¢¢¢¢¢¢¢" IS SOCIALLY UNFIT FOR TABLE.

 21715  SEEK STRG  S, ETS       3,0           ZX +2         C,+1                POINT TO LAST SYMBOL IN STRING.
 21725             LA           COMMON        N,X2          IN STRING      C    BRANCH IF SYMBOL MUST BE IN THIS STRING.
 21735             HA           N,X2,1        COMMON        COMMON +2      C    COMPARE ARG WITH LAST SYM IN WRONG STRG.
 21744             TS           N,X2          Z,X3          SEEK STRG      C    POINT TO SPEC PAIR FOR NEXT STRING.
 21755  IN STRING  TS           Z,X3,1        Z,SH          SEEK SYMB +3   C    SAVE ADDRESS OF SPEC PAIR.

 21775  SEEK SYMB  LA           COMMON        N,X2          FIND OR NO     C
 2178              S, ETS       2,1           ZX +3         C,+1                ARGUMENT IS GREATER.  TRY NEXT SYMBOL.
 2179              LA           COMMON        N,X3,1        C,+2           C
 21795             S, ETS       3,0           ZX +2         SEEK SYMB           ARGUMENT IS GREATER.  TRY NEXT SYMBOL.

 21805             EBA          Z,X2          ONE           Z,X3           C    POINT TO SECOND WORD OF PRECEDING SYMB.
 21815             S, ETS       3,0           ZX +2         C,+1                POINT TO EQUAL OR GREATER SYMBOL.

 21825  FIND OR NO LA           COMMON +2     B8T48         THR SHIFT +1   C    BRANCH IF THREAD TO SPEC PAIR IS RIGHT.

R21835  IF THE HIGH 7 BITS OF THE NEW SYMBOL DIFFER FROM THOSE OF THE LAST SYMBOL IN THE LAST STRING, THE THREAD PICKED
R21845  OUT BY THESE BITS MUST BE CHANGED SO AS TO POINT TO THIS STRING, BECAUSE WE SHOULDN'T HAVE SEEN THE LAST STRING.

 21855  NEW THRED  HA,B25T27    SYM SHIFT     B25T26        CAC SHIFT      C    FORM 48S-COMPLEMENT OF SHIFT COUNT.
 21865             SWS, CHAR8   SYM SHIFT     24            THR SHIFT      C    MOVE INDEX AUGMENTER.
 21875             TX,B25T27    CAC SHIFT     -             THR SHIFT      C    COPY COMPLEMENTED SHIFT COUNT.
 21885  CAC SHIFT  SWE, ONES    CAC3          0             CACN           C    MAKE MASK FOR NEW THREAD.
 21895  THR SHIFT  SWS,CACN     Z,SH          0             5,0            C    MAKE NEW THREAD.

 21905             NA           N,X2,1        COMMON        NEW SYMB -1    C    BRANCH IF SYMBOL IS NOT IN TABLE.
 21912             TX           2,1           -             COMMON +3      C    IN CASE THIS SYMBOL IS A DEFINER FOR =.
 21915             LA           2,1           CAC12         FOUND SYM      C    BRANCH IF SYMBOL, NOT MULT. DEF. FLAG.
 21925             S, ETS       2,1           ZX +2         THR SHIFT +1        POINT TO CURRENT MEMBER OF MULT DEF SET.
 21935             LA           END SY TAB    SYM PLACE     FULLNESS       C    BRANCH IF SYMBOL TABLE IS NOT FULL.

# Page 207
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  55        PAGE  55

P2197   CREATE 3-WORD SYMBOL TABLE ENTRY.  WD 2 = CAC  HEALTH  DEFINITION  THREAD  -  .  WD 3 = 0 (ANALYZER IN PASS 2).

 21982  NEW SYMB   NA           SYM PLACE     SPEC MAG      C,+2           C
 21983             WA           SYM PLACE     THREE         SYM PLACE      C    SKIP OVER 32 STOPPER.
 21985             EX           N,X3          CAC3          CACN           C    SAVE ADDRESS OF NEXT SYM OR SPEC PAIR.
 21995             SS           SYM PLACE     CAC3          N,X3           C    THREAD TO THIS FROM LAST SYM OR SPEC PR.
 22005             EBA          SYM PLACE     BIT 25        Z,X2           C
 2201              TX           COMMON        -             N,X2,1         C    PUT NEW SYMBOL IN SYMBOL TABLE.
 2202              TX           CACN          -             N,X2           C    THREAD TO NEXT SYMBOL OR SPEC PAIR.
 2203              TX           ZERO          -             2,1            C    INITIALIZE ANALYZER WORD.
 2204   SYM OR NOT WA           SYM PLACE     THREE         SYM PLACE      C    LEFT SIX BITS MUST BE 60.
 2207              EX           N,SH          CAC3          CACN           C    POINT TO LAST SYMBOL IN STRING.
 2208              WA           Z,SH          ONE           Z,AU1          C    POINT TO POINTER TO HEAD OF STRING.
 2209              WA           NINE          TWO           Z,AU2          C

 2211   MEASURE    EX           N,AU1         CAC3          ETS            C    POINT TO A SYMBOL IN THE STRING.
 2212              NA           ETS           CACN          C,+2           C    BRANCH IF NOT LOOKING AT LAST IN STRING.

 2214   CLR COMM 2 TX           ZERO          -             COMMON +2      S    RETURN AFTER NEW SYMBOL BUT NO NEW STR.

 2216              EBA          ETS           ONE           Z,AU1          C
 2217              NA           Z,AU2         SIX           C,+2           C
 2218              SM           ETS           BIT 25        COMMON +2      C    SAVE ADDRESS OF SIXTH SYMBOL IN STRING.
 22195             NA           Z,AU2,1       ONE           MEASURE        C    BRANCH UNLESS STRING JUST GREW TO 12.

 22205  SPLIT STR  WA           5,13          BIT 15        5,13           C
 22207             LA, CHAR1    EOR           5,13          MEASURE +2     C    IF NO AVAIL. SPEC PAIRS, KEEP SAME STR.
 2221              SWE, CAC3    5,13          32            Z,AU2          C    INCREMENT & GET ADDR OF NEXT SPEC PAIR.
 2222              SS           CACN          CAC3          N,AU2          C    POINTER TO LAST SYMBOL IN NEW STRING.
 2223              SS           COMMON +2     CAC3          N,SH           C    POINTER TO NEW LAST SYM IN OLD STRING.
 2224              EBA          COMMON +2     ONE           Z,AU1          C    POINT TO SECOND WORD OF SAME.
 2225              WA           Z,AU2         ONE           Z,SH           C
 22255             SS           N,AU1         CAC3          N,SH           C    NEW SPEC PR POINTS TO START OF NEW STR.
 22265             SS           Z,AU2         CAC3          N,AU1          C    OLD STRING POINTS TO NEW SPEC PAIR.

 22275  FOUND SYM  SWE, CAC23   N,X2          16            COMMON +2      S    DELIVER HEALTH AND EQUIVALENT OF SYMBOL.

R2229   EXIT WITH BAD NEWS WHEN THE NUMBER OF SYMBOLS PLUS SUBROUTINES EXCEEDS 8191.  ALSO FOR A SYMBOL OF 48 ONES.

 2230   FULLNESS   DS           SYM TAB XS    ONE           SYM TAB XS     C    COUNT HOW MANY TOO MANY.
 2232              WD           L COP BUFS    ONE           Z,X2           C    PREVENT POSSIBLE TROUBLE WITH 2,N REFS.
 2234              TX           ONES          -             COMMON +2      S    SET FULLNESS SIGNAL AND EXIT.

# Page 208
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  56        PAGE  56

P2236              SUBROUTINE IN PASS 1 TO DETERMINE AND (OPTIONALLY) RESET THE AVAILABILITY OF A LOCATION.  PUT LOCA-
R2238   TION IN BITS 33-48 OF COMMON ON ENTERING.  IF LOCATION IS AVAILABLE, ONE OF BITS 1-32 OF COMMON WILL BE A ONE ON
R2240   RETURN.  ENTER AT AVAIL1 FOR A NON-DESTRUCTIVE TEST, OR AT AVAIL2 TO LEAVE LOCATION RESERVED.

 2242   AVAIL 1    TX           RST AV2       -             RST AV2 -1     C    SET UP NON-DESTRUCTIVE TEST.

 2244   AVAIL 2    SWS, B26T30  COMMON        18,L          C,+1           C    USE LOW-ORDER 5 BITS AS SHIFT COUNT.
 2246              SWE, ONES    BIT 1         0             AVAIL MSK      C    FORM VARIABLE (1 OF 32) MASK.
 2248              SWE, B38T48  COMMON        5             Z,SH           C    USE REMAINING BITS TO GET RELATIVE
 2250              WA           Z,SH          L AV TABLE    Z,SH           C    ADDRESS OF WORD WITHIN TABLE.
 2252              SS           N,SH          AVAIL MSK     COMMON         C    STORE AVAILABILITY SIGNAL.
 2254              SS           ZERO          AVAIL MSK     N,SH                RESERVE LOCATION.

 2256   RST AV2    TX           C,+1          -             C,-1                RESTORE AVAIL1 TO AVAIL2.
 2258              SS           ZERO          AVAIL MSK     N,SH



R225802            PASS 1 PROCESSING OF A COUNT CARD CARD.  THE ADDRESS FIELD MAY CONTAIN ONLY A SYMBOL, WHICH IS INTER-
R225806 PRETED AS THE NAME OF A ROUTINE WHOSE WORDS ARE TO BE COUNTED.  A BLANK ADDRESS FIELD "TURNS OFF" COUNTING.

 22581             TS, BIT8     ONES          HEALTH        C,+3                MILDLY CUSS NON-BLANK LOC FIELD.
 225814 COUNT      TX, CD TYPE  (COUNT)       -             HEALTH              ASTERISK ON CODE ASKS SPECIAL PROCESS.
 225818            NA           LOC FIELD     BLANKS        C,-2
 22582             TS, D12      ONE           HEALTH        BLOCK +1       C    DECODE ADDRESS FIELD.
 225824            LA           ONES          FIELD COD     ILL COUNT           BRANCH IF ADDRESS FIELD IS MEANINGLESS.
 225828            EBA          SPEC SIGN     BIT 25        Z,X2                POINT TO ORIGIN OF LIST.
 225832            LA           FIELD COD     ZERO          COUNT PTR           BRANCH IF ADDRESS FIELD IS BLANK.

 225836 NB COUNT   NA           FIELD COD     BIT 1         ILL COUNT           BRANCH IF ADDRESS FIELD HAS NO SYMBOL.
 22584             LA           FIELD COD +1  ZERO          C,+2                FALL THRU TO ERROR IF THERE IS A MODIF.
 225844 ILL COUNT  TS, BIT 9    ONES          HEALTH        XMIT RTRN           "ADDRESS FIELD IS MEANINGLESS".

 225846            NA, BIT11    HEALTH        ONES          C,+2
 225847            SWS, SPECMAG W COUNSP      32            Z,CSC          C    DO SPECIAL PROCESSING FOR "COUNT*" CODE.
 225849            EBA          SPEC SIGN     BIT 25        Z,X3
 22585             TS           ADR WD        COMMON        C,+3                MOVE NAME OF ROUTINE.
 225854            LA           COMMON        N,X2          C,+3                BRANCH WHEN PLACE IN ALPHA LIST FOUND.
 225858            EBA          Z,X2          ONE           Z,X3                KEEP X3 ONE PLACE BEHIND.
 225862            S, ETS       3,0           ZX +2         C,-2                STEP THRU ALPHA-THREADED ROUTINE LIST.

 225866            NA           COMMON        N,X2,1        NEW RTINE
 225868 COUNT PTR  EBA          HEALTH        Z,X2          HEALTH              LET CARD POINT TO WORD 3 OF TABLE ENTRY.
 225872            TS, B25T27   ZERO          HEALTH        XMIT RTRN

 225874 NEW RTINE  NA           SYM PLACE     END SY TAB    C,+2
 225876            TS, BIT 10   ONES          HEALTH        XMIT RTRN           CUSS NO ROOM IN SYMTAB FOR RTNE NAME.
 22588  NEW UNSYM  TS, CHAR1    BIT 2         SYM OR NOT    NEW SYMB       C    (ALSO USED BY SUBRO).
 225884            TS, CHAR1    END ERR M +1  SYM OR NOT    COUNT PTR           RESTORE SYMBOL SUBROUTINE.

# Page 209
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  57        PAGE  57

P2800   LOAD EPILOGUE INTO PARTICULAR PASS AREA AND FINISH PASS 1.



 2802   END PASS 1 S, PHI LOAD  P1 EPILOG     1             BASE ADDR           EPILOGUE WILL LOAD PASSES 1.5 AND 2.

 2804   FILL       MODLOC       64



R28041  THIS PART OF INITIALIZATION IS PERFORMED AFTER THE LOADING OF PARTICULAR PASS 1.

 280414            SETLOC       RL CD HLTH

 280418 POST SPEC  SM           M TYP TAB     SPEC SIGN     Z,X1
 28042             IT           N,X1          1,27          N,X2                MOVE MEMORY TYPE TABLE.
 280424            WD           Z,AU2         TWO           END TYP TA
 280426            TS           RL TYP TAB    Z,X2          C,-2           C    STANDARD MEMORY TYPE CONFIG FOR BYPT.
 28043             SS           MOD SHIFT     COUNT FLD     SHIFT NOP           SHIFT FOR NUMERIC OP CODE.
 280434            TX           P1 MASKS      -             Z,MXR
 280436            SWS,COUNTFLD MOD SHIFT     6             BLOK SHIF           LOG (BASE 2) OF BLOCK LENGTH.
 280439            TX           L END OF      -             Z,X0
 28044             SWE, CAC3    M SUBR LOC    16            LOC CTR             LOCATION COUNTER HAS GOOD INITIAL VALUE
 280444            NA, BIT9     SWITCH        ZERO          GET REAL            FOR SUBROUTINE ASSEMBLY, BUT IN PROGRAM
 280448            TS           ONES          LOC CTR       GET REAL            ASSEMBLY IT IS MADE HIDEOUS.



R280452            ITEMS TO BE FILLED IN BY THE PARTICULAR PART OF PASS 1.

 280454 SIZ PASS 1 EQUALS       FILL - PROG NAME + 64

 280456 M OP THRS  EQUALS       FILL +64
 280458 MAX NUM OP EQUALS       FILL +65
 28046  MAX LOC    EQUALS       FILL +66
 280462 MAX ISEQL  EQUALS       MAX LOC
 280464 ADR LIMIT  EQUALS       FILL +67                                        ONE GREATER THAN MAX LOC.
 280468 BLOK ONES  EQUALS       FILL +68                                        ONE LESS THAN BLOCK SIZE.
 280472 MOD SHIFT  EQUALS       FILL +69
 280474 M TYP TAB  EQUALS       FILL +70
 280476 M SUBR LOC EQUALS       M TYP TAB
 280477 M COUNSP   EQUALS       M TYP TAB
 280478 M SPECIAL  EQUALS       FILL +71
 28048  M ELEFTO P EQUALS       FILL +73
 280482 M FLEFTO P EQUALS       FILL +74

# Page 210
#      @YUL SYSTEM ASSEMBLER -- PASS 1                                           USER'S OWN PAGE NO.  58        PAGE  58

P2805              INITIALIZING SEQUENCE FOR PASS 1, OVERLAID BY THE PARTICULAR PART.  SETS UP SYMBOL TABLE THREADS AND
R2807   BUFFER-SHARING, MOVES "END OF" INFO AND COVER SHEET CONTENTS INTO PLACE, STARTS THE PARAPROGRAMS, LOADS THE PAR-
R2809   TICULAR PART OF PASS 1, AND PARTICULARIZES THE MEMORY TYPE TABLE AND OTHER CONSTANTS.

 2811              SETLOC,7C    SIZ PASS 1    B1

 2816   INISH P1   TX           INPUT XIT     -             Z,R5                LOAD INPUT BUFFER LIST ADDRESS.
 2818              TN           OLD LINE +6   8             END OF 1 +1         MOVE "END OF" INFORMATION TO ITS IMAGE.
 2820              TN           PAGE HEAD +1  13            OLD LINE +1         COVER IT UP WITH PAGE HEAD INFORMATION.
 28214             SWS, B8B17   SWITCH        9,L           SWITCH              MOVE FREEZE INDICATOR TO BIT 8, B17 = 0.
 28216             SS           PASS 2        C1T3          P1 SIDE GP
 28217             SS           PASS 2        C1T3          P1 EPILOG           SELECT VERSION OF YUL SYSTEM.
 28218             S, PHI LOAD  P1 SIDE GP    1             C,+1                LOAD PASS 1 PARAPROGRAMS.
 28219             TX           P1 MASKS      -             Z,MXR
 2822              SWE, CAC3    SOURCE        32            Z,X6
 2823              MT           N,SC,1        2             N,X6,3              START GROUPS B AND C (RD1 AND WWT).

 2835              SPEC,B7                                  1056
 2836              SPEC,B7                                  1057

 2837              EBA          SPEC SIGN     BIT 25        Z,AU1               POINT TO ORIGIN OF ROUTINE LIST, WHICH
 2838              TX           INIT UNCO     -             N,AU1,1             MAINTAINS THE COUNT OF "UNCOUNTED" WDS.
 2839              TX           ZERO          -             N,AU1
 2841              TS           L COMP NAM    Z,X6          MON WAKE       C    GET ADDRESS OF COMPUTER NAME.
 2844              SWS,THREAD10 6,1           36            Z,X6                ADDRESS OF PREFIX FOR PARTIC. PASS NAME.
 2846              TX           CHAR1         -             ALF MASK            MOVE LEADING NON-BLANK CHARACTERS OF
 2848              SS           N,X6          ALF MASK      PARP NAME           REFERENCED COMPUTER NAME TO FORM
 2850              SWE, C1T4    ALF MASK      A,1           ALF MASK            COMPLETE NAME OF PARTICULAR PASS 1.
 2852              NA, ALFMASK  6,0           BLANKS        C,-2

 2853              TX           L TYP TAB     -             Z,X2                ADDRESS OF WORKING MEMORY TYPE TABLE.
 2855              S, PHI LOAD  PARP NAME     1             M SPECIAL           LOAD PARTICULAR PART OF PASS 1.

 2857   INPUT XIT  OCT          -133770
 2858   C1T3       OCT          777777
 28581  INIT UNCO  OCT          0001 0000 0003 4007
 2859   P1 SIDE GP ALF          YULSIDE1



 SEQBRK            END          YUL PASS 1    GENERAL

