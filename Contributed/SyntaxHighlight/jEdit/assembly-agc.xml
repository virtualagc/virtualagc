<?xml version="1.0"?>

<!DOCTYPE MODE SYSTEM "xmode.dtd">

<!-- Apollo Guidance Computer (AGC) Assembly mode by Jim Lawton (jim DOT lawton AT gmail DOT com). -->

<MODE>

    <PROPS>
        <PROPERTY NAME="lineComment" VALUE="#" />
    </PROPS>

    <RULES HIGHLIGHT_DIGITS="TRUE" IGNORE_CASE="TRUE">
        <EOL_SPAN TYPE="COMMENT2">##</EOL_SPAN>
        <EOL_SPAN TYPE="COMMENT1">#</EOL_SPAN>

        <SEQ_REGEXP HASH_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890+-/*=()" AT_LINE_START="TRUE" TYPE="LABEL">[0-9A-Z+-/*=()]+</SEQ_REGEXP>
        <SEQ_REGEXP HASH_CHARS="1234567890+-" AT_WHITESPACE_END="TRUE" TYPE="COMMENT3">[0-9A-Z+-]+</SEQ_REGEXP>

        <!-- Binary Operators -->
        <SEQ TYPE="OPERATOR">+</SEQ>
        <SEQ TYPE="OPERATOR">-</SEQ>

        <KEYWORDS>
            <!-- Directives -->
            <FUNCTION>=</FUNCTION>
            <FUNCTION>=MINUS</FUNCTION>
            <FUNCTION>=ECADR</FUNCTION>
            <FUNCTION>-2CADR</FUNCTION>
            <FUNCTION>-GENADR</FUNCTION>
            <FUNCTION>2BCADR</FUNCTION>
            <FUNCTION>2CADR</FUNCTION>
            <FUNCTION>2DEC</FUNCTION>
            <FUNCTION>2DEC*</FUNCTION>
            <FUNCTION>2FCADR</FUNCTION> 
            <FUNCTION>2OCT</FUNCTION>
            <FUNCTION>ADRES</FUNCTION>
            <FUNCTION>BANK</FUNCTION>
            <FUNCTION>BBCON</FUNCTION>
            <FUNCTION>BBCON*</FUNCTION>
            <FUNCTION>BLOCK</FUNCTION>
            <FUNCTION>BNKSUM</FUNCTION>
            <FUNCTION>CADR</FUNCTION>
            <FUNCTION>COUNT</FUNCTION>
            <FUNCTION>COUNT*</FUNCTION>
            <FUNCTION>DEC</FUNCTION>
            <FUNCTION>DEC*</FUNCTION>
            <FUNCTION>EBANK=</FUNCTION>
            <FUNCTION>ECADR</FUNCTION>
            <FUNCTION>EQUALS</FUNCTION>
            <FUNCTION>ERASE</FUNCTION>
            <FUNCTION>FCADR</FUNCTION>
            <FUNCTION>GENADR</FUNCTION>
            <FUNCTION>MEMORY</FUNCTION>
            <FUNCTION>MM</FUNCTION>
            <FUNCTION>NV</FUNCTION>
            <FUNCTION>OCT</FUNCTION>
            <FUNCTION>OCTAL</FUNCTION>
            <FUNCTION>REMADR</FUNCTION>
            <FUNCTION>SBANK=</FUNCTION>
            <FUNCTION>SETLOC</FUNCTION>
            <FUNCTION>SUBRO</FUNCTION>
            <FUNCTION>VN</FUNCTION>

            <!-- Downlink Directives -->
            <FUNCTION>-1DNADR</FUNCTION>
            <FUNCTION>-2DNADR</FUNCTION>
            <FUNCTION>-3DNADR</FUNCTION>
            <FUNCTION>-4DNADR</FUNCTION>
            <FUNCTION>-5DNADR</FUNCTION>
            <FUNCTION>-6DNADR</FUNCTION>
            <FUNCTION>-DNCHAN</FUNCTION>
            <FUNCTION>-DNPTR</FUNCTION>
            <FUNCTION>1DNADR</FUNCTION>
            <FUNCTION>2DNADR</FUNCTION>
            <FUNCTION>3DNADR</FUNCTION>
            <FUNCTION>4DNADR</FUNCTION>
            <FUNCTION>5DNADR</FUNCTION>
            <FUNCTION>6DNADR</FUNCTION>
            <FUNCTION>DNCHAN</FUNCTION>
            <FUNCTION>DNPTR</FUNCTION>

            <!-- Registers -->
            <KEYWORD3>A</KEYWORD3>
            <KEYWORD3>L</KEYWORD3>
            <KEYWORD3>Q</KEYWORD3>
            <KEYWORD3>EB</KEYWORD3>
            <KEYWORD3>FB</KEYWORD3>
            <KEYWORD3>Z</KEYWORD3>
            <KEYWORD3>BB</KEYWORD3>
            <KEYWORD3>ARUPT</KEYWORD3>
            <KEYWORD3>LRUPT</KEYWORD3>
            <KEYWORD3>QRUPT</KEYWORD3>
            <KEYWORD3>ZRUPT</KEYWORD3>
            <KEYWORD3>BBRUPT</KEYWORD3>
            <KEYWORD3>BRUPT</KEYWORD3>
            <KEYWORD3>CYR</KEYWORD3>
            <KEYWORD3>SR</KEYWORD3>
            <KEYWORD3>CYL</KEYWORD3>
            <KEYWORD3>EDOP</KEYWORD3>

            <!-- Opcodes -->
            <KEYWORD1>-CCS</KEYWORD1>
            <KEYWORD1>AD</KEYWORD1>
            <KEYWORD1>ADS</KEYWORD1>
            <KEYWORD1>AUG</KEYWORD1>
            <KEYWORD1>BZF</KEYWORD1>
            <KEYWORD1>BZMF</KEYWORD1>
            <KEYWORD1>CA</KEYWORD1>
            <KEYWORD1>CAE</KEYWORD1>
            <KEYWORD1>CAF</KEYWORD1>
            <KEYWORD1>CCS</KEYWORD1>
            <KEYWORD1>COM</KEYWORD1>
            <KEYWORD1>CS</KEYWORD1>
            <KEYWORD1>DAS</KEYWORD1>
            <KEYWORD1>DCA</KEYWORD1>
            <KEYWORD1>DCOM</KEYWORD1>
            <KEYWORD1>DCS</KEYWORD1>
            <KEYWORD1>DDOUBL</KEYWORD1>
            <KEYWORD1>DIM</KEYWORD1>
            <KEYWORD1>DOUBLE</KEYWORD1>
            <KEYWORD1>DTCB</KEYWORD1>
            <KEYWORD1>DTCF</KEYWORD1>
            <KEYWORD1>DV</KEYWORD1>
            <KEYWORD1>DXCH</KEYWORD1>
            <KEYWORD1>EDRUPT</KEYWORD1>
            <KEYWORD1>EXTEND</KEYWORD1>
            <KEYWORD1>INCR</KEYWORD1>
            <KEYWORD1>INDEX</KEYWORD1>
            <KEYWORD1>INHINT</KEYWORD1>
            <KEYWORD1>LXCH</KEYWORD1>
            <KEYWORD1>MASK</KEYWORD1>
            <KEYWORD1>MP</KEYWORD1>
            <KEYWORD1>MSU</KEYWORD1>
            <KEYWORD1>NDX</KEYWORD1>
            <KEYWORD1>NOOP</KEYWORD1>
            <KEYWORD1>OVSK</KEYWORD1>
            <KEYWORD1>QXCH</KEYWORD1>
            <KEYWORD1>RAND</KEYWORD1>
            <KEYWORD1>READ</KEYWORD1>
            <KEYWORD1>RELINT</KEYWORD1>
            <KEYWORD1>RESUME</KEYWORD1>
            <KEYWORD1>RETURN</KEYWORD1>
            <KEYWORD1>ROR</KEYWORD1>
            <KEYWORD1>RXOR</KEYWORD1>
            <KEYWORD1>SQUARE</KEYWORD1>
            <KEYWORD1>SU</KEYWORD1>
            <KEYWORD1>TC</KEYWORD1>
            <KEYWORD1>TCR</KEYWORD1>
            <KEYWORD1>TCAA</KEYWORD1>
            <KEYWORD1>TCF</KEYWORD1>
            <KEYWORD1>TS</KEYWORD1>
            <KEYWORD1>WAND</KEYWORD1>
            <KEYWORD1>WOR</KEYWORD1>
            <KEYWORD1>WRITE</KEYWORD1>
            <KEYWORD1>XCH</KEYWORD1>
            <KEYWORD1>XLQ</KEYWORD1>
            <KEYWORD1>XXALQ</KEYWORD1>
            <KEYWORD1>ZL</KEYWORD1>
            <KEYWORD1>ZQ</KEYWORD1>
            
            <!-- Interpreter Opcodes -->
            <KEYWORD2>ABS</KEYWORD2>
            <KEYWORD2>ABVAL</KEYWORD2>
            <KEYWORD2>ACOS</KEYWORD2>
            <KEYWORD2>ARCCOS</KEYWORD2>
            <KEYWORD2>ARCSIN</KEYWORD2>
            <KEYWORD2>ASIN</KEYWORD2>
            <KEYWORD2>AXC,1</KEYWORD2> 
            <KEYWORD2>AXC,2</KEYWORD2>
            <KEYWORD2>AXT,1</KEYWORD2>
            <KEYWORD2>AXT,2</KEYWORD2>
            <KEYWORD2>BDDV</KEYWORD2>
            <KEYWORD2>BDDV*</KEYWORD2>
            <KEYWORD2>BDSU</KEYWORD2>
            <KEYWORD2>BDSU*</KEYWORD2>
            <KEYWORD2>BHIZ</KEYWORD2>
            <KEYWORD2>BMN</KEYWORD2>
            <KEYWORD2>BOFCLR</KEYWORD2>
            <KEYWORD2>BOF</KEYWORD2>
            <KEYWORD2>BOFF</KEYWORD2>
            <KEYWORD2>BOFINV</KEYWORD2>
            <KEYWORD2>BOFSET</KEYWORD2>
            <KEYWORD2>BON</KEYWORD2>
            <KEYWORD2>BONCLR</KEYWORD2>
            <KEYWORD2>BONINV</KEYWORD2>
            <KEYWORD2>BONSET</KEYWORD2>
            <KEYWORD2>BOV</KEYWORD2>
            <KEYWORD2>BOVB</KEYWORD2>
            <KEYWORD2>BPL</KEYWORD2>
            <KEYWORD2>BVSU</KEYWORD2>
            <KEYWORD2>BVSU*</KEYWORD2>
            <KEYWORD2>BZE</KEYWORD2>
            <KEYWORD2>CALL</KEYWORD2>
            <KEYWORD2>CALRB</KEYWORD2>
            <KEYWORD2>CCALL</KEYWORD2>
            <KEYWORD2>CCALL*</KEYWORD2>
            <KEYWORD2>CGOTO</KEYWORD2>
            <KEYWORD2>CGOTO*</KEYWORD2>
            <KEYWORD2>CLEAR</KEYWORD2>
            <KEYWORD2>CLR</KEYWORD2>
            <KEYWORD2>CLRGO</KEYWORD2>
            <KEYWORD2>COS</KEYWORD2>
            <KEYWORD2>COSINE</KEYWORD2>
            <KEYWORD2>DAD</KEYWORD2>
            <KEYWORD2>DAD*</KEYWORD2>
            <KEYWORD2>DCOMP</KEYWORD2>
            <KEYWORD2>DDV</KEYWORD2>
            <KEYWORD2>DDV*</KEYWORD2>
            <KEYWORD2>DLOAD</KEYWORD2>
            <KEYWORD2>DLOAD*</KEYWORD2>
            <KEYWORD2>DMP</KEYWORD2>
            <KEYWORD2>DMP*</KEYWORD2>
            <KEYWORD2>DMPR</KEYWORD2>
            <KEYWORD2>DMPR*</KEYWORD2>
            <KEYWORD2>DOT</KEYWORD2>
            <KEYWORD2>DOT*</KEYWORD2>
            <KEYWORD2>DSQ</KEYWORD2>
            <KEYWORD2>DSU</KEYWORD2>
            <KEYWORD2>DSU*</KEYWORD2>
            <KEYWORD2>EXIT</KEYWORD2>
            <KEYWORD2>GOTO</KEYWORD2>
            <KEYWORD2>INCR,1</KEYWORD2>
            <KEYWORD2>INCR,2</KEYWORD2>
            <KEYWORD2>INVERT</KEYWORD2>
            <KEYWORD2>INVGO</KEYWORD2>
            <KEYWORD2>ITA</KEYWORD2>
            <KEYWORD2>LXA,1</KEYWORD2>
            <KEYWORD2>LXA,2</KEYWORD2>
            <KEYWORD2>LXC,1</KEYWORD2>
            <KEYWORD2>LXC,2</KEYWORD2>
            <KEYWORD2>MXV</KEYWORD2>
            <KEYWORD2>MXV*</KEYWORD2>
            <KEYWORD2>NORM</KEYWORD2>
            <KEYWORD2>NORM*</KEYWORD2>
            <KEYWORD2>PDDL</KEYWORD2>
            <KEYWORD2>PDDL*</KEYWORD2>
            <KEYWORD2>PDVL</KEYWORD2>
            <KEYWORD2>PDVL*</KEYWORD2>
            <KEYWORD2>PUSH</KEYWORD2>
            <KEYWORD2>ROUND</KEYWORD2>
            <KEYWORD2>RTB</KEYWORD2>
            <KEYWORD2>RVQ</KEYWORD2>
            <KEYWORD2>SET</KEYWORD2>
            <KEYWORD2>SETGO</KEYWORD2>
            <KEYWORD2>SETPD</KEYWORD2>
            <KEYWORD2>SIGN</KEYWORD2>
            <KEYWORD2>SIGN*</KEYWORD2>
            <KEYWORD2>SIN</KEYWORD2>
            <KEYWORD2>SINE</KEYWORD2>
            <KEYWORD2>SL1</KEYWORD2>
            <KEYWORD2>SL1R</KEYWORD2>
            <KEYWORD2>SL2</KEYWORD2>
            <KEYWORD2>SL2R</KEYWORD2>
            <KEYWORD2>SL3</KEYWORD2>
            <KEYWORD2>SL3R</KEYWORD2>
            <KEYWORD2>SL4</KEYWORD2>
            <KEYWORD2>SL4R</KEYWORD2>
            <KEYWORD2>SL</KEYWORD2>
            <KEYWORD2>SL*</KEYWORD2>
            <KEYWORD2>SLOAD</KEYWORD2>
            <KEYWORD2>SLOAD*</KEYWORD2>
            <KEYWORD2>SLR</KEYWORD2>
            <KEYWORD2>SLR*</KEYWORD2>
            <KEYWORD2>SQRT</KEYWORD2>
            <KEYWORD2>SR1</KEYWORD2>
            <KEYWORD2>SR1R</KEYWORD2>
            <KEYWORD2>SR2</KEYWORD2>
            <KEYWORD2>SR2R</KEYWORD2>
            <KEYWORD2>SR3</KEYWORD2>
            <KEYWORD2>SR3R</KEYWORD2>
            <KEYWORD2>SR4</KEYWORD2>
            <KEYWORD2>SR4R</KEYWORD2>
            <KEYWORD2>SR</KEYWORD2>
            <KEYWORD2>SR*</KEYWORD2>
            <KEYWORD2>SRR</KEYWORD2>
            <KEYWORD2>SRR*</KEYWORD2>
            <KEYWORD2>SSP</KEYWORD2>
            <KEYWORD2>SSP*</KEYWORD2>
            <KEYWORD2>STADR</KEYWORD2>
            <KEYWORD2>STCALL</KEYWORD2>
            <KEYWORD2>STODL</KEYWORD2>
            <KEYWORD2>STODL*</KEYWORD2>
            <KEYWORD2>STORE</KEYWORD2>
            <KEYWORD2>STOVL</KEYWORD2>
            <KEYWORD2>STOVL*</KEYWORD2>
            <KEYWORD2>STQ</KEYWORD2>
            <KEYWORD2>SXA,1</KEYWORD2>
            <KEYWORD2>SXA,2</KEYWORD2>
            <KEYWORD2>TAD</KEYWORD2>
            <KEYWORD2>TAD*</KEYWORD2>
            <KEYWORD2>TIX,1</KEYWORD2>
            <KEYWORD2>TIX,2</KEYWORD2>
            <KEYWORD2>TLOAD</KEYWORD2>
            <KEYWORD2>TLOAD*</KEYWORD2>
            <KEYWORD2>UNIT</KEYWORD2>
            <KEYWORD2>V/SC</KEYWORD2>
            <KEYWORD2>V/SC*</KEYWORD2>
            <KEYWORD2>VAD</KEYWORD2>
            <KEYWORD2>VAD*</KEYWORD2>
            <KEYWORD2>VCOMP</KEYWORD2>
            <KEYWORD2>VDEF</KEYWORD2>
            <KEYWORD2>VLOAD</KEYWORD2>
            <KEYWORD2>VLOAD*</KEYWORD2>
            <KEYWORD2>VPROJ</KEYWORD2>
            <KEYWORD2>VPROJ*</KEYWORD2>
            <KEYWORD2>VSL</KEYWORD2>
            <KEYWORD2>VSL*</KEYWORD2>
            <KEYWORD2>VSL1</KEYWORD2>
            <KEYWORD2>VSL2</KEYWORD2>
            <KEYWORD2>VSL3</KEYWORD2>
            <KEYWORD2>VSL4</KEYWORD2>
            <KEYWORD2>VSL5</KEYWORD2>
            <KEYWORD2>VSL6</KEYWORD2>
            <KEYWORD2>VSL7</KEYWORD2>
            <KEYWORD2>VSL8</KEYWORD2>
            <KEYWORD2>VSQ</KEYWORD2>
            <KEYWORD2>VSR</KEYWORD2>
            <KEYWORD2>VSR*</KEYWORD2>
            <KEYWORD2>VSR1</KEYWORD2>
            <KEYWORD2>VSR2</KEYWORD2>
            <KEYWORD2>VSR3</KEYWORD2>
            <KEYWORD2>VSR4</KEYWORD2>
            <KEYWORD2>VSR5</KEYWORD2>
            <KEYWORD2>VSR6</KEYWORD2>
            <KEYWORD2>VSR7</KEYWORD2>
            <KEYWORD2>VSR8</KEYWORD2>
            <KEYWORD2>VSU</KEYWORD2>
            <KEYWORD2>VSU*</KEYWORD2>
            <KEYWORD2>VXM</KEYWORD2>
            <KEYWORD2>VXM*</KEYWORD2>
            <KEYWORD2>VXSC</KEYWORD2>
            <KEYWORD2>VXSC*</KEYWORD2>
            <KEYWORD2>VXV</KEYWORD2>
            <KEYWORD2>VXV*</KEYWORD2>
            <KEYWORD2>XAD,1</KEYWORD2>
            <KEYWORD2>XAD,2</KEYWORD2>
            <KEYWORD2>XCHX,1</KEYWORD2>
            <KEYWORD2>XCHX,2</KEYWORD2>
            <KEYWORD2>XSU,1</KEYWORD2>
            <KEYWORD2>XSU,2</KEYWORD2>

        </KEYWORDS>
    </RULES>
</MODE>
