<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
This is a reconstruction of the AGC program Luminary 99 Rev 0. It was the
second release of the Lunar Module flight software targeted for use in Apollo 11, after Luminary 97.
A bug (which had been around since at least Apollo 10, Luminary 69) was
discovered in Rev 0 shortly before the Apollo 11 flight, resulting in a last minute
revision into <a href="../Luminary099/MAIN.agc.html">Rev 1</a>, 
which is what actually flew rather than
the Rev 0 presented here.  A hardcopy of Rev 0 is known to
exist &mdash; it belonged to AGC developer Allan Klumpp for many years &mdash; but
unfortunately the Virtual AGC Project has not had access to that hardcopy.  Thus
the code you see here had been reconstructed (we believe accurately) rather than
transcribed.  The first step of the reconstruction of the Rev 0 source code was
the transcription of the Rev 1 source code from a hardcopy in the MIT Museum collection.
The process of reverting the active portion of the source code (i.e., other than
program comments) from Rev 1 to Rev 0 was very minor, consisting 
only of moving the position of the STARTSB1 label in <a href="FRESH_START_AND_RESTART.agc.html">
FRESH START AND RESTART</a>.  Allan had previously given
us the checksums of the memory banks of Rev 0, and we have verified the program presented here has checksums
identical to all banks of Allan's listing of Rev 0.  The notations on Allan's Rev 0 program listing read, 
in part:<br>
<br>
<pre>
	GAP:  ASSEMBLE REVISION 099 OF AGC PROGRAM LUMINARY BY NASA 2021112-051
</pre>
<br>
A single program comment is known to differ between Rev 0 and Rev 1, but these are
harder to reconstruct and verify than changes to the active portion of the code.  Thus
it is possible that there are additional differences between the program comments
in Rev 0 and Rev 1 that are unknown to us, and therefore are not reflected in the code
presented here.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060055,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
060056,000003:                                                                                                  <span class="co">## Filename:    SERVICE_ROUTINES.agc</span>
060057,000004:                                                                                                  <span class="co">## Purpose:     Part of the reconstructed source code for LMY99 Rev 0,</span>
060058,000005:                                                                                                  <span class="co">##              otherwise known as Luminary Rev 99, the second release</span>
060059,000006:                                                                                                  <span class="co">##              of the Apollo Guidance Computer (AGC) software for Apollo 11.</span>
060060,000007:                                                                                                  <span class="co">##              It differs from LMY99 Rev 1 (the flown version) only in the</span>
060061,000008:                                                                                                  <span class="co">##              placement of a single label. The corrections shown here have</span>
060062,000009:                                                                                                  <span class="co">##              been verified to have the same bank checksums as AGC developer</span>
060063,000010:                                                                                                  <span class="co">##              Allan Klumpp's copy of Luminary Rev 99, and so are believed</span>
060064,000011:                                                                                                  <span class="co">##              to be accurate. This file is intended to be a faithful </span>
060065,000012:                                                                                                  <span class="co">##              recreation, except that the code format has been changed to </span>
060066,000013:                                                                                                  <span class="co">##              conform to the requirements of the yaYUL assembler rather than </span>
060067,000014:                                                                                                  <span class="co">##              the original YUL assembler.</span>
060068,000015:                                                                                                  <span class="co">##</span>
060069,000016:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
060070,000017:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
060071,000018:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo.</span>
060072,000019:                                                                                                  <span class="co">## Pages:       1374-1380</span>
060073,000020:                                                                                                  <span class="co">## Mod history: 2009-05-10 SN   (Sergio Navarro).  Started adapting</span>
060074,000021:                                                                                                  <span class="co">##                              from the Luminary131/ file of the same</span>
060075,000022:                                                                                                  <span class="co">##                              name, using Luminary099 page images.</span>
060076,000023:                                                                                                  <span class="co">##              2016-12-18 RSB  Proofed text comments with octopus/ProoferComments</span>
060077,000024:                                                                                                  <span class="co">##                              and corrected the errors found.</span>
060078,000025:                                                                                                  <span class="co">##              2017-03-16 RSB  Comment-text fixes identified in 5-way</span>
060079,000026:                                                                                                  <span class="co">##                              side-by-side diff of Luminary 69/99/116/131/210.</span>
060080,000027:                                                                                                  <span class="co">##              2017-08-01 MAS  Created from LMY99 Rev 1.</span>
060081,000028: 
060082,000029:                                                                                                  <span class="co">## This source code has been transcribed or otherwise adapted from</span>
060083,000030:                                                                                                  <span class="co">## digitized images of a hardcopy from the MIT Museum.  The digitization</span>
060084,000031:                                                                                                  <span class="co">## was performed by Paul Fjeld, and arranged for by Deborah Douglas of</span>
060085,000032:                                                                                                  <span class="co">## the Museum.  Many thanks to both.  The images (with suitable reduction</span>
060086,000033:                                                                                                  <span class="co">## in storage size and consequent reduction in image quality as well) are</span>
060087,000034:                                                                                                  <span class="co">## available online at www.ibiblio.org/apollo.  If for some reason you</span>
060088,000035:                                                                                                  <span class="co">## find that the images are illegible, contact me at info@sandroid.org</span>
060089,000036:                                                                                                  <span class="co">## about getting access to the (much) higher-quality images which Paul</span>
060090,000037:                                                                                                  <span class="co">## actually created.</span>
060091,000038:                                                                                                  <span class="co">##</span>
060092,000039:                                                                                                  <span class="co">## The code has been modified to match LMY99 Revision 0, otherwise</span>
060093,000040:                                                                                                  <span class="co">## known as Luminary Revision 99, the Apollo 11 software release preceeding</span>
060094,000041:                                                                                                  <span class="co">## the listing from which it was transcribed. It has been verified to</span>
060095,000042:                                                                                                  <span class="co">## contain the same bank checksums as AGC developer Allan Klumpp's listing</span>
060096,000043:                                                                                                  <span class="co">## of Luminary Revision 99 (for which we do not have scans).</span>
060097,000044:                                                                                                  <span class="co">##</span>
060098,000045:                                                                                                  <span class="co">## Notations on Allan Klumpp's listing read, in part:</span>
060099,000046:                                                                                                  <span class="co">##</span>
060100,000047:                                                                                                  <span class="co">##      ASSEMBLE REVISION 099 OF AGC PROGRAM LUMINARY BY NASA 2021112-51</span>
060101,000048: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1374
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060103,000050: 10,3544                                           <span class="ps">BANK    </span> 10                                    
060104,000051: 10,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#444953504C415953">DISPLAYS</a>                              
060105,000052: 10,2000                                           <span class="ps">BANK    </span>                                       
060106,000053: 10,3544                                           <span class="ps">COUNT*  </span> $$/DSPLA                              
060107,000054: 
<a name="5550454E5432"></a>060108,000055: 10,3544           00004        <span class="sm">UPENT2  </span>           <span class="op">INHINT  </span>                                       
060109,000056: 10,3545           75660                           <span class="op">MASK    </span> <a href="ALARM_AND_ABORT.agc.html#4F43543737373730">OCT77770</a>                              
060110,000057: 10,3546           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
060111,000058: 10,3547           40100                           <span class="op">CS      </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524434">FLAGWRD4</a>                              
060112,000059: 10,3550           70001                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
060113,000060: 10,3551           26100                           <span class="op">ADS     </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524434">FLAGWRD4</a>                              
<a name="4A4F494E"></a>060114,000061: 10,3552           00003        <span class="sm">JOIN    </span>           <span class="op">RELINT  </span>                                       
060115,000062: 10,3553           16737                           <span class="op">TCF     </span> <a href="INTERPRETER.agc.html#512B31">Q+1</a>                                   
060116,000063: 
<a name="444F574E454E5432"></a>060117,000064: 10,3554           00004        <span class="sm">DOWNENT2</span>           <span class="op">INHINT  </span>                                       
060118,000065: 10,3555           75660                           <span class="op">MASK    </span> <a href="ALARM_AND_ABORT.agc.html#4F43543737373730">OCT77770</a>                              
060119,000066: 10,3556           40000                           <span class="op">COM     </span>                                       
060120,000067: 10,3557           70100                           <span class="op">MASK    </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524434">FLAGWRD4</a>                              
060121,000068: 10,3560           54100                           <span class="op">TS      </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524434">FLAGWRD4</a>                              
060122,000069: 10,3561           13552                           <span class="op">TCF     </span> <a href="#4A4F494E">JOIN</a>                                  
060123,000070: 
<a name="4F435437"></a>060124,000071: 10,3562     4757               <span class="sm">OCT7    </span>           <span class="ps">EQUALS  </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#534556454E">SEVEN</a>                                 
060125,000072: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1375
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060127,000074:                                                                                                  <span class="co">#  UPFLAG AND DOWNFLAG ARE ENTIRELY GENERAL FLAG SETTING AND CLEARING SUBROUTINES.  USING THEM, WHETHER OR</span>
060128,000075:                                                                                                  <span class="co">#  NOT IN INTERRUPT, ONE MAY SET OR CLEAR ANY SINGLE, NAMED BIT IN ANY ERASABLE REGISTER, SUBJECT OF COURSE TO</span>
060129,000076:                                                                                                  <span class="co">#  EBANK SETTING.  A "NAMED" BIT, AS THE WORD IS USED HERE, IS ANY BIT WITH A NAME FORMALLY ASSIGNED BY THE YUL</span>
060130,000077:                                                                                                  <span class="co">#  ASSEMBLER.</span>
060131,000078: 
060132,000079:                                                                                                  <span class="co">#  AT PRESENT THE ONLY NAMED BITS ARE THOSE IN THE FLAGWORDS.  ASSEMBLER CHANGES WILL MAKE IT POSSIBLE TO</span>
060133,000080:                                                                                                  <span class="co">#  NAME ANY BIT IN ERASABLE MEMORY.</span>
060134,000081: 
060135,000082:                                                                                                  <span class="co">#  CALLING SEQUENCES ARE AS FOLLOWS :-</span>
060136,000083:                                                                                                  <span class="co">#                TC      UPFLAG                  TC      DOWNFLAG</span>
060137,000084:                                                                                                  <span class="co">#                ADRES   NAME OF FLAG            ADRES   NAME OF FLAG</span>
060138,000085: 
060139,000086:                                                                                                  <span class="co">#  RETURN IS TO THE LOCATION FOLLOWING THE "ADRES" ABOUT .58 MS AFTER THE "TC".</span>
060140,000087:                                                                                                  <span class="co">#  UPON RETURN A CONTAINS THE CURRENT FLAGWRD SETTING.</span>
060141,000088: 
060142,000089:    5504                                           <span class="ps">BLOCK   </span> 02                                    
060143,000090:    4000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#464654414731">FFTAG1</a>                                
060144,000091:    4000                                           <span class="ps">BANK    </span>                                       
060145,000092:    5504                                           <span class="ps">COUNT*  </span> $$/FLAG                               
060146,000093: 
<a name="5550464C4147"></a>060147,000094:    5504           30002        <span class="sm">UPFLAG  </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
060148,000095:    5505           05522                           <span class="op">TC      </span> <a href="#4445424954">DEBIT</a>                                 
060149,000096:    5506           40000                           <span class="op">COM     </span>                                       <span class="co">#  +(15 - BIT)</span>
060150,000097:    5507           00006                           <span class="op">EXTEND  </span>                                       
060151,000098:    5510           04001                           <span class="op">ROR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4348414E">LCHAN</a>                                 <span class="co">#  SET BIT</span>
<a name="434F4D464C4147"></a>060152,000099:    5511           50061        <span class="sm">COMFLAG </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060153,000100:    5512           54074                           <span class="op">TS      </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524430">FLAGWRD0</a>                              
060154,000101:    5513           22063                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5033">ITEMP3</a>                                
060155,000102:    5514           00003                           <span class="op">RELINT  </span>                                       
060156,000103:    5515           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
060157,000104: 
<a name="444F574E464C4147"></a>060158,000105:    5516           30002        <span class="sm">DOWNFLAG</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
060159,000106:    5517           05522                           <span class="op">TC      </span> <a href="#4445424954">DEBIT</a>                                 
060160,000107:    5520           70001                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  RESET BIT</span>
060161,000108:    5521           15511                           <span class="op">TCF     </span> <a href="#434F4D464C4147">COMFLAG</a>                               
060162,000109: 
<a name="4445424954"></a>060163,000110:    5522           64753        <span class="sm">DEBIT   </span>           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   <span class="co">#  GET DE BITS</span>
060164,000111:    5523           00004                           <span class="op">INHINT  </span>                                       
060165,000112:    5524           54063                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5033">ITEMP3</a>                                
060166,000113:    5525           34762                           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4C4F5734">LOW4</a>                                  <span class="co">#  DEC15</span>
060167,000114:    5526           54061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060168,000115:    5527           50063                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5033">ITEMP3</a>                                
060169,000116:    5530           27777                           <span class="op">CA      </span> 0          -1                         <span class="co">#  ADRES</span>
060170,000117:    5531           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
060171,000118:    5532           34755                           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1376
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060173,000120:    5533           00006                           <span class="op">EXTEND  </span>                                       
060174,000121:    5534           10061                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  A = FLAGWRD, L = (15 - BIT)</span>
060175,000122:    5535           52062                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060176,000123:    5536           50061                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060177,000124:    5537           30074                           <span class="op">CA      </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#464C414757524430">FLAGWRD0</a>                              
060178,000125:    5540           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  CURRENT STATE</span>
060179,000126:    5541           50062                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5032">ITEMP2</a>                                
060180,000127:    5542           44735                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543135">BIT15</a>                                 <span class="co">#  -(15 - BIT)</span>
060181,000128:    5543           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
060182,000129: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1377
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060184,000131:                                                                                                  <span class="co">#  DELAYJOB - A GENERAL ROUTINE TO DELAY A JOB A SPECIFIC AMOUNT OF TIME BEFORE PICKING UP AGAIN.</span>
060185,000132: 
060186,000133:                                                                                                  <span class="co">#  ENTRANCE REQUIREMENTS ...</span>
060187,000134:                                                                                                  <span class="co">#                CAF     DT              DELAY JOB FOR DT CENTISECS</span>
060188,000135:                                                                                                  <span class="co">#                TC      BANKCALL</span>
060189,000136:                                                                                                  <span class="co">#                CADR    DELAYJOB</span>
060190,000137: 
060191,000138: 06,3764                                           <span class="ps">BANK    </span> 06                                    
060192,000139: 00,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#444C41594A4F42">DLAYJOB</a>                               
060193,000140: 00,2000                                           <span class="ps">BANK    </span>                                       
060194,000141: 
060195,000142:                                                                                                  <span class="co">#  THIS MUST REMAIN IN BANK 0 *****************************************</span>
060196,000143: 
060197,000144: 00,3735                                           <span class="ps">COUNT*  </span> $$/DELAY                              
<a name="44454C41594A4F42"></a>060198,000145: 00,3735           00004        <span class="sm">DELAYJOB</span>           <span class="op">INHINT  </span>                                       
060199,000146: 00,3736           54002                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  STORE DELAY DT IN Q FOR DLY -1 IN</span>
060200,000147: 00,3737           34752                           <span class="op">CAF     </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#44454C41594E554D">DELAYNUM</a>                              <span class="co">#  WAITLIST</span>
<a name="44454C4C4F4F50"></a>060201,000148: 00,3740           54070        <span class="sm">DELLOOP </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454731">RUPTREG1</a>                              
060202,000149: 00,3741           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
060203,000150: 00,3742           31326                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C41594C4F43">DELAYLOC</a>                              <span class="co">#  IS THIS DELAYLOC AVAILABLE</span>
060204,000151: 00,3743           00006                           <span class="op">EXTEND  </span>                                       
060205,000152: 00,3744           13752                           <span class="op">BZF     </span> <a href="#4F4B3244454C4159">OK2DELAY</a>                              <span class="co">#  YES</span>
060206,000153: 
060207,000154: 00,3745           10070                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454731">RUPTREG1</a>                              <span class="co">#  NO, TRY NEXT DELAYLOC</span>
060208,000155: 00,3746           13740                           <span class="op">TCF     </span> <a href="#44454C4C4F4F50">DELLOOP</a>                               
060209,000156: 
060210,000157: 00,3747           52134                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42554632">BUF2</a>                                  
060211,000158: 00,3750           05716                           <span class="op">TC      </span> <a href="ALARM_AND_ABORT.agc.html#4241494C4F555431">BAILOUT1</a>                              <span class="co">#  NO AVAILABLE LOCS.</span>
060212,000159: 00,3751           01104                           <span class="ps">OCT     </span> 1104                                  
060213,000160: 
<a name="4F4B3244454C4159"></a>060214,000161: 00,3752           33772        <span class="sm">OK2DELAY</span>           <span class="op">CA      </span> <a href="#5443534C454550">TCSLEEP</a>                               <span class="co">#  SET WAITLIST IMMEDIATE RETURN</span>
060215,000162: 00,3753           54061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5741495445584954">WAITEXIT</a>                              
060216,000163: 
060217,000164: 00,3754           30004                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4642414E4B">FBANK</a>                                 
060218,000165: 00,3755           60070                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454731">RUPTREG1</a>                              <span class="co">#  STORE BBANK FOR TASK CALL</span>
060219,000166: 00,3756           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
060220,000167: 
060221,000168: 00,3757           33773                           <span class="op">CAF     </span> <a href="#57414B45434144">WAKECAD</a>                               <span class="co">#  STORE CADR FOR TASK CALL</span>
060222,000169: 00,3760           15211                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#444C5932">DLY2</a>       -1                         <span class="co">#  DLY IS IN WAITLIST ROUTINE</span>
060223,000170: 
<a name="5443474554434144"></a>060224,000171: 00,3761           04645        <span class="sm">TCGETCAD</span>           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#4D414B4543414452">MAKECADR</a>                              <span class="co">#  GET CALLERS FCADR</span>
060225,000172: 
060226,000173: 00,3762           50070                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454731">RUPTREG1</a>                              
060227,000174: 00,3763           55326                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C41594C4F43">DELAYLOC</a>                              <span class="co">#  SAVE DELAY CADRS</span>
060228,000175: 
060229,000176: 00,3764           05133                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4A4F42534C454550">JOBSLEEP</a>                              
060230,000177: 
<a name="57414B4552"></a>060231,000178: 00,3765           34755        <span class="sm">WAKER   </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
060232,000179: 00,3766           50006                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 
060233,000180: 00,3767           57326                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C41594C4F43">DELAYLOC</a>                              <span class="co">#  MAKE DELAYLOC AVAILABLE</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1378
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060235,000182: 00,3770           05137                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4A4F4257414B45">JOBWAKE</a>                               
060236,000183: 
060237,000184: 00,3771           05261                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#5441534B4F564552">TASKOVER</a>                              
060238,000185: 
<a name="5443534C454550"></a>060239,000186: 00,3772           03757        <span class="sm">TCSLEEP </span>           <span class="ps">GENADR  </span> <a href="#5443474554434144">TCGETCAD</a>   -2                         
<a name="57414B45434144"></a>060240,000187: 00,3773           03765        <span class="sm">WAKECAD </span>           <span class="ps">GENADR  </span> <a href="#57414B4552">WAKER</a>                                 
060241,000188: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1379
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060243,000190:                                                                                                  <span class="co">#  GENTRAN, A BLOCK TRANSFER ROUTINE.</span>
060244,000191:                                                                                                  <span class="co">#  WRITTEN BY D. EYLES</span>
060245,000192:                                                                                                  <span class="co">#  MOD 1 BY KERNAN                               UTILITYM REV 17 11/18/67</span>
060246,000193:                                                                                                  <span class="co">#  MOD 2 BY SCHULENBERG (REMOVE RELINT) SKIPPER REV 4 2/28/68</span>
060247,000194: 
060248,000195:                                                                                                  <span class="co">#  THIS ROUTINE IS USEFULL FOR TRANSFERING N CONSECUTIVE ERASABLE OR FIXED QUANTITIES TO SOME OTHER N</span>
060249,000196:                                                                                                  <span class="co">#  CONSECUTIVE ERASABLE LOCATIONS.  IF BOTH BLOCKS OF DATA ARE IN SWITCHABLE EBANKS, THEY MUST BE IN THE SAME ONE.</span>
060250,000197: 
060251,000198:                                                                                                  <span class="co">#  GENTRAN IS CALLABLE IN A JOB AS WELL AS A RUPT.  THE CALLING SEQUENCE IS:</span>
060252,000199:                                                                                                  <span class="co">#        I       CA      N-1             # OF QUANTITIES MINUS ONE.</span>
060253,000200:                                                                                                  <span class="co">#        I +1    TC      GENTRAN         IN FIXED-FIXED.</span>
060254,000201:                                                                                                  <span class="co">#        I +2    ADRES   L               STARTING ADRES OF DATA TO BE MOVED.</span>
060255,000202:                                                                                                  <span class="co">#        I +3    ADRES   M               STARTING ADRES OF DUPLICATION BLOCK.</span>
060256,000203:                                                                                                  <span class="co">#        I +4                            RETURNS HERE.</span>
060257,000204: 
060258,000205:                                                                                                  <span class="co">#  GENTRAN TAKES 25 MCT'S (300 MICROSECONDS) PER ITEM + 5 MCT'S (60 MICS) FOR ENTERING AND EXITING.</span>
060259,000206:                                                                                                  <span class="co">#  A, L AND ITEMP1 ARE NOT PRESERVED.</span>
060260,000207: 
060261,000208:    5544                                           <span class="ps">BLOCK   </span> 02                                    
060262,000209:    4000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#464654414734">FFTAG4</a>                                
060263,000210:    4000                                           <span class="ps">BANK    </span>                                       
060264,000211: 
060265,000212:    5544     0061                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060266,000213: 
060267,000214:    5544                                           <span class="ps">COUNT*  </span> $$/TRAN                               
060268,000215: 
<a name="47454E5452414E"></a>060269,000216:    5544           00004        <span class="sm">GENTRAN </span>           <span class="op">INHINT  </span>                                       
060270,000217:    5545           54061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  SAVE N-1.</span>
060271,000218:    5546           50002                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  C(Q) = ADRES L.</span>
060272,000219:    5547           60000                           <span class="op">AD      </span> 0                                     <span class="co">#  ADRES (L + N - 1).</span>
060273,000220:    5550           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
060274,000221:    5551           30000                           <span class="op">CA      </span> 0                                     <span class="co">#  C(ABOVE).</span>
060275,000222:    5552           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  SAVE DATA.</span>
060276,000223:    5553           30061                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
060277,000224:    5554           50002                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
060278,000225:    5555           60001                           <span class="op">AD      </span> 1                                     <span class="co">#  ADRES (M + N - 1).</span>
060279,000226:    5556           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
060280,000227:    5557           22000                           <span class="op">LXCH    </span> 0                                     <span class="co">#  STUFF IT.</span>
060281,000228:    5560           10061                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  LOOP UNTIL N-1 = 0.</span>
060282,000229:    5561           15545                           <span class="op">TCF     </span> <a href="#47454E5452414E">GENTRAN</a>    +1                         
060283,000230:    5562           16741                           <span class="op">TCF     </span> <a href="INTERPRETER.agc.html#512B32">Q+2</a>                                   <span class="co">#  RETURN TO CALLER.</span>
060284,000231: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1380
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
060286,000233:                                                                                                  <span class="co">#  B5OFF         ZERO BIT 5 OF EXTVBACT, WHICH IS SET BY TESTXACT.</span>
060287,000234:                                                                                                  <span class="co">#  MAY BE USED AS NEEDED BY ANY EXTENDED VERB WHICH HAS DONE TESTXACT</span>
060288,000235: 
060289,000236:    5563                                           <span class="ps">COUNT*  </span> $$/EXTVB                              
060290,000237: 
<a name="42354F4646"></a>060291,000238:    5563           44747        <span class="sm">B5OFF   </span>           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495435">BIT5</a>                                  
060292,000239:    5564           71044                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
060293,000240:    5565           55044                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
060294,000241:    5566           05155                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              
060295,000242: 
060296,000243: 
060297,000244: 

End of include-file SERVICE_ROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
