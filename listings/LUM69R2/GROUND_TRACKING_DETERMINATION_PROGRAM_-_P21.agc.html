<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of LUM69 Revision 2, the
flown Apollo 10 Lunar Module (LM) Apollo Guidance Computer (AGC) software. 

The reconstruction began with source code of Luminary 69 revision 0 previously
transcribed from a digitized copy of that program.  The code was then updated 
by back-porting the R-2 lunar potential model from previously-transcribed source
code of Luminary 99. These required changes were described in the original
Luminary memos 75 and 78. The reconstructed code was verified by 
matching memory-bank checksums to those listed in drawing 2021152G. Note that
page numbers in the reconstructed code match those on the Luminary 069 printout, 
although the added code would likely have changed page numbers for a real LUM69 
Revision 2 listing.

Comments from the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
028863,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
028864,000003:                                                                                                  <span class="co">## Filename:    GROUND_TRACKING_DETERMINATION_PROGRAM_-_P21.agc</span>
028865,000004:                                                                                                  <span class="co">## Purpose:     A section of LUM69 revision 2.</span>
028866,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the flown</span>
028867,000006:                                                                                                  <span class="co">##              version of the flight software for the Lunar Module's (LM)</span>
028868,000007:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 10. The code has</span>
028869,000008:                                                                                                  <span class="co">##              been recreated from a copy of Luminary revsion 069, using</span>
028870,000009:                                                                                                  <span class="co">##              changes present in Luminary 099 which were described in</span>
028871,000010:                                                                                                  <span class="co">##              Luminary memos 75 and 78. The code has been adapted such</span>
028872,000011:                                                                                                  <span class="co">##              that the resulting bugger words exactly match those specified</span>
028873,000012:                                                                                                  <span class="co">##              for LUM69 revision 2 in NASA drawing 2021152B, which gives</span>
028874,000013:                                                                                                  <span class="co">##              relatively high confidence that the reconstruction is correct.</span>
028875,000014:                                                                                                  <span class="co">## Reference:   pp. 664-666</span>
028876,000015:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
028877,000016:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
028878,000017:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
028879,000018:                                                                                                  <span class="co">## Mod history: 2019-07-27 MAS  Created from Luminary 69.</span>
028880,000019: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 664
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
028882,000021:                                                                                                  <span class="co">#  GROUND TRACKING DETERMINATION PROGRAM P21</span>
028883,000022:                                                                                                  <span class="co">#  PROGRAM DESCRIPTION</span>
028884,000023:                                                                                                  <span class="co">#  MOD NO - 1</span>
028885,000024:                                                                                                  <span class="co">#  MOD BY - N. M. NEVILLE</span>
028886,000025: 
028887,000026:                                                                                                  <span class="co">#  FUNCTIONAL DECRIPTION -</span>
028888,000027: 
028889,000028:                                                                                                  <span class="co">#  TO PROVIDE THE ASTRONAUT DETAILS OF THE LM OR CSM GROUND TRACK WITHOUT</span>
028890,000029:                                                                                                  <span class="co">#  THE NEED FOR GROUND COMMUNICATION (REQUESTED BY DSKY).</span>
028891,000030:                                                                                                  <span class="co">#  CALLING SEQUENCE -</span>
028892,000031: 
028893,000032:                                                                                                  <span class="co">#        ASTRONAUT REQUEST THROUGH DSKY V37E21E</span>
028894,000033:                                                                                                  <span class="co">#  SUBROUTINES CALLED -</span>
028895,000034: 
028896,000035:                                                                                                  <span class="co">#  GOPERF4</span>
028897,000036:                                                                                                  <span class="co">#  GOFLASH</span>
028898,000037:                                                                                                  <span class="co">#  THISPREC</span>
028899,000038:                                                                                                  <span class="co">#  OTHPREC</span>
028900,000039:                                                                                                  <span class="co">#  LAT-LONG</span>
028901,000040: 
028902,000041:                                                                                                  <span class="co">#  NORMAL EXIT MODES -</span>
028903,000042: 
028904,000043:                                                                                                  <span class="co">#  ASTRONAUT REQUEST TROUGH DSKY TO TERMINATE PROGRAM V34E</span>
028905,000044:                                                                                                  <span class="co">#  ALARM OR ABORT EXIT MODES -</span>
028906,000045: 
028907,000046:                                                                                                  <span class="co">#  NONE</span>
028908,000047:                                                                                                  <span class="co">#  OUTPUT -</span>
028909,000048: 
028910,000049:                                                                                                  <span class="co">#  OCTAL DISPLAY OF OPTION CODE AND VEHICLE WHOSE GROUND TRACK IS TO BE</span>
028911,000050:                                                                                                  <span class="co">#  COMPUTED</span>
028912,000051:                                                                                                  <span class="co">#        OPTION CODE     00002</span>
028913,000052:                                                                                                  <span class="co">#        THIS            00001</span>
028914,000053:                                                                                                  <span class="co">#        OTHER           00002</span>
028915,000054:                                                                                                  <span class="co">#  DECIMAL DISPLAY OF TIME TO BE INTEGRATED TO HOURS , MINUTES , SECONDS</span>
028916,000055:                                                                                                  <span class="co">#  DECIMAL DISPLAY OF LAT,LONG,ALT</span>
028917,000056: 
028918,000057:                                                                                                  <span class="co">#  ERASABLE INITIALIZATION REQUIRED</span>
028919,000058: 
028920,000059:                                                                                                  <span class="co">#  AX0           2DEC    4.652459653 E-5 RADIANS         %68-69 CONSTANTS"</span>
028921,000060: 
028922,000061:                                                                                                  <span class="co">#  -AY0          2DEC    2.147535898 E-5 RADIANS</span>
028923,000062: 
028924,000063:                                                                                                  <span class="co">#  AZ0           2DEC    .7753206164     REVOLUTIONS</span>
028925,000064:                                                                                                  <span class="co">#  FOR LUNAR ORBITS 504LM VECTOR IS NEEDED</span>
028926,000065: 
028927,000066:                                                                                                  <span class="co">#  504LM         2DEC    -2.700340600 E-5 RADIANS</span>
028928,000067: 
028929,000068:                                                                                                  <span class="co">#  504LM _2      2DEC    -7.514128400 E-4 RADIANS</span>
028930,000069: 
028931,000070:                                                                                                  <span class="co">#  504LM _4      2DEC    _2.553198641 E-4 RADIANS</span>
028932,000071: 
028933,000072:                                                                                                  <span class="co">#  NONE</span>
028934,000073:                                                                                                  <span class="co">#  DEBRIS</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 665
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
028936,000075: 
028937,000076:                                                                                                  <span class="co">#  CENTRALS-A,Q,L</span>
028938,000077:                                                                                                  <span class="co">#  OTHER - THOSE USED BY THE ABOVE LISTED SUBROUTINES</span>
028939,000078:                                                                                                  <span class="co">#  SEE LEMPREC, LAT-LONG</span>
028940,000079: 
028941,000080: 35,2511  30,2000                                  <span class="ps">SBANK=  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F575355504552">LOWSUPER</a>                              <span class="co">#  FOR LOW 2CADR'S.</span>
028942,000081: 
028943,000082: 33,2200                                           <span class="ps">BANK    </span> 33                                    
028944,000083: 24,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#50323053">P20S</a>                                  
028945,000084: 24,2000                                           <span class="ps">BANK    </span>                                       
028946,000085: 
028947,000086: 24,3402  E7,1756                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
028948,000087: 24,3402                                           <span class="ps">COUNT*  </span> $$/<a href="ERASABLE_ASSIGNMENTS.agc.html#503231">P21</a>                                
<a name="50524F473231"></a>028949,000088: 24,3402           34753        <span class="sm">PROG21  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
028950,000089: 24,3403           55145                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E32">OPTION2</a>                               <span class="co">#  ASSUMED VEHICLE IS LM, R2 = 00001</span>
028951,000090: 24,3404           34752                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#  OPTION 2</span>
028952,000091: 24,3405           04616                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
028953,000092: 24,3406           20506                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F5045524634">GOPERF4</a>                               
028954,000093: 24,3407           06001                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERMINATE</span>
028955,000094: 24,3410           03412                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED VALUE OF ASSUMED VEHICLE OK</span>
028956,000095: 24,3411           03404                           <span class="op">TC      </span> -5                                    <span class="co">#  R2 LOADED THROUGH DSKY</span>
<a name="50323150524F4731"></a>028957,000096: 24,3412           33503        <span class="sm">P21PROG1</span>           <span class="op">CAF     </span> <a href="#56364E3334">V6N34</a>                                 <span class="co">#  LOAD DESIRED TIME OF LAT-LONG.</span>
028958,000097: 24,3413           04616                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
028959,000098: 24,3414           20351                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
028960,000099: 24,3415           06001                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERM</span>
028961,000100: 24,3416           03420                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED VALUES OK</span>
028962,000101: 24,3417           03412                           <span class="op">TC      </span> -5                                    <span class="co">#  TIME LOADED THROUGH DSKY</span>
028963,000102: 24,3420           06036                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
028964,000103: 24,3421           77745                           <span class="in">DLOAD   </span>                                       
028965,000104: 24,3422           01046                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#44535054454D31">DSPTEM1</a>                               
028966,000105: 24,3423           03757                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
028967,000106: 24,3424           45335                           <span class="in">SLOAD   </span> <span class="in">DSU       </span>                            
028968,000107: 24,3425           01146                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E32">OPTION2</a>                               
028969,000108: 24,3426           11501                                    <a href="#5032314F4E454E4E">P21ONENN</a>                              
028970,000109: 24,3427           71230                           <span class="in">BHIZ    </span> <span class="in">DLOAD     </span>                            
028971,000110: 24,3430           51443                                    <a href="#50323150524F4732">P21PROG2</a>                              <span class="co">#  VEHICLE TO BE INTEGRATED IS LEM</span>
028972,000111: 24,3431           03757                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               <span class="co">#  VEHICLE TO BE INTEGRATED IS CSM</span>
028973,000112: 24,3432           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  INTEGRATE TO TIME SPECIFIED IN TDEC</span>
028974,000113: 24,3433           27043                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4F544850524543">OTHPREC</a>                               <span class="co">#  ADJUST UNITS FOR LAT-LONG ROUTINE</span>
<a name="50323150524F4741"></a>028975,000114: 24,3434           46135        <span class="sm">P21PROGA</span>           <span class="in">SLOAD   </span> <span class="in">BHIZ      </span>                            
028976,000115: 24,3435           00050                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    
028977,000116: 24,3436           51451                                    <a href="#50323150524F4733">P21PROG3</a>                              
028978,000117: 24,3437           43175                           <span class="in">VLOAD   </span> <span class="in">SETGO     </span>                            
028979,000118: 24,3440           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
028980,000119: 24,3441           01423                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
028981,000120: 24,3442           51454                                    <a href="#50323150524F4734">P21PROG4</a>                              
<a name="50323150524F4732"></a>028982,000121: 24,3443           77745        <span class="sm">P21PROG2</span>           <span class="in">DLOAD   </span>                                       
028983,000122: 24,3444           03757                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
028984,000123: 24,3445           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
028985,000124: 24,3446           27057                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5448495350524543">THISPREC</a>                              
028986,000125: 24,3447           77650                           <span class="in">GOTO    </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 666
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
028988,000127: 24,3450           51434                                    <a href="#50323150524F4741">P21PROGA</a>                              
<a name="50323150524F4733"></a>028989,000128: 24,3451           43175        <span class="sm">P21PROG3</span>           <span class="in">VLOAD   </span> <span class="in">CLEAR     </span>                            
028990,000129: 24,3452           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
028991,000130: 24,3453           01663                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
<a name="50323150524F4734"></a>028992,000131: 24,3454           16032        <span class="sm">P21PROG4</span>           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
028993,000132: 24,3455           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
028994,000133: 24,3456           45014                           <span class="in">CLEAR   </span> <span class="in">CALL      </span>                            
028995,000134: 24,3457           00662                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              
028996,000135: 24,3460           26351                                    <a href="LATITUDE_LONGITUDE_SUBROUTINES.agc.html#4C41542D4C4F4E47">LAT-LONG</a>                              
028997,000136: 24,3461           77776                           <span class="in">EXIT    </span>                                       
028998,000137: 24,3462           33502                           <span class="op">CAF     </span> <a href="#5630364E3433">V06N43</a>                                <span class="co">#  DISPLAY LAT,LONG,ALT</span>
028999,000138: 24,3463           04616                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  LAT,LONG = 1/2 REVS B0</span>
029000,000139: 24,3464           20351                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               <span class="co">#  ALT = KM B14</span>
029001,000140: 24,3465           06001                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERM</span>
029002,000141: 24,3466           06001                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              
029003,000142: 24,3467           06036                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  V32E RECYCLE</span>
029004,000143: 24,3470           43345                           <span class="in">DLOAD   </span> <span class="in">DAD       </span>                            
029005,000144: 24,3471           03757                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
029006,000145: 24,3472           11477                                    <a href="#363030534543">600SEC</a>                                <span class="co">#  600 SECONDS OR 10 MIN</span>
029007,000146: 24,3473           01046                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44535054454D31">DSPTEM1</a>                               
029008,000147: 24,3474           77634                           <span class="in">RTB     </span>                                       
029009,000148: 24,3475           51412                                    <a href="#50323150524F4731">P21PROG1</a>                              
<a name="363030534543"></a>029010,000149: 24,3476           00003 25140  <span class="sm">600SEC  </span>           <span class="ps">2DEC    </span> 60000      B-28                       <span class="co">#  10 MIN</span>
029011,000150: 
<a name="5032314F4E454E4E"></a>029012,000151: 24,3500           00001        <span class="sm">P21ONENN</span>           <span class="ps">OCT     </span> 00001                                 <span class="co">#  NEEDED TO DETERMINE VEHICLE</span>
029013,000152: 24,3501           00000                           <span class="ps">OCT     </span> 00000                                 <span class="co">#  TO BE INTEGRATED</span>
<a name="5630364E3433"></a>029014,000153: 24,3502           01453        <span class="sm">V06N43  </span>           <span class="ps">VN      </span> 00643                                 
<a name="56364E3334"></a>029015,000154: 24,3503           01442        <span class="sm">V6N34   </span>           <span class="ps">VN      </span> 00634                                 
029016,000155: 
029017,000156: 

End of include-file GROUND_TRACKING_DETERMINATION_PROGRAM_-_P21.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
