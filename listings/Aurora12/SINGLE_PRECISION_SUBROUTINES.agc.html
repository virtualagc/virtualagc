<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files have been transcribed or otherwise adapted from
digitized images of a hardcopy from the private collection of 
Don Eyles.  The digitization was performed by archive.org, and 
transcription was performed by a team of volunteers.
Note that the page images <a href="https://www.ibiblio.org/apollo/ScansForConversion/Aurora12/">
presented online</a> are of reduced quality, and that the original 
high-quality images are available at <a href="https://archive.org/details/aurora00dapg">archive.org</a>.  
Report any conversion errors or legibility problems in page images to info@sandroid.org.
Notations on the program listing read, in part:<br>
<br>
<pre>
    473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP   NOV 10, 1966
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
004592,000002:                                                                                                  <span class="co">## Copyright:    Public domain.</span>
004593,000003:                                                                                                  <span class="co">## Filename:     SINGLE_PRECISION_SUBROUTINES.agc</span>
004594,000004:                                                                                                  <span class="co">## Purpose:      Part of the source code for Aurora (revision 12).</span>
004595,000005:                                                                                                  <span class="co">## Assembler:    yaYUL</span>
004596,000006:                                                                                                  <span class="co">## Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
004597,000007:                                                                                                  <span class="co">## Website:      https://www.ibiblio.org/apollo.</span>
004598,000008:                                                                                                  <span class="co">## Pages:        123-125</span>
004599,000009:                                                                                                  <span class="co">## Mod history:  2016-09-20 JL   Created.</span>
004600,000010:                                                                                                  <span class="co">##               2016-12-08 RSB  Proofed comments with octopus/ProoferComments</span>
004601,000011:                                                                                                  <span class="co">##                               but no errors found.</span>
004602,000012: 
004603,000013:                                                                                                  <span class="co">## This source code has been transcribed or otherwise adapted from</span>
004604,000014:                                                                                                  <span class="co">## digitized images of a hardcopy from the private collection of </span>
004605,000015:                                                                                                  <span class="co">## Don Eyles.  The digitization was performed by archive.org.</span>
004606,000016: 
004607,000017:                                                                                                  <span class="co">## Notations on the hardcopy document read, in part:</span>
004608,000018: 
004609,000019:                                                                                                  <span class="co">##       473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP</span>
004610,000020:                                                                                                  <span class="co">##       NOV 10, 1966</span>
004611,000021: 
004612,000022:                                                                                                  <span class="co">##       [Note that this is the date the hardcopy was made, not the</span>
004613,000023:                                                                                                  <span class="co">##       date of the program revision or the assembly.]</span>
004614,000024: 
004615,000025:                                                                                                  <span class="co">## The scan images (with suitable reduction in storage size and consequent </span>
004616,000026:                                                                                                  <span class="co">## reduction in image quality) are available online at </span>
004617,000027:                                                                                                  <span class="co">##       https://www.ibiblio.org/apollo.  </span>
004618,000028:                                                                                                  <span class="co">## The original high-quality digital images are available at archive.org:</span>
004619,000029:                                                                                                  <span class="co">##       https://archive.org/details/aurora00dapg</span>
004620,000030: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 123
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
004622,000032:    4232                                           <span class="ps">SETLOC  </span> <a href="INTER-BANK_COMMUNICATION.agc.html#454E4449424E4B46">ENDIBNKF</a>                              
004623,000033: 
004624,000034:                                                                                                  <span class="co">#  SINGLE PRECISION SINE AND COSINE</span>
004625,000035: 
<a name="5350434F53"></a>004626,000036:    4232           67642        <span class="sm">SPCOS   </span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#48414C46">HALF</a>                                  <span class="co">#  ARGUMENTS SCALED AT PI</span>
<a name="535053494E"></a>004627,000037:    4233           55105        <span class="sm">SPSIN   </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004628,000038:    4234           14236                           <span class="op">TCF     </span> <a href="#535054">SPT</a>                                   
004629,000039:    4235           41105                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
<a name="535054"></a>004630,000040:    4236           60000        <span class="sm">SPT     </span>           <span class="op">DOUBLE  </span>                                       
004631,000041:    4237           55105                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004632,000042:    4240           14251                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
004633,000043:    4241           57105                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004634,000044:    4242           51105                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004635,000045:    4243           67640                           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4C494D495453">LIMITS</a>                                
004636,000046:    4244           40000                           <span class="op">COM     </span>                                       
004637,000047:    4245           61105                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004638,000048:    4246           55105                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004639,000049:    4247           14251                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
004640,000050:    4250           14267                           <span class="op">TCF     </span> <a href="#4152473930">ARG90</a>                                 
<a name="504F4C4C4559"></a>004641,000051:    4251           00006        <span class="sm">POLLEY  </span>           <span class="op">EXTEND  </span>                                       
004642,000052:    4252           71105                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004643,000053:    4253           55106                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
004644,000054:    4254           00006                           <span class="op">EXTEND  </span>                                       
004645,000055:    4255           74274                           <span class="op">MP      </span> <a href="#43352F32">C5/2</a>                                  
004646,000056:    4256           64273                           <span class="op">AD      </span> <a href="#43332F32">C3/2</a>                                  
004647,000057:    4257           00006                           <span class="op">EXTEND  </span>                                       
004648,000058:    4260           71106                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
004649,000059:    4261           64272                           <span class="op">AD      </span> <a href="#43312F32">C1/2</a>                                  
004650,000060:    4262           00006                           <span class="op">EXTEND  </span>                                       
004651,000061:    4263           71105                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004652,000062:    4264           20001                           <span class="op">DDOUBL  </span>                                       
004653,000063:    4265           55105                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
004654,000064:    4266           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
<a name="4152473930"></a>004655,000065:    4267           50000        <span class="sm">ARG90   </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004656,000066:    4270           47640                           <span class="op">CS      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4C494D495453">LIMITS</a>                                
004657,000067:    4271           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RESULT SCALED AT 1</span>
<a name="43312F32"></a>004658,000068:    4272           31103        <span class="sm">C1/2    </span>           <span class="ps">DEC     </span> .7853134                              
<a name="43332F32"></a>004659,000069:    4273           65552        <span class="sm">C3/2    </span>           <span class="ps">DEC     </span> -.3216146                             
<a name="43352F32"></a>004660,000070:    4274           01124        <span class="sm">C5/2    </span>           <span class="ps">DEC     </span> .0363551                              
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 124
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
004662,000072:                                                                                                  <span class="co">#  ENTER WITH ARGUMENT IN A, EXIT WITH ROOT IN A.  IF GIVEN A NEGATIVE ARGUMENT, THE RETURN SKIPS WITH CCS RESULT.</span>
004663,000073:                                                                                                  <span class="co">#  MINUS ZERO RETURNS LIKE PLUS ZERO.</span>
004664,000074:                                                                                                  <span class="co">#  MAXIMUM ERROR IN ANSWER IS NO GREATER THAN 2 BITS.</span>
004665,000075:                                                                                                  <span class="co">#  INTERRUPT PROGRAMS USING SPROOT MUST SAVE AND RESTORE SR.</span>
004666,000076: 
004667,000077: 
004668,000078: 
<a name="5350524F4F54"></a>004669,000079:    4275           55107        <span class="sm">SPROOT  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ENTER WITH C(A) = Y</span>
004670,000080:    4276           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004671,000081:    4277           14303                           <span class="op">TCF     </span> <a href="#504F53415247">POSARG</a>                                <span class="co">#  IF PNZ, CONTINUE</span>
004672,000082:    4300           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR +0</span>
004673,000083:    4301           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
004674,000084:    4302           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR -0</span>
004675,000085: 
<a name="504F53415247"></a>004676,000086:    4303           00006        <span class="sm">POSARG  </span>           <span class="op">EXTEND  </span>                                       
004677,000087:    4304           23106                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  WILL BE CALLING SPROOT1</span>
004678,000088:    4305           64362                           <span class="op">AD      </span> <a href="#36332F36342B31">63/64+1</a>                               <span class="co">#  B(A) = Y - 1</span>
004679,000089:    4306           54000                           <span class="op">OVSK    </span>                                       
004680,000090:    4307           14351                           <span class="op">TCF     </span> <a href="#5350524F4F5432">SPROOT2</a>                               
004681,000091:    4310           57107                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ARG JUGGLING</span>
004682,000092: 
<a name="5350524F4F5433"></a>004683,000093:    4311           55107        <span class="sm">SPROOT3 </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
004684,000094:    4312           54021                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(A) = Y</span>
004685,000095:    4313           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  (LOSE 1 BIT)</span>
004686,000096:    4314           55105                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  HALFY = Y/2</span>
004687,000097:    4315           64360                           <span class="op">AD      </span> <a href="#2D312F38">-1/8</a>                                  <span class="co">#  FORM Y/2 - 1/8</span>
004688,000098:    4316           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  TEST FOR FIRST GUESS</span>
004689,000099:    4317           64361                           <span class="op">AD      </span> <a href="#352F382B31">5/8+1</a>                                 <span class="co">#  Y .G. 1/4, X = Y/2 + 1/2</span>
004690,000100:    4320           04325                           <span class="op">TC      </span> <a href="#48494755455353">HIGUESS</a>                               <span class="co">#  +0 IMPOSSIBLE FROM ADDITION</span>
004691,000101:    4321           14322                           <span class="op">NOOP    </span>                                       <span class="co">#  Y .LE. 1/4, X/2 = Y + 1/16</span>
004692,000102:    4322           37645                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4249543131">BIT11</a>                                 <span class="co">#  1/16</span>
004693,000103:    4323           61107                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  SQRARG = Y</span>
004694,000104:    4324           60000                           <span class="op">DOUBLE  </span>                                       <span class="co">#  X FROM X/2</span>
<a name="48494755455353"></a>004695,000105:    4325           04340        <span class="sm">HIGUESS </span>           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               
004696,000106:    4326           04340                           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               <span class="co">#  ITERATE TWICE</span>
004697,000107:    4327           57106                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SAVE ANSWER AND GET Q</span>
004698,000108:    4330           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
004699,000109:    4331           57106                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  NO SHIFT NEEDED</span>
004700,000110:    4332           04336                           <span class="op">TC      </span> <a href="#524F4F5442434B">ROOTBCK</a>                               
004701,000111:    4333           57106                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  Q NEG, SHIFT RIGHT THREE</span>
004702,000112:    4334           00006                           <span class="op">EXTEND  </span>                                       
004703,000113:    4335           77644                           <span class="op">MP      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4249543132">BIT12</a>                                 <span class="co">#  EXP -3</span>
<a name="524F4F5442434B"></a>004704,000114:    4336           51106        <span class="sm">ROOTBCK </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  ROOTRET = Q - 1</span>
004705,000115:    4337           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN, C(A) = SQRT(Y)</span>
004706,000116: 
<a name="5350524F4F5431"></a>004707,000117:    4340           56021        <span class="sm">SPROOT1 </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  SR = X/2</span>
004708,000118:    4341           41105                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  NEWTON ITER  X = X/2 + (Y/2 / X/2) / 2</span>
004709,000119:    4342           22007                           <span class="op">ZL      </span>                                       
004710,000120:    4343           00006                           <span class="op">EXTEND  </span>                                       
004711,000121:    4344           10021                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(SR) = X/2 DV DOES NOT EDIT</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 125
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
004713,000123:    4345           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
004714,000124:    4346           00006                           <span class="op">EXTEND  </span>                                       
004715,000125:    4347           60021                           <span class="op">SU      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
004716,000126:    4350           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  C(A) = X (NEXT)</span>
004717,000127: 
<a name="5350524F4F5432"></a>004718,000128:    4351           41106        <span class="sm">SPROOT2 </span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SET RETURN Q NEG, AS FLAG</span>
004719,000129:    4352           55106                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               
004720,000130:    4353           37651                           <span class="op">CAF     </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#42495437">BIT7</a>                                  <span class="co">#  SHIFT FOR SIGNIFCANCE</span>
004721,000131:    4354           00006                           <span class="op">EXTEND  </span>                                       
004722,000132:    4355           71107                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
004723,000133:    4356           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  B(A) = 0</span>
004724,000134:    4357           04311                           <span class="op">TC      </span> <a href="#5350524F4F5433">SPROOT3</a>                               
004725,000135: 
<a name="2D312F38"></a>004726,000136:    4360           73777        <span class="sm">-1/8    </span>           <span class="ps">OCTAL   </span> 73777                                 
<a name="352F382B31"></a>004727,000137:    4361           24001        <span class="sm">5/8+1   </span>           <span class="ps">OCTAL   </span> 24001                                 
<a name="36332F36342B31"></a>004728,000138:    4362           37401        <span class="sm">63/64+1 </span>           <span class="ps">OCTAL   </span> 37401                                 
004729,000139: 
004730,000140: 
004731,000141: 
<a name="454E445355425346"></a>004732,000142:    4363                        <span class="sm">ENDSUBSF</span>           <span class="ps">EQUALS  </span>                                       

End of include-file SINGLE_PRECISION_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
