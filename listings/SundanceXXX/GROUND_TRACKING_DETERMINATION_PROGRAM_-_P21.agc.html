<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files are a reconstruction of Sundance, the Apollo 9 LM (Lunar Module) AGC
(Apollo Guidance Computer) flight software, created from binary dumps of original core rope
program modules, as follows:
<ul>
<li>B1 &mdash; Revision 292</li>
<li>B2 &mdash; Revision 302</li>
<li>B3 &mdash; Revision 302</li>
<li>B4 &mdash; Revision 302</li>
<li>B5 &mdash; Revision 292</li>
<li>B6 &mdash; Revision 306</li>
</ul>

This means that source code
does not represent a specific historical revision of Sundance, but rather a mixture of the
three released versions. Nonetheless, it is capable of flying the whole Apollo 9 mission.
This source code matches the binary dumps, as closely as feasible, but 100% match is not possible, 
due <i>mostly</i> to changes in memory addresses at which code and variables were allocated in 
different revisions of Sundance.  Refer to 
<a href="https://github.com/virtualagc/virtualagc/blob/master/SundanceXXX/SundanceXXXDifferences.txt">
<u>this list of explanations for each binary mismatch</u></a>.
<br><br>
Since only binary dumps (rather than listings) of Sundance are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.

</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
025412,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
025413,000003:                                                                                                  <span class="co">## Filename:    GROUND_TRACKING_DETERMINATION_PROGRAM_-_P21.agc</span>
025414,000004:                                                                                                  <span class="co">## Purpose:     A section of a reconstructed, mixed version of Sundance</span>
025415,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the Lunar</span>
025416,000006:                                                                                                  <span class="co">##              Module's (LM) Apollo Guidance Computer (AGC) for Apollo 9.</span>
025417,000007:                                                                                                  <span class="co">##              No original listings of this program are available;</span>
025418,000008:                                                                                                  <span class="co">##              instead, this file was created via disassembly of dumps</span>
025419,000009:                                                                                                  <span class="co">##              of various revisions of Sundance core rope modules.</span>
025420,000010:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
025421,000011:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
025422,000012:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
025423,000013:                                                                                                  <span class="co">## Mod history: 2020-06-17 MAS  Created from Luminary 69.</span>
025424,000014: 
025425,000015:                                                                                                  <span class="co">## Sundance 302</span>
025426,000016: 
025427,000017:                                                                                                  <span class="co">#  GROUND TRACKING DETERMINATION PROGRAM P21</span>
025428,000018:                                                                                                  <span class="co">#  PROGRAM DESCRIPTION</span>
025429,000019:                                                                                                  <span class="co">#  MOD NO - 1</span>
025430,000020:                                                                                                  <span class="co">#  MOD BY - N. M. NEVILLE</span>
025431,000021: 
025432,000022:                                                                                                  <span class="co">#  FUNCTIONAL DECRIPTION -</span>
025433,000023: 
025434,000024:                                                                                                  <span class="co">#  TO PROVIDE THE ASTRONAUT DETAILS OF THE LM OR CSM GROUND TRACK WITHOUT</span>
025435,000025:                                                                                                  <span class="co">#  THE NEED FOR GROUND COMMUNICATION (REQUESTED BY DSKY).</span>
025436,000026:                                                                                                  <span class="co">#  CALLING SEQUENCE -</span>
025437,000027: 
025438,000028:                                                                                                  <span class="co">#        ASTRONAUT REQUEST THROUGH DSKY V37E21E</span>
025439,000029:                                                                                                  <span class="co">#  SUBROUTINES CALLED -</span>
025440,000030: 
025441,000031:                                                                                                  <span class="co">#  GOPERF4</span>
025442,000032:                                                                                                  <span class="co">#  GOFLASH</span>
025443,000033:                                                                                                  <span class="co">#  THISPREC</span>
025444,000034:                                                                                                  <span class="co">#  OTHPREC</span>
025445,000035:                                                                                                  <span class="co">#  LAT-LONG</span>
025446,000036: 
025447,000037:                                                                                                  <span class="co">#  NORMAL EXIT MODES -</span>
025448,000038: 
025449,000039:                                                                                                  <span class="co">#  ASTRONAUT REQUEST TROUGH DSKY TO TERMINATE PROGRAM V34E</span>
025450,000040:                                                                                                  <span class="co">#  ALARM OR ABORT EXIT MODES -</span>
025451,000041: 
025452,000042:                                                                                                  <span class="co">#  NONE</span>
025453,000043:                                                                                                  <span class="co">#  OUTPUT -</span>
025454,000044: 
025455,000045:                                                                                                  <span class="co">#  OCTAL DISPLAY OF OPTION CODE AND VEHICLE WHOSE GROUND TRACK IS TO BE</span>
025456,000046:                                                                                                  <span class="co">#  COMPUTED</span>
025457,000047:                                                                                                  <span class="co">#        OPTION CODE     00002</span>
025458,000048:                                                                                                  <span class="co">#        THIS            00001</span>
025459,000049:                                                                                                  <span class="co">#        OTHER           00002</span>
025460,000050:                                                                                                  <span class="co">#  DECIMAL DISPLAY OF TIME TO BE INTEGRATED TO HOURS , MINUTES , SECONDS</span>
025461,000051:                                                                                                  <span class="co">#  DECIMAL DISPLAY OF LAT,LONG,ALT</span>
025462,000052: 
025463,000053:                                                                                                  <span class="co">#  ERASABLE INITIALIZATION REQUIRED</span>
025464,000054: 
025465,000055:                                                                                                  <span class="co">#  AX0           2DEC    4.652459653 E-5 RADIANS         %68-69 CONSTANTS"</span>
025466,000056: 
025467,000057:                                                                                                  <span class="co">#  -AY0          2DEC    2.147535898 E-5 RADIANS</span>
025468,000058: 
025469,000059:                                                                                                  <span class="co">#  AZ0           2DEC    .7753206164     REVOLUTIONS</span>
025470,000060:                                                                                                  <span class="co">#  FOR LUNAR ORBITS 504LM VECTOR IS NEEDED</span>
025471,000061: 
025472,000062:                                                                                                  <span class="co">#  504LM         2DEC    -2.700340600 E-5 RADIANS</span>
025473,000063: 
025474,000064:                                                                                                  <span class="co">#  504LM _2      2DEC    -7.514128400 E-4 RADIANS</span>
025475,000065: 
025476,000066:                                                                                                  <span class="co">#  504LM _4      2DEC    _2.553198641 E-4 RADIANS</span>
025477,000067: 
025478,000068:                                                                                                  <span class="co">#  NONE</span>
025479,000069:                                                                                                  <span class="co">#  DEBRIS</span>
025480,000070: 
025481,000071:                                                                                                  <span class="co">#  CENTRALS-A,Q,L</span>
025482,000072:                                                                                                  <span class="co">#  OTHER - THOSE USED BY THE ABOVE LISTED SUBROUTINES</span>
025483,000073:                                                                                                  <span class="co">#  SEE LEMPREC, LAT-LONG</span>
025484,000074: 
025485,000075: 34,3411  30,2000                                  <span class="ps">SBANK=  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F575355504552">LOWSUPER</a>                              <span class="co">#  FOR LOW 2CADR'S.</span>
025486,000076: 
025487,000077: 33,2000                                           <span class="ps">BANK    </span> 33                                    
025488,000078: 24,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#50323053">P20S</a>                                  
025489,000079: 24,2000                                           <span class="ps">BANK    </span>                                       
025490,000080: 
025491,000081: 24,3116  E7,1745                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
025492,000082: 24,3116                                           <span class="ps">COUNT*  </span> $$/<a href="ERASABLE_ASSIGNMENTS.agc.html#503231">P21</a>                                
<a name="50524F473231"></a>025493,000083: 24,3116           35026        <span class="sm">PROG21  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
025494,000084: 24,3117           55156                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E32">OPTION2</a>                               <span class="co">#  ASSUMED VEHICLE IS LM, R2 = 00001</span>
025495,000085: 24,3120           35025                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#  OPTION 2</span>
025496,000086: 24,3121           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
025497,000087: 24,3122           20542                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F5045524634">GOPERF4</a>                               
025498,000088: 24,3123           04106                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERMINATE</span>
025499,000089: 24,3124           03126                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED VALUE OF ASSUMED VEHICLE OK</span>
025500,000090: 24,3125           03120                           <span class="op">TC      </span> -5                                    <span class="co">#  R2 LOADED THROUGH DSKY</span>
<a name="50323150524F4731"></a>025501,000091: 24,3126           33217        <span class="sm">P21PROG1</span>           <span class="op">CAF     </span> <a href="#56364E3334">V6N34</a>                                 <span class="co">#  LOAD DESIRED TIME OF LAT-LONG.</span>
025502,000092: 24,3127           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
025503,000093: 24,3130           20406                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
025504,000094: 24,3131           04106                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERM</span>
025505,000095: 24,3132           03134                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED VALUES OK</span>
025506,000096: 24,3133           03126                           <span class="op">TC      </span> -5                                    <span class="co">#  TIME LOADED THROUGH DSKY</span>
025507,000097: 24,3134           06014                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
025508,000098: 24,3135           77745                           <span class="in">DLOAD   </span>                                       
025509,000099: 24,3136           01047                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#44535054454D31">DSPTEM1</a>                               
025510,000100: 24,3137           03746                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
025511,000101: 24,3140           45335                           <span class="in">SLOAD   </span> <span class="in">DSU       </span>                            
025512,000102: 24,3141           01157                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E32">OPTION2</a>                               
025513,000103: 24,3142           11215                                    <a href="#5032314F4E454E4E">P21ONENN</a>                              
025514,000104: 24,3143           71230                           <span class="in">BHIZ    </span> <span class="in">DLOAD     </span>                            
025515,000105: 24,3144           51157                                    <a href="#50323150524F4732">P21PROG2</a>                              <span class="co">#  VEHICLE TO BE INTEGRATED IS LEM</span>
025516,000106: 24,3145           03746                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               <span class="co">#  VEHICLE TO BE INTEGRATED IS CSM</span>
025517,000107: 24,3146           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  INTEGRATE TO TIME SPECIFIED IN TDEC</span>
025518,000108: 24,3147           27014                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4F544850524543">OTHPREC</a>                               <span class="co">#  ADJUST UNITS FOR LAT-LONG ROUTINE</span>
<a name="50323150524F4741"></a>025519,000109: 24,3150           46135        <span class="sm">P21PROGA</span>           <span class="in">SLOAD   </span> <span class="in">BHIZ      </span>                            
025520,000110: 24,3151           00050                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    
025521,000111: 24,3152           51165                                    <a href="#50323150524F4733">P21PROG3</a>                              
025522,000112: 24,3153           43175                           <span class="in">VLOAD   </span> <span class="in">SETGO     </span>                            
025523,000113: 24,3154           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
025524,000114: 24,3155           01423                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
025525,000115: 24,3156           51170                                    <a href="#50323150524F4734">P21PROG4</a>                              
<a name="50323150524F4732"></a>025526,000116: 24,3157           77745        <span class="sm">P21PROG2</span>           <span class="in">DLOAD   </span>                                       
025527,000117: 24,3160           03746                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
025528,000118: 24,3161           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
025529,000119: 24,3162           27030                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5448495350524543">THISPREC</a>                              
025530,000120: 24,3163           77650                           <span class="in">GOTO    </span>                                       
025531,000121: 24,3164           51150                                    <a href="#50323150524F4741">P21PROGA</a>                              
<a name="50323150524F4733"></a>025532,000122: 24,3165           43175        <span class="sm">P21PROG3</span>           <span class="in">VLOAD   </span> <span class="in">CLEAR     </span>                            
025533,000123: 24,3166           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
025534,000124: 24,3167           01663                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
<a name="50323150524F4734"></a>025535,000125: 24,3170           16034        <span class="sm">P21PROG4</span>           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
025536,000126: 24,3171           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
025537,000127: 24,3172           45014                           <span class="in">CLEAR   </span> <span class="in">CALL      </span>                            
025538,000128: 24,3173           00662                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              
025539,000129: 24,3174           26323                                    <a href="LATITUDE_LONGITUDE_SUBROUTINES.agc.html#4C41542D4C4F4E47">LAT-LONG</a>                              
025540,000130: 24,3175           77776                           <span class="in">EXIT    </span>                                       
025541,000131: 24,3176           33216                           <span class="op">CAF     </span> <a href="#5630364E3433">V06N43</a>                                <span class="co">#  DISPLAY LAT,LONG,ALT</span>
025542,000132: 24,3177           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  LAT,LONG = 1/2 REVS B0</span>
025543,000133: 24,3200           20406                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               <span class="co">#  ALT = KM B14</span>
025544,000134: 24,3201           04106                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              <span class="co">#  TERM</span>
025545,000135: 24,3202           04106                           <span class="op">TC      </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              
025546,000136: 24,3203           06014                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  V32E RECYCLE</span>
025547,000137: 24,3204           43345                           <span class="in">DLOAD   </span> <span class="in">DAD       </span>                            
025548,000138: 24,3205           03746                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50323154494D45">P21TIME</a>                               
025549,000139: 24,3206           11213                                    <a href="#363030534543">600SEC</a>                                <span class="co">#  600 SECONDS OR 10 MIN</span>
025550,000140: 24,3207           01047                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44535054454D31">DSPTEM1</a>                               
025551,000141: 24,3210           77634                           <span class="in">RTB     </span>                                       
025552,000142: 24,3211           51126                                    <a href="#50323150524F4731">P21PROG1</a>                              
<a name="363030534543"></a>025553,000143: 24,3212           00003 25140  <span class="sm">600SEC  </span>           <span class="ps">2DEC    </span> 60000      B-28                       <span class="co">#  10 MIN</span>
025554,000144: 
<a name="5032314F4E454E4E"></a>025555,000145: 24,3214           00001        <span class="sm">P21ONENN</span>           <span class="ps">OCT     </span> 00001                                 <span class="co">#  NEEDED TO DETERMINE VEHICLE</span>
025556,000146: 24,3215           00000                           <span class="ps">OCT     </span> 00000                                 <span class="co">#  TO BE INTEGRATED</span>
<a name="5630364E3433"></a>025557,000147: 24,3216           01453        <span class="sm">V06N43  </span>           <span class="ps">VN      </span> 00643                                 
<a name="56364E3334"></a>025558,000148: 24,3217           01442        <span class="sm">V6N34   </span>           <span class="ps">VN      </span> 00634                                 
025559,000149: 
025560,000150: 

End of include-file GROUND_TRACKING_DETERMINATION_PROGRAM_-_P21.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
