<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
This source code is very close to the Apollo Guidance Computer software for the 
Apollo 13 Lunar module.  This revision of the Luminary 131 program is from December
of 1969, whereas there was a later revision in January of 1970, and still another
revision in February, which is the code that flew on the mission.
As far as this transcription is concerned, it was originally from a copy made in 1991 of 
a printout from the collection of AGC developer Don Eyles for collector David Craig.
It was subsequently scanned by Gary Neff, reprocessed for online 
presentation at the now-discontinued History of Recent Science and Technology (HRST) website
of MIT's Dibner Institute (the full-quality scans being discarded in the process),
and finally transcribed by Ron Burkey for the Virtual AGC Project.  Although a
high-quality replacement scan for a completely illegible page was later provided by Gary
Neff, the reduced legibility of the reprocessed HRST posting nevertheless caused many 
errors to be introduced into the transcription.  Accordingly, a second scan of the same physical
printout was made in 2017 for the Virtual AGC Project's collection at the Internet Archive,
and used to correct the transcription errors. All of the scanned materials mentioned,
as well as other Luminary 131 related material, are <a href="../../Luminary.html#Luminary131">available online</a>.
Don Eyles apprently made additional hand-written notes in printout between 1991 and 2017,
so the two scans are not identical in that respect. The page-headings in the printout read, in part:<br>
<pre>
	GAP:  ASSEMBLE REVISION 131 OF AGC PROGRAM LUMINARY BY NASA 2021112-091
	17:53 DEC. 19, 1969
</pre>
Note that the date is the date the printout was made, not the date on which the program
revision was released, although these happen to be very close together.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
062110,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
062111,000003:                                                                                                  <span class="co">## Filename:    KALMAN_FILTER.agc</span>
062112,000004:                                                                                                  <span class="co">## Purpose:     A section of Luminary 1C, revision 131.</span>
062113,000005:                                                                                                  <span class="co">##              It is part of the source code for the Lunar Module's (LM)</span>
062114,000006:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 13.</span>
062115,000007:                                                                                                  <span class="co">##              This file is intended to be a faithful transcription, except</span>
062116,000008:                                                                                                  <span class="co">##              that the code format has been changed to conform to the</span>
062117,000009:                                                                                                  <span class="co">##              requirements of the yaYUL assembler rather than the</span>
062118,000010:                                                                                                  <span class="co">##              original YUL assembler.</span>
062119,000011:                                                                                                  <span class="co">## Reference:   pp. 1462-1463</span>
062120,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
062121,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
062122,000014:                                                                                                  <span class="co">## Mod history: 06/08/03 RSB.   Began transcribing.</span>
062123,000015:                                                                                                  <span class="co">##              05/14/05 RSB    Corrected website reference above</span>
062124,000016:                                                                                                  <span class="co">##              2017-01-06 RSB  Page numbers now agree with those on the</span>
062125,000017:                                                                                                  <span class="co">##                              original hardcopy, as opposed to the PDF page</span>
062126,000018:                                                                                                  <span class="co">##                              numbers in 1701.pdf.</span>
062127,000019:                                                                                                  <span class="co">##              2017-02-28 RSB  Proofed comment text using octopus/ProoferComments.</span>
062128,000020: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1462
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
062130,000022: 17,3777  E6,1522                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4E4F2E554A455453">NO.UJETS</a>                              
062131,000023: 16,3645                                           <span class="ps">BANK    </span> 16                                    
062132,000024: 16,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4441505331">DAPS1</a>                                 
062133,000025: 16,2000                                           <span class="ps">BANK    </span>                                       
062134,000026: 
062135,000027: 16,3645                                           <span class="ps">COUNT*  </span> $$/DAP                                
062136,000028: 
<a name="524154454C4F4F50"></a>062137,000029: 16,3645           34752        <span class="sm">RATELOOP</span>           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#54574F">TWO</a>                                   
062138,000030: 16,3646           55743                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062139,000031: 16,3647           60000                           <span class="op">DOUBLE  </span>                                       
062140,000032: 16,3650           54002                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
062141,000033: 16,3651           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062142,000034: 16,3652           11524                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544A50">TJP</a>                                   
062143,000035: 16,3653           13655                           <span class="op">TCF     </span> +2                                    
062144,000036: 16,3654           13674                           <span class="op">TCF     </span> <a href="#4C4F4F5052415445">LOOPRATE</a>                              
062145,000037: 16,3655           63735                           <span class="op">AD      </span> <a href="#2D3130304D535436">-100MST6</a>                              
062146,000038: 16,3656           00006                           <span class="op">EXTEND  </span>                                       
062147,000039: 16,3657           63713                           <span class="op">BZMF    </span> <a href="#534D414C4C544A55">SMALLTJU</a>                              
062148,000040: 16,3660           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062149,000041: 16,3661           11524                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544A50">TJP</a>                                   
062150,000042: 16,3662           33735                           <span class="op">CA      </span> <a href="#2D3130304D535436">-100MST6</a>                              
062151,000043: 16,3663           13665                           <span class="op">TCF     </span> +2                                    
062152,000044: 16,3664           43735                           <span class="op">CS      </span> <a href="#2D3130304D535436">-100MST6</a>                              
062153,000045: 16,3665           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062154,000046: 16,3666           27524                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544A50">TJP</a>                                   
062155,000047: 16,3667           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062156,000048: 16,3670           11524                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544A50">TJP</a>                                   
062157,000049: 16,3671           43621                           <span class="op">CS      </span> <a href="P-AXIS_RCS_AUTOPILOT.agc.html#2D3130304D53">-100MS</a>                                <span class="co">#  0.1 AT 1</span>
062158,000050: 16,3672           13674                           <span class="op">TCF     </span> +2                                    
062159,000051: 16,3673           33621                           <span class="op">CA      </span> <a href="P-AXIS_RCS_AUTOPILOT.agc.html#2D3130304D53">-100MS</a>                                
<a name="4C4F4F5052415445"></a>062160,000052: 16,3674           00006        <span class="sm">LOOPRATE</span>           <span class="op">EXTEND  </span>                                       
062161,000053: 16,3675           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062162,000054: 16,3676           71521                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4E4F2E504A455453">NO.PJETS</a>                              
062163,000055: 16,3677           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
062164,000056: 16,3700           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062165,000057: 16,3701           55736                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5031">DAPTEMP1</a>                              <span class="co">#  SIGNED TORQUE AT 1 JET-SEC FOR FILTER</span>
062166,000058: 16,3702           00006                           <span class="op">EXTEND  </span>                                       
062167,000059: 16,3703           74742                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543130">BIT10</a>                                 <span class="co">#  RESCALE TO 32; ONE BIT ABOUT 2 JET-MSEC</span>
062168,000060: 16,3704           00006                           <span class="op">EXTEND  </span>                                       
062169,000061: 16,3705           63736                           <span class="op">BZMF    </span> <a href="#4E4547544F524B">NEGTORK</a>                               
<a name="53544F52544F524B"></a>062170,000062: 16,3706           50002        <span class="sm">STORTORK</span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  INCREMENT DOWNLIST REGISTER.</span>
062171,000063: 16,3707           27513                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#444F574E544F524B">DOWNTORK</a>                              <span class="co">#        NOTE:  NOT INITIALIZED; OVERFLOWS.</span>
062172,000064: 
062173,000065: 16,3710           11743                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062174,000066: 16,3711           13646                           <span class="op">TCF     </span> <a href="#524154454C4F4F50">RATELOOP</a>   +1                         
062175,000067: 16,3712           13722                           <span class="op">TCF     </span> <a href="#524F544F52515545">ROTORQUE</a>                              
<a name="534D414C4C544A55"></a>062176,000068: 16,3713           34755        <span class="sm">SMALLTJU</span>           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
062177,000069: 16,3714           51743                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5036">DAPTEMP6</a>                              
062178,000070: 16,3715           57524                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544A50">TJP</a>                                   
062179,000071: 16,3716           00006                           <span class="op">EXTEND  </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1463
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
062181,000073: 16,3717           74760                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#454C4556454E">ELEVEN</a>                                <span class="co">#  10.24 PLUS</span>
062182,000074: 16,3720           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
062183,000075: 16,3721           13674                           <span class="op">TCF     </span> <a href="#4C4F4F5052415445">LOOPRATE</a>                              
<a name="524F544F52515545"></a>062184,000076: 16,3722           31737        <span class="sm">ROTORQUE</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5032">DAPTEMP2</a>                              
062185,000077: 16,3723           61740                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5033">DAPTEMP3</a>                              
062186,000078: 16,3724           00006                           <span class="op">EXTEND  </span>                                       
062187,000079: 16,3725           71532                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#314A41434352">1JACCR</a>                                
062188,000080: 16,3726           55746                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4A45545241544552">JETRATER</a>                              
062189,000081: 16,3727           41740                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5033">DAPTEMP3</a>                              
062190,000082: 16,3730           61737                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44415054454D5032">DAPTEMP2</a>                              
062191,000083: 16,3731           00006                           <span class="op">EXTEND  </span>                                       
062192,000084: 16,3732           71531                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#314A41434351">1JACCQ</a>                                
062193,000085: 16,3733           55745                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4A45545241544551">JETRATEQ</a>                              
062194,000086: 16,3734           12316                           <span class="op">TCF     </span> <a href="P-AXIS_RCS_AUTOPILOT.agc.html#4241434B50">BACKP</a>                                 
<a name="2D3130304D535436"></a>062195,000087: 16,3735           77537        <span class="sm">-100MST6</span>           <span class="ps">DEC     </span> -160       B-14                       
062196,000088: 
<a name="4E4547544F524B"></a>062197,000089: 16,3736           40000        <span class="sm">NEGTORK </span>           <span class="op">COM     </span>                                       
062198,000090: 16,3737           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
062199,000091: 16,3740           13706                           <span class="op">TCF     </span> <a href="#53544F52544F524B">STORTORK</a>                              
062200,000092: 
062201,000093: 

End of include-file KALMAN_FILTER.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
