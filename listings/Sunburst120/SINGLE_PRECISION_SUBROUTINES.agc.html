<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were transcribed from scans made from Don Eyles's personal
copy of BURST120 (SUNBURST 120).  They were scanned at archive.org's Boston 
facility, and the scanning was sponsored by Mike Stewart.  The code was transcribed
from these scans by a team of volunteers who are referenced in the program 
comments.  Comments from the original source code are in ALL-CAPS, whereas 
comments added later in transcription are in Mixed-Case.  In some cases, where
similar code blocks exist in previously-transcribed AGC programs (primarily
Luminary 99, from Apollo 11) those code blocks were used as a starting point and
then corrected to agree with the BURST120 scans.  The full scans are available
at <a href="http://www.archive.org/details/virtualagcproject/">the Virtual AGC
project's collection at archive.org</a>, while more-convenient reduced-size (but reduced-quality)
images are available at <a href="http://www.ibiblio.org/apollo/ScansForConversion/Sunburst120/">
the main Virtual AGC website</a>.  Report any errors noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>. Notations on the program listing read, in part:<br>
<br>
<pre>
	YUL SYSTEM FOR AGC: REVISION 0 OF PROGRAM BURST120 
	BY NASA 2021106-031 DEC 7, 1967

	THIS LISTING IS A COPY OF A VERSION OF THE PROGRAM INTENDED 
	FOR USE IN THE ON-BOARD PRIMARY GUIDANCE COMPUTER IN THE 
	UNMANNED FLIGHT OF APOLLO LUNAR MODULE 1 --- THE AS206 MISSION.
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
044029,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
044030,000003:                                                                                                  <span class="co">## Filename:    SINGLE_PRECISION_SUBROUTINES.agc</span>
044031,000004:                                                                                                  <span class="co">## Purpose:     A module for revision 0 of BURST120 (Sunburst). It </span>
044032,000005:                                                                                                  <span class="co">##              is part of the source code for the Lunar Module's</span>
044033,000006:                                                                                                  <span class="co">##              (LM) Apollo Guidance Computer (AGC) for Apollo 5.</span>
044034,000007:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
044035,000008:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
044036,000009:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
044037,000010:                                                                                                  <span class="co">## Mod history: 2016-09-30 RSB  Created draft version.</span>
044038,000011:                                                                                                  <span class="co">##              2016-10-19 RSB  Transcribed ... I think it's identical to the </span>
044039,000012:                                                                                                  <span class="co">##                              Aurora 12 version.</span>
044040,000013:                                                                                                  <span class="co">##              2016-12-06 RSB  Comments proofed using octopus/ProoferComments,</span>
044041,000014:                                                                                                  <span class="co">##                              no changes made.</span>
044042,000015: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1046
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
044044,000017:    5354                                           <span class="ps">BLOCK   </span> 02                                    
044045,000018:                                                                                                  <span class="co">#  SINGLE PRECISION SINE AND COSINE</span>
044046,000019: 
<a name="5350434F53"></a>044047,000020:    5354           67746        <span class="sm">SPCOS   </span>           <span class="op">AD      </span> <a href="INTERPRETER.agc.html#48414C46">HALF</a>                                  <span class="co">#  ARGUMENTS SCALED AT PI</span>
<a name="535053494E"></a>044048,000021:    5355           55130        <span class="sm">SPSIN   </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044049,000022:    5356           15360                           <span class="op">TCF     </span> <a href="#535054">SPT</a>                                   
044050,000023:    5357           41130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
<a name="535054"></a>044051,000024:    5360           60000        <span class="sm">SPT     </span>           <span class="op">DOUBLE  </span>                                       
044052,000025:    5361           55130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044053,000026:    5362           15373                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
044054,000027:    5363           57130                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044055,000028:    5364           51130                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044056,000029:    5365           67744                           <span class="op">AD      </span> <a href="INTERPRETER.agc.html#4C494D495453">LIMITS</a>                                
044057,000030:    5366           40000                           <span class="op">COM     </span>                                       
044058,000031:    5367           61130                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044059,000032:    5370           55130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044060,000033:    5371           15373                           <span class="op">TCF     </span> <a href="#504F4C4C4559">POLLEY</a>                                
044061,000034:    5372           15411                           <span class="op">TCF     </span> <a href="#4152473930">ARG90</a>                                 
<a name="504F4C4C4559"></a>044062,000035:    5373           00006        <span class="sm">POLLEY  </span>           <span class="op">EXTEND  </span>                                       
044063,000036:    5374           71130                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044064,000037:    5375           55131                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
044065,000038:    5376           00006                           <span class="op">EXTEND  </span>                                       
044066,000039:    5377           75416                           <span class="op">MP      </span> <a href="#43352F32">C5/2</a>                                  
044067,000040:    5400           65415                           <span class="op">AD      </span> <a href="#43332F32">C3/2</a>                                  
044068,000041:    5401           00006                           <span class="op">EXTEND  </span>                                       
044069,000042:    5402           71131                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5351">SQ</a>                                    
044070,000043:    5403           65414                           <span class="op">AD      </span> <a href="#43312F32">C1/2</a>                                  
044071,000044:    5404           00006                           <span class="op">EXTEND  </span>                                       
044072,000045:    5405           71130                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044073,000046:    5406           20001                           <span class="op">DDOUBL  </span>                                       
044074,000047:    5407           55130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54454D4B">TEMK</a>                                  
044075,000048:    5410           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
<a name="4152473930"></a>044076,000049:    5411           50000        <span class="sm">ARG90   </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
044077,000050:    5412           47744                           <span class="op">CS      </span> <a href="INTERPRETER.agc.html#4C494D495453">LIMITS</a>                                
044078,000051:    5413           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RESULT SCALED AT 1</span>
<a name="43312F32"></a>044079,000052:    5414           31103        <span class="sm">C1/2    </span>           <span class="ps">DEC     </span> .7853134                              
<a name="43332F32"></a>044080,000053:    5415           65552        <span class="sm">C3/2    </span>           <span class="ps">DEC     </span> -.3216146                             
<a name="43352F32"></a>044081,000054:    5416           01124        <span class="sm">C5/2    </span>           <span class="ps">DEC     </span> .0363551                              
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1047
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
044083,000056:                                                                                                  <span class="co">#  ENTER WITH ARGUMENT IN A, EXIT WITH ROOT IN A.  IF GIVEN A NEGATIVE ARGUMENT, THE RETURN SKIPS WITH CCS RESULT.</span>
044084,000057:                                                                                                  <span class="co">#  MINUS ZERO RETURNS LIKE PLUS ZERO.</span>
044085,000058:                                                                                                  <span class="co">#  MAXIMUM ERROR IN ANSWER IS NO GREATER THAN 2 BITS.</span>
044086,000059:                                                                                                  <span class="co">#  INTERRUPT PROGRAMS USING SPROOT MUST SAVE AND RESTORE SR.</span>
044087,000060: 
044088,000061: 
044089,000062: 
<a name="5350524F4F54"></a>044090,000063:    5417           55132        <span class="sm">SPROOT  </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ENTER WITH C(A) = Y</span>
044091,000064:    5420           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
044092,000065:    5421           15425                           <span class="op">TCF     </span> <a href="#504F53415247">POSARG</a>                                <span class="co">#  IF PNZ, CONTINUE</span>
044093,000066:    5422           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR +0</span>
044094,000067:    5423           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
044095,000068:    5424           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN WITH 0 FOR -0</span>
044096,000069: 
<a name="504F53415247"></a>044097,000070:    5425           00006        <span class="sm">POSARG  </span>           <span class="op">EXTEND  </span>                                       
044098,000071:    5426           23131                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  WILL BE CALLING SPROOT1</span>
044099,000072:    5427           65504                           <span class="op">AD      </span> <a href="#36332F36342B31">63/64+1</a>                               <span class="co">#  B(A) = Y - 1</span>
044100,000073:    5430           54000                           <span class="op">OVSK    </span>                                       
044101,000074:    5431           15473                           <span class="op">TCF     </span> <a href="#5350524F4F5432">SPROOT2</a>                               
044102,000075:    5432           57132                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  ARG JUGGLING</span>
044103,000076: 
<a name="5350524F4F5433"></a>044104,000077:    5433           55132        <span class="sm">SPROOT3 </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
044105,000078:    5434           54021                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(A) = Y</span>
044106,000079:    5435           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  (LOSE 1 BIT)</span>
044107,000080:    5436           55130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  HALFY = Y/2</span>
044108,000081:    5437           65502                           <span class="op">AD      </span> <a href="#2D312F38">-1/8</a>                                  <span class="co">#  FORM Y/2 - 1/8</span>
044109,000082:    5440           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  TEST FOR FIRST GUESS</span>
044110,000083:    5441           65503                           <span class="op">AD      </span> <a href="#352F382B31">5/8+1</a>                                 <span class="co">#  Y .G. 1/4, X = Y/2 + 1/2</span>
044111,000084:    5442           05447                           <span class="op">TC      </span> <a href="#48494755455353">HIGUESS</a>                               <span class="co">#  +0 IMPOSSIBLE FROM ADDITION</span>
044112,000085:    5443           15444                           <span class="op">NOOP    </span>                                       <span class="co">#  Y .LE. 1/4, X/2 = Y + 1/16</span>
044113,000086:    5444           37751                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#4249543131">BIT11</a>                                 <span class="co">#  1/16</span>
044114,000087:    5445           61132                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                <span class="co">#  SQRARG = Y</span>
044115,000088:    5446           60000                           <span class="op">DOUBLE  </span>                                       <span class="co">#  X FROM X/2</span>
<a name="48494755455353"></a>044116,000089:    5447           05462        <span class="sm">HIGUESS </span>           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               
044117,000090:    5450           05462                           <span class="op">TC      </span> <a href="#5350524F4F5431">SPROOT1</a>                               <span class="co">#  ITERATE TWICE</span>
044118,000091:    5451           57131                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SAVE ANSWER AND GET Q</span>
044119,000092:    5452           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
044120,000093:    5453           57131                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  NO SHIFT NEEDED</span>
044121,000094:    5454           05460                           <span class="op">TC      </span> <a href="#524F4F5442434B">ROOTBCK</a>                               
044122,000095:    5455           57131                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  Q NEG, SHIFT RIGHT THREE</span>
044123,000096:    5456           00006                           <span class="op">EXTEND  </span>                                       
044124,000097:    5457           77750                           <span class="op">MP      </span> <a href="INTERPRETER.agc.html#4249543132">BIT12</a>                                 <span class="co">#  EXP -3</span>
<a name="524F4F5442434B"></a>044125,000098:    5460           51131        <span class="sm">ROOTBCK </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  ROOTRET = Q - 1</span>
044126,000099:    5461           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN, C(A) = SQRT(Y)</span>
044127,000100: 
<a name="5350524F4F5431"></a>044128,000101:    5462           56021        <span class="sm">SPROOT1 </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  SR = X/2</span>
044129,000102:    5463           41130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#48414C4659">HALFY</a>                                 <span class="co">#  NEWTON ITER  X = X/2 + (Y/2 / X/2) / 2</span>
044130,000103:    5464           22007                           <span class="op">ZL      </span>                                       
044131,000104:    5465           00006                           <span class="op">EXTEND  </span>                                       
044132,000105:    5466           10021                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    <span class="co">#  C(SR) = X/2 DV DOES NOT EDIT</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1048
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
044134,000107:    5467           56021                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
044135,000108:    5470           00006                           <span class="op">EXTEND  </span>                                       
044136,000109:    5471           60021                           <span class="op">SU      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5352">SR</a>                                    
044137,000110:    5472           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  C(A) = X (NEXT)</span>
044138,000111: 
<a name="5350524F4F5432"></a>044139,000112:    5473           41131        <span class="sm">SPROOT2 </span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               <span class="co">#  SET RETURN Q NEG, AS FLAG</span>
044140,000113:    5474           55131                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4F54524554">ROOTRET</a>                               
044141,000114:    5475           37755                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#42495437">BIT7</a>                                  <span class="co">#  SHIFT FOR SIGNIFCANCE</span>
044142,000115:    5476           00006                           <span class="op">EXTEND  </span>                                       
044143,000116:    5477           71132                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#535152415247">SQRARG</a>                                
044144,000117:    5500           30001                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  B(A) = 0</span>
044145,000118:    5501           05433                           <span class="op">TC      </span> <a href="#5350524F4F5433">SPROOT3</a>                               
044146,000119: 
<a name="2D312F38"></a>044147,000120:    5502           73777        <span class="sm">-1/8    </span>           <span class="ps">OCTAL   </span> 73777                                 
<a name="352F382B31"></a>044148,000121:    5503           24001        <span class="sm">5/8+1   </span>           <span class="ps">OCTAL   </span> 24001                                 
<a name="36332F36342B31"></a>044149,000122:    5504           37401        <span class="sm">63/64+1 </span>           <span class="ps">OCTAL   </span> 37401                                 
044150,000123: 

End of include-file SINGLE_PRECISION_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
